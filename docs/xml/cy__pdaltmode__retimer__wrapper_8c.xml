<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.14">
  <compounddef id="cy__pdaltmode__retimer__wrapper_8c" kind="file" language="C++">
    <compoundname>cy_pdaltmode_retimer_wrapper.c</compoundname>
    <includes refid="cy__pdaltmode__defines_8h" local="yes">cy_pdaltmode_defines.h</includes>
    <includes local="yes">cy_pdutils.h</includes>
    <includes local="yes">cy_pdaltmode_retimer_wrapper.h</includes>
    <includes refid="cy__pdaltmode__timer__id_8h" local="yes">cy_pdaltmode_timer_id.h</includes>
    <incdepgraph>
      <node id="51">
        <label>cy_pdutils.h</label>
      </node>
      <node id="50">
        <label>cy_pdaltmode_retimer_wrapper.c</label>
        <link refid="cy__pdaltmode__retimer__wrapper_8c"/>
        <childnode refid="51" relation="include">
        </childnode>
        <childnode refid="52" relation="include">
        </childnode>
      </node>
      <node id="52">
        <label>cy_pdaltmode_retimer_wrapper.h</label>
      </node>
    </incdepgraph>
    <innerclass refid="structretimer__t" prot="public">retimer_t</innerclass>
      <sectiondef kind="define">
      <memberdef kind="define" id="cy__pdaltmode__retimer__wrapper_8c_1a414bc1c41b79189d64d1da3766360ceb" prot="public" static="no">
        <name>CY_PDALTMODE_RETIMERWRAPPER_PIN_UNIT</name>
        <initializer>(0xFFU)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_retimer_wrapper.c" line="28" column="9" bodyfile="cy_pdaltmode_retimer_wrapper.c" bodystart="28" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="var">
      <memberdef kind="variable" id="cy__pdaltmode__retimer__wrapper_8c_1ac1320e37d38c6a147d11cf98fc8da7e9" prot="public" static="yes" mutable="no">
        <type>retimer_t</type>
        <definition>retimer_t retimer[NO_OF_TYPEC_PORTS]</definition>
        <argsstring>[NO_OF_TYPEC_PORTS]</argsstring>
        <name>retimer</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_retimer_wrapper.c" line="38" column="1" bodyfile="cy_pdaltmode_retimer_wrapper.c" bodystart="38" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="cy__pdaltmode__retimer__wrapper_8c_1ae4d9351f3df6982900cbbba74c7ddbdd" prot="public" static="yes" mutable="no">
        <type>cy_stc_pdaltmode_retimerwrapper_cbk_t *</type>
        <definition>cy_stc_pdaltmode_retimerwrapper_cbk_t* rtmrCtrlFn</definition>
        <argsstring></argsstring>
        <name>rtmrCtrlFn</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_retimer_wrapper.c" line="40" column="1" bodyfile="cy_pdaltmode_retimer_wrapper.c" bodystart="40" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="cy__pdaltmode__retimer__wrapper_8c_1a94bc85699456fb017296d2eef1c105a9" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void Cy_PdAltMode_RetimerWrapper_Init</definition>
        <argsstring>(cy_stc_pdstack_context_t *ptrPdStackContext)</argsstring>
        <name>Cy_PdAltMode_RetimerWrapper_Init</name>
        <param>
          <type>cy_stc_pdstack_context_t *</type>
          <declname>ptrPdStackContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_retimer_wrapper.c" line="43" column="1" bodyfile="cy_pdaltmode_retimer_wrapper.c" bodystart="43" bodyend="52"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__retimer__wrapper_8c_1a3e4ee760a89f782976cf84ccbe09d3fc" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void Cy_PdAltMode_RetimerWrapper_DeInit</definition>
        <argsstring>(void *ptrContext)</argsstring>
        <name>Cy_PdAltMode_RetimerWrapper_DeInit</name>
        <param>
          <type>void *</type>
          <declname>ptrContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_retimer_wrapper.c" line="55" column="1" bodyfile="cy_pdaltmode_retimer_wrapper.c" bodystart="55" bodyend="73"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__retimer__wrapper_8c_1a85ae700dc133282911db2b60759cfc91" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_RetimerWrapper_ActivateCbk</definition>
        <argsstring>(cy_timer_id_t id, void *ptrContext)</argsstring>
        <name>Cy_PdAltMode_RetimerWrapper_ActivateCbk</name>
        <param>
          <type>cy_timer_id_t</type>
          <declname>id</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>ptrContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_retimer_wrapper.c" line="76" column="1" bodyfile="cy_pdaltmode_retimer_wrapper.c" bodystart="76" bodyend="86"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__retimer__wrapper_8c_1a8f623c855194f3f875705e22652aa8aa" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_RetimerWrapper_RstEnCbk</definition>
        <argsstring>(cy_timer_id_t id, void *ptrContext)</argsstring>
        <name>Cy_PdAltMode_RetimerWrapper_RstEnCbk</name>
        <param>
          <type>cy_timer_id_t</type>
          <declname>id</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>ptrContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_retimer_wrapper.c" line="89" column="1" bodyfile="cy_pdaltmode_retimer_wrapper.c" bodystart="89" bodyend="102"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__retimer__wrapper_8c_1a611cc6c7a174267843ee7ae00120be33" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_RetimerWrapper_EnableCbk</definition>
        <argsstring>(cy_timer_id_t id, void *ptrContext)</argsstring>
        <name>Cy_PdAltMode_RetimerWrapper_EnableCbk</name>
        <param>
          <type>cy_timer_id_t</type>
          <declname>id</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>ptrContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_retimer_wrapper.c" line="105" column="1" bodyfile="cy_pdaltmode_retimer_wrapper.c" bodystart="105" bodyend="132"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__retimer__wrapper_8c_1ad8c987ce7377dc0de8f78dc00e9a7f1a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void Cy_PdAltMode_RetimerWrapper_Enable</definition>
        <argsstring>(void *ptrContext, bool delayEn, uint8_t forceEn)</argsstring>
        <name>Cy_PdAltMode_RetimerWrapper_Enable</name>
        <param>
          <type>void *</type>
          <declname>ptrContext</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>delayEn</declname>
        </param>
        <param>
          <type>uint8_t</type>
          <declname>forceEn</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_retimer_wrapper.c" line="135" column="1" bodyfile="cy_pdaltmode_retimer_wrapper.c" bodystart="135" bodyend="174"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__retimer__wrapper_8c_1a63ccdded759c8171bfcb2c2097f324a6" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_RetimerWrapper_DisableCbk</definition>
        <argsstring>(cy_timer_id_t id, void *ptrContext)</argsstring>
        <name>Cy_PdAltMode_RetimerWrapper_DisableCbk</name>
        <param>
          <type>cy_timer_id_t</type>
          <declname>id</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>ptrContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_retimer_wrapper.c" line="177" column="1" bodyfile="cy_pdaltmode_retimer_wrapper.c" bodystart="177" bodyend="200"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__retimer__wrapper_8c_1aeca4f43c74128c249651d40b28becf36" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_RetimerWrapper_DisableReqCbk</definition>
        <argsstring>(cy_timer_id_t id, void *ptrContext)</argsstring>
        <name>Cy_PdAltMode_RetimerWrapper_DisableReqCbk</name>
        <param>
          <type>cy_timer_id_t</type>
          <declname>id</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>ptrContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_retimer_wrapper.c" line="203" column="1" bodyfile="cy_pdaltmode_retimer_wrapper.c" bodystart="203" bodyend="210"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__retimer__wrapper_8c_1a16b718d1152c94939043352d095e63a4" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_RetimerWrapper_DisableCbkWithDelay</definition>
        <argsstring>(cy_timer_id_t id, void *ptrContext)</argsstring>
        <name>Cy_PdAltMode_RetimerWrapper_DisableCbkWithDelay</name>
        <param>
          <type>cy_timer_id_t</type>
          <declname>id</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>ptrContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_retimer_wrapper.c" line="213" column="1" bodyfile="cy_pdaltmode_retimer_wrapper.c" bodystart="213" bodyend="235"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__retimer__wrapper_8c_1aaa4f5a3b41d816a7afcbb9558517a488" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void Cy_PdAltMode_RetimerWrapper_Reset</definition>
        <argsstring>(void *ptrContext)</argsstring>
        <name>Cy_PdAltMode_RetimerWrapper_Reset</name>
        <param>
          <type>void *</type>
          <declname>ptrContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_retimer_wrapper.c" line="238" column="1" bodyfile="cy_pdaltmode_retimer_wrapper.c" bodystart="238" bodyend="255"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__retimer__wrapper_8c_1a577b5a89cef476cfdaac03fb827813d7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void Cy_PdAltMode_RetimerWrapper_Disable</definition>
        <argsstring>(void *ptrContext, bool delayEnable)</argsstring>
        <name>Cy_PdAltMode_RetimerWrapper_Disable</name>
        <param>
          <type>void *</type>
          <declname>ptrContext</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>delayEnable</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_retimer_wrapper.c" line="258" column="1" bodyfile="cy_pdaltmode_retimer_wrapper.c" bodystart="258" bodyend="317"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__retimer__wrapper_8c_1a65f0a0d3af6352d747eff2ffa04323e8" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool Cy_PdAltMode_RetimerWrapper_IsVsysPresent</definition>
        <argsstring>(uint8_t port)</argsstring>
        <name>Cy_PdAltMode_RetimerWrapper_IsVsysPresent</name>
        <param>
          <type>uint8_t</type>
          <declname>port</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_retimer_wrapper.c" line="320" column="1" bodyfile="cy_pdaltmode_retimer_wrapper.c" bodystart="320" bodyend="324"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__retimer__wrapper_8c_1ac85655dc0725d79288dad78687bf329c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool Cy_PdAltMode_RetimerWrapper_IsActive</definition>
        <argsstring>(uint8_t port)</argsstring>
        <name>Cy_PdAltMode_RetimerWrapper_IsActive</name>
        <param>
          <type>uint8_t</type>
          <declname>port</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_retimer_wrapper.c" line="327" column="1" bodyfile="cy_pdaltmode_retimer_wrapper.c" bodystart="327" bodyend="330"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__retimer__wrapper_8c_1a04337503aee82cf83ad3753b2ab675d1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void Cy_PdAltMode_RetimerWrapper_Task</definition>
        <argsstring>(void *ptrContext)</argsstring>
        <name>Cy_PdAltMode_RetimerWrapper_Task</name>
        <param>
          <type>void *</type>
          <declname>ptrContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_retimer_wrapper.c" line="333" column="1" bodyfile="cy_pdaltmode_retimer_wrapper.c" bodystart="333" bodyend="378"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__retimer__wrapper_8c_1add8f285401753179bd776a08c4c837df" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void Cy_PdAltMode_RetimerWrapper_Update</definition>
        <argsstring>(void *ptrContext)</argsstring>
        <name>Cy_PdAltMode_RetimerWrapper_Update</name>
        <param>
          <type>void *</type>
          <declname>ptrContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_retimer_wrapper.c" line="381" column="1" bodyfile="cy_pdaltmode_retimer_wrapper.c" bodystart="381" bodyend="455"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__retimer__wrapper_8c_1acccbe2207277d64caa22cbeb9a88af5a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool Cy_PdAltMode_RetimerWrapper_SetMux</definition>
        <argsstring>(void *ptrContext, cy_en_pdaltmode_mux_select_t mux_cfg, uint32_t mode_vdo, uint32_t customData, uint8_t forceUpdt)</argsstring>
        <name>Cy_PdAltMode_RetimerWrapper_SetMux</name>
        <param>
          <type>void *</type>
          <declname>ptrContext</declname>
        </param>
        <param>
          <type><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1ga6e2d96963afcf43ec5dfe3d5a18d6bc6" kindref="member">cy_en_pdaltmode_mux_select_t</ref></type>
          <declname>mux_cfg</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>mode_vdo</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>customData</declname>
        </param>
        <param>
          <type>uint8_t</type>
          <declname>forceUpdt</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_retimer_wrapper.c" line="458" column="1" bodyfile="cy_pdaltmode_retimer_wrapper.c" bodystart="458" bodyend="477"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__retimer__wrapper_8c_1a2a2bb3f53f9eb0035c60c15f07ae11d4" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool Cy_PdAltMode_RetimerWrapper_SleepAllowed</definition>
        <argsstring>(cy_stc_pdstack_context_t *ptrPdStackContext)</argsstring>
        <name>Cy_PdAltMode_RetimerWrapper_SleepAllowed</name>
        <param>
          <type>cy_stc_pdstack_context_t *</type>
          <declname>ptrPdStackContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_retimer_wrapper.c" line="480" column="1" bodyfile="cy_pdaltmode_retimer_wrapper.c" bodystart="480" bodyend="483"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__retimer__wrapper_8c_1a5ac050a64299f3f9138b7a2835197358" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool Cy_PdAltMode_RetimerWrapper_IsBusy</definition>
        <argsstring>(cy_stc_pdstack_context_t *ptrPdStackContext)</argsstring>
        <name>Cy_PdAltMode_RetimerWrapper_IsBusy</name>
        <param>
          <type>cy_stc_pdstack_context_t *</type>
          <declname>ptrPdStackContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_retimer_wrapper.c" line="486" column="1" bodyfile="cy_pdaltmode_retimer_wrapper.c" bodystart="486" bodyend="508"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__retimer__wrapper_8c_1ae651bec7fb168a30d95d5ecf456d7c0e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void Cy_PdAltMode_RetimerWrapper_HandleVsysChange</definition>
        <argsstring>(uint8_t port, bool present)</argsstring>
        <name>Cy_PdAltMode_RetimerWrapper_HandleVsysChange</name>
        <param>
          <type>uint8_t</type>
          <declname>port</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>present</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_retimer_wrapper.c" line="511" column="1" bodyfile="cy_pdaltmode_retimer_wrapper.c" bodystart="511" bodyend="514"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para>Retimer I2C Master wrapper functions. </para>    </briefdescription>
    <detaileddescription>
<para><simplesect kind="version"><para>1.0</para></simplesect>
<simplesect kind="copyright"><para>Copyright 2024, Cypress Semiconductor Corporation (an Infineon company) or an affiliate of Cypress Semiconductor Corporation. All rights reserved. You may use this file only in accordance with the license, terms, conditions, disclaimers, and limitations in the end user license agreement accompanying the software package with which this file was provided. </para></simplesect>
</para>    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/***************************************************************************/</highlight></codeline>
<codeline lineno="17"><highlight class="preprocessor">#include<sp/>&quot;cy_pdaltmode_defines.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_pdutils.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>BB_RETIMER_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_pdaltmode_bb_retimer.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#elif<sp/>AMD_RETIMER_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_pdaltmode_amd_retimer.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>BB_RETIMER_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_pdaltmode_retimer_wrapper.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_pdaltmode_timer_id.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Flag<sp/>to<sp/>indicate<sp/>de-initialization<sp/>of<sp/>Retimer<sp/>pins<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CY_PDALTMODE_RETIMERWRAPPER_PIN_UNIT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(0xFFU)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_en_pdaltmode_retimerwrapper_state_t<sp/>currState;</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>reqEn;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>reqDis;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_en_pdaltmode_retimerwrapper_vsys_state_t<sp/>vsys;</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>retimerIsBusy;</highlight></codeline>
<codeline lineno="36"><highlight class="normal">}<sp/>retimer_t;</highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>retimer_t<sp/>retimer[NO_OF_TYPEC_PORTS];</highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>cy_stc_pdaltmode_retimerwrapper_cbk_t*<sp/>rtmrCtrlFn;</highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Retimer<sp/>initialization<sp/>function<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_RetimerWrapper_Init(cy_stc_pdstack_context_t<sp/>*ptrPdStackContext)</highlight></codeline>
<codeline lineno="44"><highlight class="normal">{</highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>BB_RETIMER_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/>Cy_PdAltMode_BBRetimer_Init(ptrPdStackContext,<sp/>&amp;rtmrCtrlFn);</highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight><highlight class="preprocessor">#elif<sp/>AMD_RETIMER_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/>Cy_PdAltMode_AmdRetimer_Init(ptrPdStackContext,<sp/>&amp;rtmrCtrlFn);</highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight><highlight class="preprocessor">#else<sp/></highlight><highlight class="comment">/*<sp/>BB_RETIMER_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/>CY_UNUSED_PARAMETER(ptrPdStackContext);</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/><sp/><sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal">}</highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Retimer<sp/>de-initialization<sp/>function<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_RetimerWrapper_DeInit<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>ptrContext)</highlight></codeline>
<codeline lineno="56"><highlight class="normal">{</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>(cy_stc_pdstack_context_t<sp/>*)<sp/>ptrContext;</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>port<sp/>=<sp/>ptrPdStackContext-&gt;port;</highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>timerId;</highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((retimer[port].currState<sp/>==<sp/>CY_PDALTMODE_RETIMERWRAPPER_RTMR_DISABLED)<sp/>||</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(retimer[port].currState<sp/>==<sp/>CY_PDALTMODE_RETIMERWRAPPER_RTMR_DIS_IN_PROGRESS)<sp/>||</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(rtmrCtrlFn-&gt;ctrl[port].present<sp/>==<sp/>0u))</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/>retimer[port].reqDis<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/>timerId<sp/>=<sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881ad6b5c74a1b667dce3b2f533e51cfc22c" kindref="member">CY_PDALTMODE_RETIMER_BUSY_TIMER</ref>);</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Stop)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>timerId);</highlight></codeline>
<codeline lineno="73"><highlight class="normal">}</highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Callback<sp/>function<sp/>associated<sp/>with<sp/>Retimer<sp/>activation<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_RetimerWrapper_ActivateCbk<sp/>(cy_timer_id_t<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*ptrContext)</highlight></codeline>
<codeline lineno="77"><highlight class="normal">{</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t*<sp/>ptrPdStackContext<sp/>=<sp/>(cy_stc_pdstack_context_t<sp/>*)<sp/>ptrContext;</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/>retimer[ptrPdStackContext-&gt;port].currState<sp/>=<sp/>CY_PDALTMODE_RETIMERWRAPPER_RTMR_ACTIVE;</highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rtmrCtrlFn-&gt;retimer_post_enable!=<sp/>NULL)</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rtmrCtrlFn-&gt;retimer_post_enable(ptrPdStackContext);</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="86"><highlight class="normal">}</highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Callback<sp/>function<sp/>associated<sp/>with<sp/>Retimer<sp/>enable<sp/>-<sp/>Reset<sp/>signal<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_RetimerWrapper_RstEnCbk(cy_timer_id_t<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*ptrContext)</highlight></codeline>
<codeline lineno="90"><highlight class="normal">{</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>(cy_stc_pdstack_context_t<sp/>*)<sp/>ptrContext;</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rtmrCtrlFn-&gt;ctrl[ptrPdStackContext-&gt;port].rstPin<sp/>!=<sp/>CY_PDALTMODE_RETIMERWRAPPER_PIN_UNIT)</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_GPIO_Write(rtmrCtrlFn-&gt;ctrl[ptrPdStackContext-&gt;port].rstPort,<sp/>rtmrCtrlFn-&gt;ctrl[ptrPdStackContext-&gt;port].rstPin,<sp/>1u);</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Start<sp/>a<sp/>timer<sp/>and<sp/>in<sp/>the<sp/>callback<sp/>handle<sp/>Retimer<sp/>actions<sp/>after<sp/>activation.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>ptrPdStackContext,</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881ad6b5c74a1b667dce3b2f533e51cfc22c" kindref="member">CY_PDALTMODE_RETIMER_BUSY_TIMER</ref>),</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((rtmrCtrlFn-&gt;rstPostDelay<sp/>!=<sp/>0u)<sp/>?<sp/>rtmrCtrlFn-&gt;rstPostDelay<sp/>:<sp/>1u),<sp/>Cy_PdAltMode_RetimerWrapper_ActivateCbk);</highlight></codeline>
<codeline lineno="102"><highlight class="normal">}</highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Callback<sp/>function<sp/>associated<sp/>with<sp/>Retimer<sp/>enable<sp/>-<sp/>Power<sp/>signal<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_RetimerWrapper_EnableCbk(cy_timer_id_t<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*ptrContext)</highlight></codeline>
<codeline lineno="106"><highlight class="normal">{</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>(cy_stc_pdstack_context_t<sp/>*)<sp/>ptrContext;</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>timerId<sp/>=<sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881ad6b5c74a1b667dce3b2f533e51cfc22c" kindref="member">CY_PDALTMODE_RETIMER_BUSY_TIMER</ref>);</highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rtmrCtrlFn-&gt;retimer_pre_enable<sp/>!=<sp/>NULL)</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rtmrCtrlFn-&gt;retimer_pre_enable(ptrPdStackContext);</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="115"><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rtmrCtrlFn-&gt;ctrl[ptrPdStackContext-&gt;port].pwrPin<sp/>!=<sp/>CY_PDALTMODE_RETIMERWRAPPER_PIN_UNIT)</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_GPIO_Write(rtmrCtrlFn-&gt;ctrl[ptrPdStackContext-&gt;port].pwrPort,<sp/>rtmrCtrlFn-&gt;ctrl[ptrPdStackContext-&gt;port].pwrPin,<sp/>1u);</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rtmrCtrlFn-&gt;ctrl[ptrPdStackContext-&gt;port].rstPin<sp/>!=<sp/>CY_PDALTMODE_RETIMERWRAPPER_PIN_UNIT)</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Start<sp/>a<sp/>timer<sp/>and<sp/>in<sp/>the<sp/>callback<sp/>drive<sp/>the<sp/>RST_EN<sp/>signal<sp/>HIGH.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>ptrPdStackContext,</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>timerId,</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((rtmrCtrlFn-&gt;pwrPostDelay<sp/>!=<sp/>0u)<sp/>?<sp/>rtmrCtrlFn-&gt;pwrPostDelay<sp/>:<sp/>1u),<sp/>Cy_PdAltMode_RetimerWrapper_RstEnCbk);</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Enable<sp/>Retimer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_RetimerWrapper_ActivateCbk(timerId,<sp/>ptrContext);</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="132"><highlight class="normal">}</highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Retimer<sp/>Enable<sp/>function<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_RetimerWrapper_Enable<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>ptrContext,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>delayEn,<sp/>uint8_t<sp/>forceEn)</highlight></codeline>
<codeline lineno="136"><highlight class="normal">{</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>(cy_stc_pdstack_context_t<sp/>*)<sp/>ptrContext;</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>port<sp/>=<sp/>ptrPdStackContext-&gt;port;</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>timerId;</highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(rtmrCtrlFn-&gt;ctrl[port].present<sp/>==<sp/>0u)<sp/>||</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(retimer[port].currState<sp/>==<sp/>CY_PDALTMODE_RETIMERWRAPPER_RTMR_ACTIVE)</highlight></codeline>
<codeline lineno="144"><highlight class="normal">#</highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>!CCG_BACKUP_FIRMWARE</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>||<sp/>(retimer[port].vsys<sp/>!=<sp/>CY_PDALTMODE_RETIMERWRAPPER_VSYS_PRESENT)</highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>!CCG_BACKUP_FIRMWARE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rtmrCtrlFn-&gt;is_retimer_en_allowed<sp/>!=<sp/>NULL)</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rtmrCtrlFn-&gt;is_retimer_en_allowed(ptrPdStackContext,<sp/>forceEn)<sp/>==<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/>retimer[port].currState<sp/>=<sp/>CY_PDALTMODE_RETIMERWRAPPER_RTMR_EN_IN_PROGRESS;</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/>timerId<sp/>=<sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881add77737d5b51e096869a5f45441c2360" kindref="member">CY_PDALTMODE_RETIMER_WAIT_TIMER</ref>);</highlight></codeline>
<codeline lineno="162"><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(delayEn)</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Start<sp/>a<sp/>timer<sp/>and<sp/>in<sp/>the<sp/>callback<sp/>drive<sp/>the<sp/>RST_EN<sp/>signal<sp/>HIGH.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>ptrPdStackContext,</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>timerId,</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDALTMODE_RETIMERWRAPPER_ENABLE_DELAY,<sp/>Cy_PdAltMode_RetimerWrapper_EnableCbk);</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_RetimerWrapper_EnableCbk(timerId,<sp/>ptrContext);</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="174"><highlight class="normal">}</highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Callback<sp/>function<sp/>associated<sp/>with<sp/>Retimer<sp/>Disable<sp/>-<sp/>Power<sp/>signal<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_RetimerWrapper_DisableCbk(cy_timer_id_t<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*ptrContext)</highlight></codeline>
<codeline lineno="178"><highlight class="normal">{</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>(cy_stc_pdstack_context_t<sp/>*)<sp/>ptrContext;</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>port<sp/>=<sp/>ptrPdStackContext-&gt;port;</highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rtmrCtrlFn-&gt;ctrl[port].pwrPin<sp/>!=<sp/>CY_PDALTMODE_RETIMERWRAPPER_PIN_UNIT)</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_GPIO_Write(rtmrCtrlFn-&gt;ctrl[port].pwrPort,<sp/>rtmrCtrlFn-&gt;ctrl[port].pwrPin,<sp/>0u);</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/>retimer[port].currState<sp/>=<sp/>CY_PDALTMODE_RETIMERWRAPPER_RTMR_DISABLED;</highlight></codeline>
<codeline lineno="189"><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rtmrCtrlFn-&gt;retimer_post_disable!=<sp/>NULL)</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rtmrCtrlFn-&gt;retimer_post_disable(ptrPdStackContext);</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="194"><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(retimer[port].reqEn<sp/>!=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_RetimerWrapper_Enable(ptrPdStackContext,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>0u);</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>retimer[port].reqEn<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="200"><highlight class="normal">}</highlight></codeline>
<codeline lineno="201"><highlight class="normal"></highlight></codeline>
<codeline lineno="202"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Function<sp/>associated<sp/>with<sp/>Retimer<sp/>Disable<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_RetimerWrapper_DisableReqCbk(cy_timer_id_t<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*ptrContext)</highlight></codeline>
<codeline lineno="204"><highlight class="normal">{</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>(cy_stc_pdstack_context_t<sp/>*)<sp/>ptrContext;</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext<sp/>=<sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*)ptrPdStackContext-&gt;ptrAltModeContext;</highlight></codeline>
<codeline lineno="208"><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/>Cy_PdAltMode_RetimerWrapper_Disable<sp/>(ptrPdStackContext,<sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aba3f2832d6acbf0f5c866d67f8e0090b" kindref="member">appStatusContext</ref>-&gt;sysPwrState<sp/>!=<sp/>(uint32_t)CY_PDSTACK_SYS_PWR_STATE_S0));</highlight></codeline>
<codeline lineno="210"><highlight class="normal">}</highlight></codeline>
<codeline lineno="211"><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Callback<sp/>function<sp/>associated<sp/>with<sp/>Retimer<sp/>Disable,<sp/>where<sp/>delay<sp/>is<sp/>required<sp/>during<sp/>disable.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_RetimerWrapper_DisableCbkWithDelay(cy_timer_id_t<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*ptrContext)</highlight></codeline>
<codeline lineno="214"><highlight class="normal">{</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>(cy_stc_pdstack_context_t<sp/>*)<sp/>ptrContext;</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>port<sp/>=<sp/>ptrPdStackContext-&gt;port;</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>timerId<sp/>=<sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881ad6b5c74a1b667dce3b2f533e51cfc22c" kindref="member">CY_PDALTMODE_RETIMER_BUSY_TIMER</ref>);</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdaltmode_retimerwrapper_control_t<sp/>*ptrCtrl<sp/>=<sp/>&amp;rtmrCtrlFn-&gt;ctrl[port];</highlight></codeline>
<codeline lineno="220"><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrCtrl-&gt;rstPin<sp/>!=<sp/>CY_PDALTMODE_RETIMERWRAPPER_PIN_UNIT)</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_GPIO_Write(ptrCtrl-&gt;rstPort,<sp/>ptrCtrl-&gt;rstPin,<sp/>0u);</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_RetimerWrapper_DisableCbk<sp/>(timerId,<sp/>ptrContext);</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="229"><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Start<sp/>a<sp/>timer<sp/>and<sp/>in<sp/>the<sp/>callback<sp/>drive<sp/>the<sp/>PWR_EN<sp/>signal<sp/>LOW.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>ptrPdStackContext,</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>timerId,</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(((bool)rtmrCtrlFn-&gt;disableDelay)<sp/>?<sp/>rtmrCtrlFn-&gt;disableDelay<sp/>:<sp/>1u),</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_RetimerWrapper_DisableCbk);</highlight></codeline>
<codeline lineno="235"><highlight class="normal">}</highlight></codeline>
<codeline lineno="236"><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Retimer<sp/>Reset<sp/>function<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_RetimerWrapper_Reset<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*ptrContext)</highlight></codeline>
<codeline lineno="239"><highlight class="normal">{</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>(cy_stc_pdstack_context_t<sp/>*)<sp/>ptrContext;</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>port<sp/>=<sp/>ptrPdStackContext-&gt;port;</highlight></codeline>
<codeline lineno="242"><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((retimer[port].currState<sp/>!=<sp/>CY_PDALTMODE_RETIMERWRAPPER_RTMR_ACTIVE)<sp/>||<sp/>(rtmrCtrlFn-&gt;ctrl[port].present<sp/>==<sp/>0u))</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="247"><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rtmrCtrlFn-&gt;retimer_reset<sp/>!=<sp/>NULL)</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rtmrCtrlFn-&gt;retimer_reset<sp/>(ptrPdStackContext);</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="252"><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/>retimer[port].reqDis<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/>retimer[port].reqEn<sp/><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="255"><highlight class="normal">}</highlight></codeline>
<codeline lineno="256"><highlight class="normal"></highlight></codeline>
<codeline lineno="257"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Retimer<sp/>Disable<sp/>function<sp/>handler<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_RetimerWrapper_Disable<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*ptrContext,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>delayEnable)</highlight></codeline>
<codeline lineno="259"><highlight class="normal">{</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>(cy_stc_pdstack_context_t<sp/>*)<sp/>ptrContext;</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>port<sp/>=<sp/>ptrPdStackContext-&gt;port;</highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>timerId;</highlight></codeline>
<codeline lineno="264"><highlight class="normal"></highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/>retimer_t<sp/>*ptrRetimer<sp/>=<sp/>&amp;retimer[port];</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdaltmode_retimerwrapper_control_t<sp/>*ptrCtrl<sp/>=<sp/>&amp;rtmrCtrlFn-&gt;ctrl[port];</highlight></codeline>
<codeline lineno="267"><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((ptrRetimer-&gt;currState<sp/>==<sp/>CY_PDALTMODE_RETIMERWRAPPER_RTMR_DISABLED)<sp/>||<sp/>(ptrRetimer-&gt;currState<sp/>==<sp/>CY_PDALTMODE_RETIMERWRAPPER_RTMR_DIS_IN_PROGRESS)<sp/>||<sp/>(ptrCtrl-&gt;present<sp/>==<sp/>0u))</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="272"><highlight class="normal"></highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rtmrCtrlFn-&gt;is_retimer_dis_allowed<sp/>!=<sp/>NULL)</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rtmrCtrlFn-&gt;is_retimer_dis_allowed(ptrPdStackContext)<sp/>==<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="280"><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrRetimer-&gt;currState<sp/>=<sp/>CY_PDALTMODE_RETIMERWRAPPER_RTMR_DIS_IN_PROGRESS;</highlight></codeline>
<codeline lineno="282"><highlight class="normal"></highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/>timerId<sp/>=<sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881add77737d5b51e096869a5f45441c2360" kindref="member">CY_PDALTMODE_RETIMER_WAIT_TIMER</ref>);</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Stop)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>timerId);</highlight></codeline>
<codeline lineno="285"><highlight class="normal"></highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rtmrCtrlFn-&gt;retimer_pre_disable<sp/>!=<sp/>NULL)</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rtmrCtrlFn-&gt;retimer_pre_disable(ptrPdStackContext);</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="290"><highlight class="normal"></highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/>timerId<sp/>=<sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881ad6b5c74a1b667dce3b2f533e51cfc22c" kindref="member">CY_PDALTMODE_RETIMER_BUSY_TIMER</ref>);</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(delayEnable)</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>ptrPdStackContext,</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>timerId,</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDALTMODE_RETIMERWRAPPER_DISABLE_DELAY,</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_RetimerWrapper_DisableCbkWithDelay);</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrCtrl-&gt;rstPin<sp/>!=<sp/>CY_PDALTMODE_RETIMERWRAPPER_PIN_UNIT)</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_GPIO_Write(ptrCtrl-&gt;rstPort,<sp/>ptrCtrl-&gt;rstPin,<sp/>0u);</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Disable<sp/>Retimer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_RetimerWrapper_DisableCbk<sp/>(timerId,<sp/>ptrContext);</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="310"><highlight class="normal"></highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Start<sp/>a<sp/>timer<sp/>and<sp/>in<sp/>the<sp/>callback<sp/>drive<sp/>the<sp/>PWR_EN<sp/>signal<sp/>LOW.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>ptrPdStackContext,</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>timerId,</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((rtmrCtrlFn-&gt;disableDelay<sp/>!=<sp/>0u)<sp/>?<sp/>rtmrCtrlFn-&gt;disableDelay<sp/>:<sp/>1u),</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_RetimerWrapper_DisableCbk);</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="317"><highlight class="normal">}</highlight></codeline>
<codeline lineno="318"><highlight class="normal"></highlight></codeline>
<codeline lineno="319"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Function<sp/>to<sp/>check<sp/>whether<sp/>VSYS<sp/>is<sp/>present<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>Cy_PdAltMode_RetimerWrapper_IsVsysPresent<sp/>(uint8_t<sp/>port)</highlight></codeline>
<codeline lineno="321"><highlight class="normal">{</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>((retimer[port].vsys<sp/>==<sp/>CY_PDALTMODE_RETIMERWRAPPER_VSYS_PRESENT)<sp/>||</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(retimer[port].vsys<sp/>==<sp/>CY_PDALTMODE_RETIMERWRAPPER_VSYS_NONE))<sp/>?<sp/>true<sp/>:<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="324"><highlight class="normal">}</highlight></codeline>
<codeline lineno="325"><highlight class="normal"></highlight></codeline>
<codeline lineno="326"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Function<sp/>to<sp/>check<sp/>whether<sp/>Retimer<sp/>is<sp/>active<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="327"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>Cy_PdAltMode_RetimerWrapper_IsActive<sp/>(uint8_t<sp/>port)</highlight></codeline>
<codeline lineno="328"><highlight class="normal">{</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(retimer[port].currState<sp/>==<sp/>CY_PDALTMODE_RETIMERWRAPPER_RTMR_ACTIVE)<sp/>?<sp/>true<sp/>:<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="330"><highlight class="normal">}</highlight></codeline>
<codeline lineno="331"><highlight class="normal"></highlight></codeline>
<codeline lineno="332"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Retimer<sp/>task<sp/>handler<sp/>to<sp/>update<sp/>VSYS<sp/>status<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="333"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_RetimerWrapper_Task<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*ptrContext)</highlight></codeline>
<codeline lineno="334"><highlight class="normal">{</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>(cy_stc_pdstack_context_t<sp/>*)ptrContext;</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>port<sp/>=<sp/>ptrPdStackContext-&gt;port;</highlight></codeline>
<codeline lineno="337"><highlight class="normal"></highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(retimer[port].vsys<sp/>==<sp/>CY_PDALTMODE_RETIMERWRAPPER_VSYS_ADDED)</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>retimer[port].vsys<sp/>=<sp/>CY_PDALTMODE_RETIMERWRAPPER_VSYS_PRESENT;</highlight></codeline>
<codeline lineno="341"><highlight class="normal"></highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rtmrCtrlFn-&gt;retimer_vsys_added<sp/>!=<sp/>NULL)</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rtmrCtrlFn-&gt;retimer_vsys_added(ptrPdStackContext);</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="346"><highlight class="normal"></highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrPdStackContext-&gt;dpmConfig.attach)</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_RetimerWrapper_Enable(ptrPdStackContext,<sp/>0u,<sp/>0u);</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(retimer[port].vsys<sp/>==<sp/>CY_PDALTMODE_RETIMERWRAPPER_VSYS_REMOVED)</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rtmrCtrlFn-&gt;retimer_vsys_removed<sp/>!=<sp/>NULL)</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rtmrCtrlFn-&gt;retimer_vsys_removed(ptrPdStackContext);</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="358"><highlight class="normal"></highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_RetimerWrapper_Disable(ptrPdStackContext,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="360"><highlight class="normal"></highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rtmrCtrlFn-&gt;retimer_stop<sp/>!=<sp/>NULL)</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rtmrCtrlFn-&gt;retimer_stop();</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="365"><highlight class="normal"></highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>retimer[port].vsys<sp/>=<sp/>CY_PDALTMODE_RETIMERWRAPPER_VSYS_ABSENT;</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>No<sp/>action<sp/>required<sp/>-<sp/>;<sp/>is<sp/>optional<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="372"><highlight class="normal"></highlight></codeline>
<codeline lineno="373"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>BB_RETIMER_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Handle<sp/>any<sp/>pending<sp/>Retimer<sp/>events<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/>Cy_PdAltMode_BBRetimer_Task<sp/>(ptrPdStackContext);</highlight></codeline>
<codeline lineno="376"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>BB_RETIMER_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="377"><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal">}</highlight></codeline>
<codeline lineno="379"><highlight class="normal"></highlight></codeline>
<codeline lineno="380"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Retimer<sp/>update<sp/>handler<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="381"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_RetimerWrapper_Update<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*ptrContext)</highlight></codeline>
<codeline lineno="382"><highlight class="normal">{</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>(cy_stc_pdstack_context_t<sp/>*)ptrContext;</highlight></codeline>
<codeline lineno="384"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>MUX_DELAY_EN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext<sp/>=<sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*)ptrPdStackContext-&gt;ptrAltModeContext;</highlight></codeline>
<codeline lineno="386"><highlight class="normal">#endif</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>port<sp/>=<sp/>ptrPdStackContext-&gt;port;</highlight></codeline>
<codeline lineno="388"><highlight class="normal"></highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/>retimer_t<sp/>*ptrRetimer<sp/>=<sp/>&amp;retimer[port];</highlight></codeline>
<codeline lineno="390"><highlight class="normal"></highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_en_pdaltmode_retimerwrapper_updt_status_t<sp/>updt_status<sp/>=<sp/>CY_PDALTMODE_RETIMERWRAPPER_RTMR_UPDT_IDLE;</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrRetimer-&gt;retimerIsBusy<sp/>=<sp/>(uint8_t)(TIMER_CALL_MAP(Cy_PdUtils_SwTimer_IsRunning)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>(CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881ad6b5c74a1b667dce3b2f533e51cfc22c" kindref="member">CY_PDALTMODE_RETIMER_BUSY_TIMER</ref>))));</highlight></codeline>
<codeline lineno="393"><highlight class="normal"></highlight></codeline>
<codeline lineno="394"><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>Retimer<sp/>processing<sp/>is<sp/>allowed<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrRetimer-&gt;retimerIsBusy<sp/>==<sp/>0u)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(TIMER_CALL_MAP(Cy_PdUtils_SwTimer_IsRunning)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881add77737d5b51e096869a5f45441c2360" kindref="member">CY_PDALTMODE_RETIMER_WAIT_TIMER</ref>))<sp/>==<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrRetimer-&gt;currState<sp/>!=<sp/>CY_PDALTMODE_RETIMERWRAPPER_RTMR_DISABLED)</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rtmrCtrlFn-&gt;retimer_update<sp/>!=<sp/>NULL)</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rtmrCtrlFn-&gt;retimer_is_update_pending(ptrPdStackContext)<sp/>!=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Run<sp/>Retimer<sp/>update<sp/>procedure<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>updt_status<sp/>=<sp/>rtmrCtrlFn-&gt;retimer_update(ptrPdStackContext);</highlight></codeline>
<codeline lineno="408"><highlight class="normal"></highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(updt_status<sp/>==<sp/>CY_PDALTMODE_RETIMERWRAPPER_RTMR_UPDT_FAILED)</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Block<sp/>APU/SoC<sp/>update<sp/>until<sp/>Retimer<sp/>is<sp/>updated<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrRetimer-&gt;retimerIsBusy<sp/>|=<sp/>(0x01u<sp/>&lt;&lt;<sp/>1);</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrRetimer-&gt;reqDis<sp/>!=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((updt_status<sp/>==<sp/>CY_PDALTMODE_RETIMERWRAPPER_RTMR_UPDT_SUCCESS)<sp/>||</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(updt_status<sp/>==<sp/>CY_PDALTMODE_RETIMERWRAPPER_RTMR_UPDT_SKIPED))</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrRetimer-&gt;reqDis<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="421"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>BB_RETIMER_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_RetimerWrapper_DisableReqCbk<sp/>(CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881ad6b5c74a1b667dce3b2f533e51cfc22c" kindref="member">CY_PDALTMODE_RETIMER_BUSY_TIMER</ref>),<sp/>ptrPdStackContext);</highlight></codeline>
<codeline lineno="423"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>ptrPdStackContext,</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881ad6b5c74a1b667dce3b2f533e51cfc22c" kindref="member">CY_PDALTMODE_RETIMER_BUSY_TIMER</ref>),</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(1),<sp/>Cy_PdAltMode_RetimerWrapper_DisableReqCbk);</highlight></codeline>
<codeline lineno="427"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>BB_RETIMER_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="428"><highlight class="normal"></highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>;<sp/></highlight><highlight class="comment">/*<sp/>No<sp/>action<sp/>required<sp/>-<sp/>;<sp/>is<sp/>optional<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((ptrRetimer-&gt;reqDis)</highlight></codeline>
<codeline lineno="438"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>MUX_DELAY_EN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;<sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a5227b28b41b25c100d7b8a1da74128eb" kindref="member">appMuxUpdateReq</ref><sp/>==<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="440"><highlight class="normal">#endif<sp/></highlight><highlight class="comment">/*<sp/>MUX_DELAY_EN<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrRetimer-&gt;reqDis<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="444"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>BB_RETIMER_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_RetimerWrapper_DisableReqCbk<sp/>(CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881ad6b5c74a1b667dce3b2f533e51cfc22c" kindref="member">CY_PDALTMODE_RETIMER_BUSY_TIMER</ref>),<sp/>ptrPdStackContext);</highlight></codeline>
<codeline lineno="446"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>ptrPdStackContext,</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881ad6b5c74a1b667dce3b2f533e51cfc22c" kindref="member">CY_PDALTMODE_RETIMER_BUSY_TIMER</ref>),</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(1),<sp/>Cy_PdAltMode_RetimerWrapper_DisableReqCbk);</highlight></codeline>
<codeline lineno="450"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>BB_RETIMER_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="455"><highlight class="normal">}</highlight></codeline>
<codeline lineno="456"><highlight class="normal"></highlight></codeline>
<codeline lineno="457"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Retimer<sp/>MUX<sp/>configuration<sp/>handler<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="458"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>Cy_PdAltMode_RetimerWrapper_SetMux<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*ptrContext,<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1ga6e2d96963afcf43ec5dfe3d5a18d6bc6" kindref="member">cy_en_pdaltmode_mux_select_t</ref><sp/>mux_cfg,<sp/>uint32_t<sp/>mode_vdo,<sp/>uint32_t<sp/>customData,<sp/>uint8_t<sp/>forceUpdt)</highlight></codeline>
<codeline lineno="459"><highlight class="normal">{</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>ret<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>(cy_stc_pdstack_context_t<sp/>*)ptrContext;</highlight></codeline>
<codeline lineno="462"><highlight class="normal"></highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Skip<sp/>Retimer<sp/>update<sp/>if<sp/>Retimer<sp/>is<sp/>disabled<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((retimer[ptrPdStackContext-&gt;port].currState<sp/>!=<sp/>CY_PDALTMODE_RETIMERWRAPPER_RTMR_ACTIVE)<sp/>&amp;&amp;<sp/></highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(retimer[ptrPdStackContext-&gt;port].currState<sp/>!=<sp/>CY_PDALTMODE_RETIMERWRAPPER_RTMR_EN_IN_PROGRESS))</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="469"><highlight class="normal"></highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Run<sp/>Set<sp/>Retimer<sp/>function<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rtmrCtrlFn-&gt;retimer_set_mux<sp/>!=<sp/>NULL)</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>rtmrCtrlFn-&gt;retimer_set_mux<sp/>(ptrPdStackContext,<sp/>mux_cfg,<sp/>mode_vdo,<sp/>customData,<sp/>forceUpdt);</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="475"><highlight class="normal"></highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="477"><highlight class="normal">}</highlight></codeline>
<codeline lineno="478"><highlight class="normal"></highlight></codeline>
<codeline lineno="479"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Function<sp/>to<sp/>check<sp/>whether<sp/>sleep<sp/>is<sp/>allowed<sp/>based<sp/>on<sp/>Retimer<sp/>status<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="480"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>Cy_PdAltMode_RetimerWrapper_SleepAllowed(cy_stc_pdstack_context_t<sp/>*ptrPdStackContext)</highlight></codeline>
<codeline lineno="481"><highlight class="normal">{</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>((!Cy_PdAltMode_RetimerWrapper_IsBusy(ptrPdStackContext))<sp/>&amp;&amp;<sp/>(!retimer[ptrPdStackContext-&gt;port].reqDis));</highlight></codeline>
<codeline lineno="483"><highlight class="normal">}</highlight></codeline>
<codeline lineno="484"><highlight class="normal"></highlight></codeline>
<codeline lineno="485"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Function<sp/>to<sp/>check<sp/>whether<sp/>Retimer<sp/>is<sp/>busy<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="486"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>Cy_PdAltMode_RetimerWrapper_IsBusy(cy_stc_pdstack_context_t<sp/>*ptrPdStackContext)</highlight></codeline>
<codeline lineno="487"><highlight class="normal">{</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>isPend<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>busy_stat<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/>retimer_t<sp/>*ptrRetimer<sp/>=<sp/>&amp;retimer[ptrPdStackContext-&gt;port];</highlight></codeline>
<codeline lineno="491"><highlight class="normal"></highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>busyTmrStat<sp/>=<sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_IsRunning)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881ad6b5c74a1b667dce3b2f533e51cfc22c" kindref="member">CY_PDALTMODE_RETIMER_BUSY_TIMER</ref>));</highlight></codeline>
<codeline lineno="493"><highlight class="normal"></highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrRetimer-&gt;retimerIsBusy<sp/>&amp;=<sp/>~(uint8_t)0x01u;</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrRetimer-&gt;retimerIsBusy<sp/>|=<sp/>(busyTmrStat<sp/>?<sp/>0x01u<sp/>:<sp/>0x00u);</highlight></codeline>
<codeline lineno="496"><highlight class="normal"></highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rtmrCtrlFn-&gt;retimer_is_update_pending<sp/>!=<sp/>NULL)</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>isPend<sp/>=<sp/>rtmrCtrlFn-&gt;retimer_is_update_pending(ptrPdStackContext);</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="501"><highlight class="normal"></highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rtmrCtrlFn-&gt;retimerIsBusy<sp/>!=<sp/>NULL)</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>busy_stat<sp/>=<sp/>rtmrCtrlFn-&gt;retimerIsBusy(ptrPdStackContext);</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="506"><highlight class="normal"></highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(ptrRetimer-&gt;retimerIsBusy<sp/>!=<sp/>0u)<sp/>||<sp/>isPend<sp/>||<sp/>busy_stat;</highlight></codeline>
<codeline lineno="508"><highlight class="normal">}</highlight></codeline>
<codeline lineno="509"><highlight class="normal"></highlight></codeline>
<codeline lineno="510"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Function<sp/>to<sp/>handle<sp/>VSYS<sp/>change<sp/>request<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="511"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_RetimerWrapper_HandleVsysChange(uint8_t<sp/>port,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>present)</highlight></codeline>
<codeline lineno="512"><highlight class="normal">{</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/>retimer[port].vsys<sp/>=<sp/>(present)<sp/>?<sp/>CY_PDALTMODE_RETIMERWRAPPER_VSYS_ADDED<sp/>:<sp/>CY_PDALTMODE_RETIMERWRAPPER_VSYS_REMOVED;</highlight></codeline>
<codeline lineno="514"><highlight class="normal">}</highlight></codeline>
<codeline lineno="515"><highlight class="normal"></highlight></codeline>
<codeline lineno="516"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>File<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="cy_pdaltmode_retimer_wrapper.c"/>
  </compounddef>
</doxygen>
