<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.14">
  <compounddef id="cy__pdaltmode__dp__sid_8c" kind="file" language="C++">
    <compoundname>cy_pdaltmode_dp_sid.c</compoundname>
    <includes refid="cy__pdaltmode__defines_8h" local="yes">cy_pdaltmode_defines.h</includes>
    <includes local="yes">cy_pdstack_dpm.h</includes>
    <includes local="yes">cy_pdutils_sw_timer.h</includes>
    <includes local="yes">cy_pdstack_timer_id.h</includes>
    <includes refid="cy__pdaltmode__timer__id_8h" local="yes">cy_pdaltmode_timer_id.h</includes>
    <includes local="yes">cy_usbpd_config_table.h</includes>
    <includes local="yes">cy_usbpd_hpd.h</includes>
    <includes refid="cy__pdaltmode__hw_8h" local="yes">cy_pdaltmode_hw.h</includes>
    <includes refid="cy__pdaltmode__mngr_8h" local="yes">cy_pdaltmode_mngr.h</includes>
    <includes refid="cy__pdaltmode__dp__sid_8h" local="yes">cy_pdaltmode_dp_sid.h</includes>
    <incdepgraph>
      <node id="21">
        <label>cy_usbpd_hpd.h</label>
      </node>
      <node id="19">
        <label>cy_pdstack_timer_id.h</label>
      </node>
      <node id="16">
        <label>cy_pdaltmode_dp_sid.c</label>
        <link refid="cy__pdaltmode__dp__sid_8c"/>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
      </node>
      <node id="18">
        <label>cy_pdutils_sw_timer.h</label>
      </node>
      <node id="17">
        <label>cy_pdstack_dpm.h</label>
      </node>
      <node id="20">
        <label>cy_usbpd_config_table.h</label>
      </node>
    </incdepgraph>
      <sectiondef kind="var">
      <memberdef kind="variable" id="cy__pdaltmode__dp__sid_8c_1a2a6386f539d8e169f25eb11204397286" prot="public" static="yes" mutable="no">
        <type><ref refid="structcy__stc__pdaltmode__dp__status__t" kindref="compound">cy_stc_pdaltmode_dp_status_t</ref></type>
        <definition>cy_stc_pdaltmode_dp_status_t gl_dpStatus[NO_OF_TYPEC_PORTS]</definition>
        <argsstring>[NO_OF_TYPEC_PORTS]</argsstring>
        <name>gl_dpStatus</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="156" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="156" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1aadbac437f6d7928fabcc6aa16df65d8e" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structcy__stc__pdaltmode__mngr__info__t" kindref="compound">cy_stc_pdaltmode_mngr_info_t</ref> *</type>
        <definition>static cy_stc_pdaltmode_mngr_info_t * Cy_PdAltMode_DP_RegDfp</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext, cy_stc_pdaltmode_alt_mode_reg_info_t *reg)</argsstring>
        <name>Cy_PdAltMode_DP_RegDfp</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t" kindref="compound">cy_stc_pdaltmode_alt_mode_reg_info_t</ref> *</type>
          <declname>reg</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="41" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="243" bodyend="330"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a6993b0a024acd075e2b5359c41ff7d89" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__group__pdaltmode__display__port__enums_1gad6f1f79915cc9c1b675a6e9e6e4879a5" kindref="member">cy_en_pdaltmode_dp_state_t</ref></type>
        <definition>static cy_en_pdaltmode_dp_state_t Cy_PdAltMode_DP_AnalyseSinkVdo</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext, cy_pd_pd_do_t svidVdo)</argsstring>
        <name>Cy_PdAltMode_DP_AnalyseSinkVdo</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <param>
          <type>cy_pd_pd_do_t</type>
          <declname>svidVdo</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="44" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="831" bodyend="1008"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a8b2796927e9fd021f37e4ac530dfa878" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__group__pdaltmode__display__port__enums_1gad6f1f79915cc9c1b675a6e9e6e4879a5" kindref="member">cy_en_pdaltmode_dp_state_t</ref></type>
        <definition>static cy_en_pdaltmode_dp_state_t Cy_PdAltMode_DP_EvalUfpStatus</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext)</argsstring>
        <name>Cy_PdAltMode_DP_EvalUfpStatus</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="47" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="1023" bodyend="1134"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a5453a7cb78156f2e963f6d5799e60a7f" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_DP_Init</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext)</argsstring>
        <name>Cy_PdAltMode_DP_Init</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="50" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="1177" bodyend="1196"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a70b3095c90165154ab46ae8ef2f92b46" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>static bool Cy_PdAltMode_DP_IsCableCapable</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext, const cy_stc_pdaltmode_atch_tgt_info_t *atchTgtInfo)</argsstring>
        <name>Cy_PdAltMode_DP_IsCableCapable</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <param>
          <type>const <ref refid="structcy__stc__pdaltmode__atch__tgt__info__t" kindref="compound">cy_stc_pdaltmode_atch_tgt_info_t</ref> *</type>
          <declname>atchTgtInfo</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="53" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="1136" bodyend="1158"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a616721295ffb00cc2203a12ad7bde3f8" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_DP_SrcHpdRespCbk</definition>
        <argsstring>(void *context, uint32_t event)</argsstring>
        <name>Cy_PdAltMode_DP_SrcHpdRespCbk</name>
        <param>
          <type>void *</type>
          <declname>context</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>event</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="56" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="1368" bodyend="1407"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1ac8f7e67e54dc4f0651c7393b3099395f" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_DP_DfpEnqueueHpd</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext, uint32_t status)</argsstring>
        <name>Cy_PdAltMode_DP_DfpEnqueueHpd</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>status</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="59" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="1262" bodyend="1323"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1aa7b30eaf5ce0bca9d25dd1f5c9c9f8bc" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_DP_CleanHpdQueue</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext)</argsstring>
        <name>Cy_PdAltMode_DP_CleanHpdQueue</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="62" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="1248" bodyend="1260"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a51343e6ab02ec6fe6ec35e8d76c36bcb" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_DP_DfpRun</definition>
        <argsstring>(void *Context)</argsstring>
        <name>Cy_PdAltMode_DP_DfpRun</name>
        <param>
          <type>void *</type>
          <declname>Context</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="65" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="503" bodyend="737"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a5ad41738e82ee2dcd68d6c16f0d4c537" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_DP_AnalyseStatusUpdateVdo</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext)</argsstring>
        <name>Cy_PdAltMode_DP_AnalyseStatusUpdateVdo</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="68" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="739" bodyend="829"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1ab540963dd6321def4db80d27ea38419b" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>static bool Cy_PdAltMode_DP_IsPrtnrCcgConsistent</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext, uint8_t config)</argsstring>
        <name>Cy_PdAltMode_DP_IsPrtnrCcgConsistent</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <param>
          <type>uint8_t</type>
          <declname>config</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="71" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="2226" bodyend="2234"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1aef6b236a1c247bcb50d7a157b021975e" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structcy__stc__pdaltmode__mngr__info__t" kindref="compound">cy_stc_pdaltmode_mngr_info_t</ref> *</type>
        <definition>static cy_stc_pdaltmode_mngr_info_t * Cy_PdAltMode_DP_RegCbl</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext, cy_stc_pdaltmode_alt_mode_reg_info_t *reg)</argsstring>
        <name>Cy_PdAltMode_DP_RegCbl</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t" kindref="compound">cy_stc_pdaltmode_alt_mode_reg_info_t</ref> *</type>
          <declname>reg</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="74" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="332" bodyend="435"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a82d0468d3a1f97527b62044b80e41d6f" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>static bool Cy_PdAltMode_DP_IsCableSvid</definition>
        <argsstring>(const cy_stc_pdaltmode_atch_tgt_info_t *atchTgtInfo, uint16_t svid)</argsstring>
        <name>Cy_PdAltMode_DP_IsCableSvid</name>
        <param>
          <type>const <ref refid="structcy__stc__pdaltmode__atch__tgt__info__t" kindref="compound">cy_stc_pdaltmode_atch_tgt_info_t</ref> *</type>
          <declname>atchTgtInfo</declname>
        </param>
        <param>
          <type>uint16_t</type>
          <declname>svid</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="77" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="1160" bodyend="1175"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a27caac82843b7e7875bc2f2c90720249" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_DP_SnkHpdRespCbk</definition>
        <argsstring>(void *context, uint32_t cmd)</argsstring>
        <name>Cy_PdAltMode_DP_SnkHpdRespCbk</name>
        <param>
          <type>void *</type>
          <declname>context</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>cmd</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="82" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="1805" bodyend="1821"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a987caed301b51460bb7a818a6b22ea76" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_DP_UfpRun</definition>
        <argsstring>(void *Context)</argsstring>
        <name>Cy_PdAltMode_DP_UfpRun</name>
        <param>
          <type>void *</type>
          <declname>Context</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="85" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="1461" bodyend="1751"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a658d3458a28a1de9ac2183575aa868af" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>static bool Cy_PdAltMode_DP_UfpUpdateStatusField</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext, cy_en_pdaltmode_dp_stat_bm_t bitPos, bool status)</argsstring>
        <name>Cy_PdAltMode_DP_UfpUpdateStatusField</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <param>
          <type><ref refid="group__group__pdaltmode__display__port__enums_1gac0329806db727d768fdc25a545a2170a" kindref="member">cy_en_pdaltmode_dp_stat_bm_t</ref></type>
          <declname>bitPos</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>status</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="88" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="1784" bodyend="1803"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a2b4d5cccd9208694d22d29596520998a" prot="public" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_DP_UfpSetStatusField</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext, cy_en_pdaltmode_dp_stat_bm_t bitPos)</argsstring>
        <name>Cy_PdAltMode_DP_UfpSetStatusField</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <param>
          <type><ref refid="group__group__pdaltmode__display__port__enums_1gac0329806db727d768fdc25a545a2170a" kindref="member">cy_en_pdaltmode_dp_stat_bm_t</ref></type>
          <declname>bitPos</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="89" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="1774" bodyend="1777"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1ad77e4b96151b83a6245c27586e113820" prot="public" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_DP_UfpClearStatusField</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext, cy_en_pdaltmode_dp_stat_bm_t bitPos)</argsstring>
        <name>Cy_PdAltMode_DP_UfpClearStatusField</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <param>
          <type><ref refid="group__group__pdaltmode__display__port__enums_1gac0329806db727d768fdc25a545a2170a" kindref="member">cy_en_pdaltmode_dp_stat_bm_t</ref></type>
          <declname>bitPos</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="90" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="1779" bodyend="1782"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a39813d8f4ff7045484e3987f356dc38c" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_DP_UfpEnqueueHpd</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext, cy_en_usbpd_hpd_events_t status)</argsstring>
        <name>Cy_PdAltMode_DP_UfpEnqueueHpd</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <param>
          <type>cy_en_usbpd_hpd_events_t</type>
          <declname>status</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="93" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="1823" bodyend="1862"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1aa4e535ee18f2ee5ecd17750881da999e" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_DP_UfpDequeueHpd</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext)</argsstring>
        <name>Cy_PdAltMode_DP_UfpDequeueHpd</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="96" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="1865" bodyend="1999"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1abb644053570d8b2c4b262e58d2078a1f" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>static bool Cy_PdAltMode_DP_IsConfigCorrect</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext)</argsstring>
        <name>Cy_PdAltMode_DP_IsConfigCorrect</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="99" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="1753" bodyend="1772"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a7a2b15da7c0fcec064e11a344cfbc9e0" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_DP_VconnSwapInitCbk</definition>
        <argsstring>(cy_timer_id_t id, void *ptrContext)</argsstring>
        <name>Cy_PdAltMode_DP_VconnSwapInitCbk</name>
        <param>
          <type>cy_timer_id_t</type>
          <declname>id</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>ptrContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="103" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="2022" bodyend="2034"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a3483ddafeb5dfd7e4125c6550818f672" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_DP_VconnSwapCbk</definition>
        <argsstring>(cy_stc_pdstack_context_t *ptrPdStackContext, cy_en_pdstack_resp_status_t resp, const cy_stc_pdstack_pd_packet_t *pktPtr)</argsstring>
        <name>Cy_PdAltMode_DP_VconnSwapCbk</name>
        <param>
          <type>cy_stc_pdstack_context_t *</type>
          <declname>ptrPdStackContext</declname>
        </param>
        <param>
          <type>cy_en_pdstack_resp_status_t</type>
          <declname>resp</declname>
        </param>
        <param>
          <type>const cy_stc_pdstack_pd_packet_t *</type>
          <declname>pktPtr</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="106" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="2062" bodyend="2092"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a67acd6ab2f0f81fa9a74517b6f2e9922" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_DP_AddHpdEvt</definition>
        <argsstring>(cy_stc_pdaltmode_dp_status_t *dpStatus, cy_en_usbpd_hpd_events_t evt)</argsstring>
        <name>Cy_PdAltMode_DP_AddHpdEvt</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__dp__status__t" kindref="compound">cy_stc_pdaltmode_dp_status_t</ref> *</type>
          <declname>dpStatus</declname>
        </param>
        <param>
          <type>cy_en_usbpd_hpd_events_t</type>
          <declname>evt</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="111" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="2218" bodyend="2223"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a8b5d2fb1c523f85d096c58d3f9f0c442" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_DP_SendCmd</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext)</argsstring>
        <name>Cy_PdAltMode_DP_SendCmd</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="114" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="2124" bodyend="2211"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1adc38704fc6abb242c2e144cbd1a37036" prot="public" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="structcy__stc__pdaltmode__mngr__info__t" kindref="compound">cy_stc_pdaltmode_mngr_info_t</ref> *</type>
        <definition>static cy_stc_pdaltmode_mngr_info_t * Cy_PdAltMode_DP_Info</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext)</argsstring>
        <name>Cy_PdAltMode_DP_Info</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="117" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="2213" bodyend="2216"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a4cabbc7211d1ee232e8c2eda7e60b454" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1ga6e2d96963afcf43ec5dfe3d5a18d6bc6" kindref="member">cy_en_pdaltmode_mux_select_t</ref></type>
        <definition>static cy_en_pdaltmode_mux_select_t Cy_PdAltMode_DP_EvalConfig</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext)</argsstring>
        <name>Cy_PdAltMode_DP_EvalConfig</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="120" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="2237" bodyend="2269"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a5eb48795c86126bae3a661eabb8e25c6" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_DP_Exit</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext)</argsstring>
        <name>Cy_PdAltMode_DP_Exit</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="123" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="2348" bodyend="2354"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a1434d3b5e6bb0206616e8cb3fd1f01d3" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_DP_InitHpd</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext, uint8_t portRole)</argsstring>
        <name>Cy_PdAltMode_DP_InitHpd</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <param>
          <type>uint8_t</type>
          <declname>portRole</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="126" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="2356" bodyend="2378"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a2ec0656cce2702f38e19171861f3ecaa" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>cy_pd_pd_do_t *</type>
        <definition>static cy_pd_pd_do_t * Cy_PdAltMode_DP_GetVdo</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext)</argsstring>
        <name>Cy_PdAltMode_DP_GetVdo</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="129" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="2343" bodyend="2346"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a45c8058fe351f369a5c3d995d4e21a40" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_DP_ResetVar</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext)</argsstring>
        <name>Cy_PdAltMode_DP_ResetVar</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="132" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="2271" bodyend="2307"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a12a6c4e2c4f1c068c5196347665ac216" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_DP_AssignVdo</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext, uint32_t vdo)</argsstring>
        <name>Cy_PdAltMode_DP_AssignVdo</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>vdo</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="135" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="2309" bodyend="2341"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1ad72b84d660071ed5c927b7d75a82917c" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>static bool Cy_PdAltMode_DP_EvalAppCmd</definition>
        <argsstring>(void *context, cy_stc_pdaltmode_alt_mode_evt_t cmdData)</argsstring>
        <name>Cy_PdAltMode_DP_EvalAppCmd</name>
        <param>
          <type>void *</type>
          <declname>context</declname>
        </param>
        <param>
          <type><ref refid="unioncy__stc__pdaltmode__alt__mode__evt__t" kindref="compound">cy_stc_pdaltmode_alt_mode_evt_t</ref></type>
          <declname>cmdData</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="139" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="2383" bodyend="2530"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1aa8da4dd6e35bfc0d835017a263f5e000" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_DP_SetAppEvt</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext, uint32_t evtype, uint32_t evdata)</argsstring>
        <name>Cy_PdAltMode_DP_SetAppEvt</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>evtype</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>evdata</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="145" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="145" bodyend="150"/>
      </memberdef>
      <memberdef kind="function" id="group__group__pdaltmode__display__port__functions_1ga8660302a2d70c94169d7ded455621301" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structcy__stc__pdaltmode__dp__status__t" kindref="compound">cy_stc_pdaltmode_dp_status_t</ref> *</type>
        <definition>cy_stc_pdaltmode_dp_status_t* Cy_PdAltMode_DP_GetStatus</definition>
        <argsstring>(uint8_t port)</argsstring>
        <name>Cy_PdAltMode_DP_GetStatus</name>
        <param>
          <type>uint8_t</type>
          <declname>port</declname>
        </param>
        <briefdescription>
<para>Return DP status pointer. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>port</parametername>
</parameternamelist>
<parameterdescription>
<para>Selected port</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Returns pointer to DP status structure </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="158" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="158" bodyend="161"/>
      </memberdef>
      <memberdef kind="function" id="group__group__pdaltmode__display__port__functions_1gaeba07b7dee629cbad9c6d4c6cfdb12a1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structcy__stc__pdaltmode__mngr__info__t" kindref="compound">cy_stc_pdaltmode_mngr_info_t</ref> *</type>
        <definition>cy_stc_pdaltmode_mngr_info_t* Cy_PdAltMode_DP_RegModes</definition>
        <argsstring>(void *context, cy_stc_pdaltmode_alt_mode_reg_info_t *regInfo)</argsstring>
        <name>Cy_PdAltMode_DP_RegModes</name>
        <param>
          <type>void *</type>
          <declname>context</declname>
        </param>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t" kindref="compound">cy_stc_pdaltmode_alt_mode_reg_info_t</ref> *</type>
          <declname>regInfo</declname>
        </param>
        <briefdescription>
<para>Analyze Discovery information to find out if further DP Alternate Mode processing is allowed. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>context</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the Alt Mode context</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>regInfo</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to structure which holds Alt Mode register info</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Pointer to DP Alternate Mode command structure if analysis passed is successful. In case of failure, function returns NULL pointer. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="165" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="165" bodyend="240"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a3b34cb46d9c63c8cae21313a07cf213f" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_DP_SendUsbConfig</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext)</argsstring>
        <name>Cy_PdAltMode_DP_SendUsbConfig</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="451" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="451" bodyend="465"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a811d21349a559df28b55a65e121ee25f" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>static bool Cy_PdAltMode_DP_CheckDp2LaneSupport</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext, cy_pd_pd_do_t status)</argsstring>
        <name>Cy_PdAltMode_DP_CheckDp2LaneSupport</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <param>
          <type>cy_pd_pd_do_t</type>
          <declname>status</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="1010" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="1010" bodyend="1021"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a8a64019a87048b6fd497718d79737ec1" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_DP_HpdDelayCbk</definition>
        <argsstring>(cy_timer_id_t id, void *context)</argsstring>
        <name>Cy_PdAltMode_DP_HpdDelayCbk</name>
        <param>
          <type>cy_timer_id_t</type>
          <declname>id</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>context</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="1222" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="1222" bodyend="1244"/>
      </memberdef>
      <memberdef kind="function" id="group__group__pdaltmode__display__port__functions_1gabf5c7997064a0ae1516e542ee90ced7f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void Cy_PdAltMode_DP_DfpDequeueHpd</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext)</argsstring>
        <name>Cy_PdAltMode_DP_DfpDequeueHpd</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <briefdescription>
<para>Dequeue next HPD status. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ptrAltModeContext</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the Alt Mode context</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>None </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="1325" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="1325" bodyend="1366"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1aae711f182560fad87587e03a0aeb8477" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>CY_MISRA_DEVIATE_BLOCK_START</definition>
        <argsstring>(&apos;MISRA C-2012 Rule 17.2&apos;, 1, &apos;Intentional recursion with a maximum of 5 recursive calls&apos;)</argsstring>
        <name>CY_MISRA_DEVIATE_BLOCK_START</name>
        <param>
          <type>&apos;MISRA C-2012 Rule 17.2&apos;</type>
        </param>
        <param>
          <type>1</type>
        </param>
        <param>
          <type>&apos;Intentional recursion with a maximum of 5 recursive calls&apos;</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="1864" column="1"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a7399e96306944068c9d844938258b173" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>CY_MISRA_BLOCK_END</definition>
        <argsstring>(&apos;MISRA C-2012 Rule 17.2&apos;)</argsstring>
        <name>CY_MISRA_BLOCK_END</name>
        <param>
          <type>&apos;MISRA C-2012 Rule 17.2&apos;</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="2000" column="1"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1aa65db322dfcb1196567763ef843a59ad" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_DP_DpmCmdFailHdlr</definition>
        <argsstring>(cy_stc_pdstack_context_t *ptrPdStackContext, uint8_t *cntPtr)</argsstring>
        <name>Cy_PdAltMode_DP_DpmCmdFailHdlr</name>
        <param>
          <type>cy_stc_pdstack_context_t *</type>
          <declname>ptrPdStackContext</declname>
        </param>
        <param>
          <type>uint8_t *</type>
          <declname>cntPtr</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="2003" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="2003" bodyend="2020"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a199526edeee2b1019d85240ac2b12966" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_DP_ConfigAttFailedCbk</definition>
        <argsstring>(cy_timer_id_t id, void *ptrContext)</argsstring>
        <name>Cy_PdAltMode_DP_ConfigAttFailedCbk</name>
        <param>
          <type>cy_timer_id_t</type>
          <declname>id</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>ptrContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="2036" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="2036" bodyend="2042"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__dp__sid_8c_1a1c8721cde112ea57e00762453e479b6b" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_DP_ConfigAttInitCbk</definition>
        <argsstring>(cy_timer_id_t id, void *ptrContext)</argsstring>
        <name>Cy_PdAltMode_DP_ConfigAttInitCbk</name>
        <param>
          <type>cy_timer_id_t</type>
          <declname>id</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>ptrContext</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_dp_sid.c" line="2044" column="1" bodyfile="cy_pdaltmode_dp_sid.c" bodystart="2044" bodyend="2060"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para>DisplayPort Alternate Mode Source implementation. </para>    </briefdescription>
    <detaileddescription>
<para><simplesect kind="version"><para>1.0</para></simplesect>
<simplesect kind="copyright"><para>Copyright 2024, Cypress Semiconductor Corporation (an Infineon company) or an affiliate of Cypress Semiconductor Corporation. All rights reserved. You may use this file only in accordance with the license, terms, conditions, disclaimers, and limitations in the end user license agreement accompanying the software package with which this file was provided. </para></simplesect>
</para>    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/***************************************************************************/</highlight></codeline>
<codeline lineno="17"><highlight class="preprocessor">#include<sp/>&quot;cy_pdaltmode_defines.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_pdstack_dpm.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_pdutils_sw_timer.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_pdstack_timer_id.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_pdaltmode_timer_id.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_usbpd_config_table.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_usbpd_hpd.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_pdaltmode_hw.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_pdaltmode_mngr.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_pdaltmode_dp_sid.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>RIDGE_SLAVE_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_pdaltmode_intel_ridge_common.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>RIDGE_SLAVE_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>ICL_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_pdaltmode_icl.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>ICL_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_DFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Analyses<sp/>DP<sp/>DISC<sp/>MODE<sp/>info<sp/>for<sp/>DFP<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="structcy__stc__pdaltmode__mngr__info__t" kindref="compound">cy_stc_pdaltmode_mngr_info_t</ref>*<sp/>Cy_PdAltMode_DP_RegDfp(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/><ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t" kindref="compound">cy_stc_pdaltmode_alt_mode_reg_info_t</ref><sp/>*reg);</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Analyse<sp/>received<sp/>DP<sp/>sink<sp/>DISC<sp/>MODE<sp/>VDO<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__display__port__enums_1gad6f1f79915cc9c1b675a6e9e6e4879a5" kindref="member">cy_en_pdaltmode_dp_state_t</ref><sp/>Cy_PdAltMode_DP_AnalyseSinkVdo(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/>cy_pd_pd_do_t<sp/>svidVdo);</highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Evaluates<sp/>DP<sp/>sink<sp/>Status<sp/>Update/Attention<sp/>VDM<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__display__port__enums_1gad6f1f79915cc9c1b675a6e9e6e4879a5" kindref="member">cy_en_pdaltmode_dp_state_t</ref><sp/>Cy_PdAltMode_DP_EvalUfpStatus(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext);</highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Initialize<sp/>DP<sp/>DFP<sp/>Alt<sp/>Mode<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_Init(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext);</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Checks<sp/>if<sp/>cable<sp/>supports<sp/>DP<sp/>handling<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_IsCableCapable(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structcy__stc__pdaltmode__atch__tgt__info__t" kindref="compound">cy_stc_pdaltmode_atch_tgt_info_t</ref><sp/>*atchTgtInfo);</highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>HPD<sp/>callback<sp/>function<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_SrcHpdRespCbk(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*context,<sp/>uint32_t<sp/>event);</highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Add<sp/>received<sp/>DP<sp/>source<sp/>HPD<sp/>status<sp/>to<sp/>queue<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_DfpEnqueueHpd(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/>uint32_t<sp/>status);</highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Clean<sp/>HPD<sp/>queue<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_CleanHpdQueue(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext);</highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Main<sp/>DP<sp/>Source<sp/>Alt<sp/>Mode<sp/>function<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_DfpRun(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*Context);</highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Analyses<sp/>received<sp/>status<sp/>update<sp/>VDO<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_AnalyseStatusUpdateVdo(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext);</highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Analyse<sp/>if<sp/>DFP<sp/>and<sp/>UFP<sp/>DP<sp/>modes<sp/>consistent<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_IsPrtnrCcgConsistent(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/>uint8_t<sp/>config);</highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Analyses<sp/>DP<sp/>DISC<sp/>MODE<sp/>info<sp/>for<sp/>the<sp/>cable<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="structcy__stc__pdaltmode__mngr__info__t" kindref="compound">cy_stc_pdaltmode_mngr_info_t</ref>*<sp/>Cy_PdAltMode_DP_RegCbl(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/><ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t" kindref="compound">cy_stc_pdaltmode_alt_mode_reg_info_t</ref><sp/>*reg);</highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>cable<sp/>contains<sp/>DP<sp/>SVID<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_IsCableSvid(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structcy__stc__pdaltmode__atch__tgt__info__t" kindref="compound">cy_stc_pdaltmode_atch_tgt_info_t</ref><sp/>*atchTgtInfo,<sp/>uint16_t<sp/>svid);</highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_DFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_UFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>HPD<sp/>callback<sp/>function(Snk)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_SnkHpdRespCbk(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*context,<sp/>uint32_t<sp/>cmd);</highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Main<sp/>DP<sp/>Sink<sp/>Alt<sp/>Mode<sp/>function<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_UfpRun(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*Context);</highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Updates<sp/>DP<sp/>Sink<sp/>Status<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_UfpUpdateStatusField<sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1gac0329806db727d768fdc25a545a2170a" kindref="member">cy_en_pdaltmode_dp_stat_bm_t</ref><sp/>bitPos,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>status);</highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_UfpSetStatusField<sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1gac0329806db727d768fdc25a545a2170a" kindref="member">cy_en_pdaltmode_dp_stat_bm_t</ref><sp/>bitPos);</highlight></codeline>
<codeline lineno="90"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_UfpClearStatusField<sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1gac0329806db727d768fdc25a545a2170a" kindref="member">cy_en_pdaltmode_dp_stat_bm_t</ref><sp/>bitPos);</highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Add<sp/>received<sp/>DP<sp/>sink<sp/>HPD<sp/>status<sp/>to<sp/>queue<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_UfpEnqueueHpd(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/>cy_en_usbpd_hpd_events_t<sp/>status);</highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Dequeue<sp/>DP<sp/>Sink<sp/>HPD<sp/>status<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_UfpDequeueHpd(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext);</highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Verifies<sp/>is<sp/>input<sp/>configuration<sp/>valid<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_IsConfigCorrect(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext);</highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>CY_PD_DP_VCONN_SWAP_FEATURE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Vconn<sp/>Swap<sp/>initiate<sp/>callback<sp/>function<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_VconnSwapInitCbk<sp/>(cy_timer_id_t<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*ptrContext);</highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Vconn<sp/>Swap<sp/>callback<sp/>function<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_VconnSwapCbk(cy_stc_pdstack_context_t<sp/>*<sp/>ptrPdStackContext,<sp/>cy_en_pdstack_resp_status_t<sp/>resp,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>cy_stc_pdstack_pd_packet_t*<sp/>pktPtr);</highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>CY_PD_DP_VCONN_SWAP_FEATURE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_UFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>((DP_DFP_SUPP)<sp/>||<sp/>(DP_UFP_SUPP))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_AddHpdEvt(<ref refid="structcy__stc__pdaltmode__dp__status__t" kindref="compound">cy_stc_pdaltmode_dp_status_t</ref><sp/>*dpStatus,<sp/>cy_en_usbpd_hpd_events_t<sp/>evt);</highlight></codeline>
<codeline lineno="112"><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Composes<sp/>VDM<sp/>for<sp/>sending<sp/>by<sp/>Alt<sp/>Mode<sp/>manager<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_SendCmd(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext);</highlight></codeline>
<codeline lineno="115"><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Returns<sp/>pointer<sp/>to<sp/>DP<sp/>Alt<sp/>Mode<sp/>cmd<sp/>info<sp/>structure<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="structcy__stc__pdaltmode__mngr__info__t" kindref="compound">cy_stc_pdaltmode_mngr_info_t</ref>*<sp/>Cy_PdAltMode_DP_Info(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext);</highlight></codeline>
<codeline lineno="118"><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Evaluates<sp/>DP<sp/>sink<sp/>Configuration<sp/>command<sp/>response<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1ga6e2d96963afcf43ec5dfe3d5a18d6bc6" kindref="member">cy_en_pdaltmode_mux_select_t</ref><sp/>Cy_PdAltMode_DP_EvalConfig(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext);</highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Exits<sp/>DP<sp/>Alt<sp/>Mode<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_Exit(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext);</highlight></codeline>
<codeline lineno="124"><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Initialize<sp/>HPD<sp/>functionality<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_InitHpd(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/>uint8_t<sp/>portRole);</highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Returns<sp/>pointer<sp/>to<sp/>DP<sp/>VDO<sp/>buffer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>cy_pd_pd_do_t*<sp/>Cy_PdAltMode_DP_GetVdo(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext);</highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Resets<sp/>DP<sp/>variables<sp/>when<sp/>exits<sp/>DP<sp/>Alt<sp/>Mode<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_ResetVar(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext);</highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Stores<sp/>given<sp/>VDO<sp/>in<sp/>DP<sp/>VDO<sp/>buffer<sp/>for<sp/>sending<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_AssignVdo(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/>uint32_t<sp/>vdo);</highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(!ICL_ALT_MODE_HPI_DISABLED)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Evaluates<sp/>received<sp/>command<sp/>from<sp/>application<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_EvalAppCmd(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*context,<sp/><ref refid="unioncy__stc__pdaltmode__alt__mode__evt__t" kindref="compound">cy_stc_pdaltmode_alt_mode_evt_t</ref><sp/>cmdData);</highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(!ICL_ALT_MODE_HPI_DISABLED)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_DFP_SUPP<sp/>||<sp/>DP_UFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_DFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(!ICL_ALT_MODE_HPI_DISABLED)<sp/><sp/><sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_SetAppEvt(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/>uint32_t<sp/>evtype,<sp/>uint32_t<sp/>evdata)</highlight></codeline>
<codeline lineno="146"><highlight class="normal">{</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ace7335a7957d82b0ad0b088c6957d910" kindref="member">info</ref>.<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a7f346974c415edc056ac42a3576b64a2" kindref="member">appEvtNeeded</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ace7335a7957d82b0ad0b088c6957d910" kindref="member">info</ref>.<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a006425a98c7fe5ca49345bcb44def263" kindref="member">appEvtData</ref>.<ref refid="unioncy__stc__pdaltmode__alt__mode__evt__t_1a201fd5a2b022ffb90a9341b575d285b6" kindref="member">alt_mode_event_data</ref>.<ref refid="structcy__stc__pdaltmode__alt__mode__evt__t_1_1_a_l_t___m_o_d_e___e_v_t___d_a_t_a_1a15415e75dd998146b5e1ac1c5f4e3e55" kindref="member">evtType</ref><sp/>=<sp/>evtype;</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ace7335a7957d82b0ad0b088c6957d910" kindref="member">info</ref>.<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a006425a98c7fe5ca49345bcb44def263" kindref="member">appEvtData</ref>.<ref refid="unioncy__stc__pdaltmode__alt__mode__evt__t_1a201fd5a2b022ffb90a9341b575d285b6" kindref="member">alt_mode_event_data</ref>.<ref refid="structcy__stc__pdaltmode__alt__mode__evt__t_1_1_a_l_t___m_o_d_e___e_v_t___d_a_t_a_1a012c9670d501690399b7847ac2567882" kindref="member">evtData</ref><sp/>=<sp/>evdata;</highlight></codeline>
<codeline lineno="150"><highlight class="normal">}</highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(!ICL_ALT_MODE_HPI_DISABLED)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>((DP_DFP_SUPP)<sp/>||<sp/>(DP_UFP_SUPP))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>DP<sp/>info<sp/>status<sp/>structure<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="structcy__stc__pdaltmode__dp__status__t" kindref="compound">cy_stc_pdaltmode_dp_status_t</ref><sp/>gl_dpStatus[NO_OF_TYPEC_PORTS];</highlight></codeline>
<codeline lineno="157"><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"><ref refid="structcy__stc__pdaltmode__dp__status__t" kindref="compound">cy_stc_pdaltmode_dp_status_t</ref>*<sp/><ref refid="group__group__pdaltmode__display__port__functions_1ga8660302a2d70c94169d7ded455621301" kindref="member">Cy_PdAltMode_DP_GetStatus</ref>(uint8_t<sp/>port)</highlight></codeline>
<codeline lineno="159"><highlight class="normal">{</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>&amp;gl_dpStatus[port];</highlight></codeline>
<codeline lineno="161"><highlight class="normal">}</highlight></codeline>
<codeline lineno="162"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_DFP_SUPP<sp/>||<sp/>DP_UFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"></highlight><highlight class="comment">/*********************<sp/>Alt<sp/>Modes<sp/>manager<sp/>register<sp/>function<sp/>********************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><ref refid="structcy__stc__pdaltmode__mngr__info__t" kindref="compound">cy_stc_pdaltmode_mngr_info_t</ref>*<sp/><ref refid="group__group__pdaltmode__display__port__functions_1gaeba07b7dee629cbad9c6d4c6cfdb12a1" kindref="member">Cy_PdAltMode_DP_RegModes</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*context,<sp/><ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t" kindref="compound">cy_stc_pdaltmode_alt_mode_reg_info_t</ref>*<sp/>regInfo)</highlight></codeline>
<codeline lineno="166"><highlight class="normal">{</highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(DP_DFP_SUPP<sp/>||<sp/>DP_UFP_SUPP)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext<sp/>=<sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*)context;</highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(DP_DFP_SUPP<sp/>||<sp/><sp/>DP_UFP_SUPP)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__mngr__info__t" kindref="compound">cy_stc_pdaltmode_mngr_info_t</ref>*<sp/>retInfo<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/>regInfo-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1aeed1aa6c5a31dd9c4905ce3419474c34" kindref="member">altModeId</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__macros_1gab902473a58fc39742864730a1845d172" kindref="member">CY_PDALTMODE_MNGR_MODE_NOT_SUPPORTED</ref>;</highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(DP_DFP_SUPP<sp/>||<sp/>DP_UFP_SUPP)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a5b2942deed6c6a4382e9d669a62d68c5" kindref="member">usb4Active</ref>)</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>retInfo;</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="178"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(DP_DFP_SUPP<sp/>||<sp/><sp/>DP_UFP_SUPP)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="181"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_UFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>DP<sp/>sink<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(regInfo-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a1c8b10701daa577e29ec61baf0b3378d" kindref="member">dataRole</ref><sp/>==<sp/>(uint8_t)CY_PD_PRT_TYPE_UFP)</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Reset<sp/>DP<sp/>info<sp/>struct<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ALT_MODE_CALL_MAP(<ref refid="group__group__pdaltmode__vdm__alt__mode__manager__functions_1gadfe2545c2c006fbe9aa5fad404715ec9" kindref="member">Cy_PdAltMode_Mngr_ResetAltModeInfo</ref>)(&amp;(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ace7335a7957d82b0ad0b088c6957d910" kindref="member">info</ref>));</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_ResetVar(ptrAltModeContext);</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>regInfo-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1aeed1aa6c5a31dd9c4905ce3419474c34" kindref="member">altModeId</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gac2942f71344bd23b0e04fa79e350019b" kindref="member">CY_PDALTMODE_DP_ALT_MODE_ID</ref>;</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1aa576a789c55d631f6d516b6f623a7da3" kindref="member">cbk</ref><sp/>=<sp/>(<ref refid="group__group__pdaltmode__vdm__alt__mode__manager__data__structures_1ga05fe4c1e5050ead24faad63a56212a7a" kindref="member">cy_pdaltmode_alt_mode_cbk_t</ref>)<sp/>Cy_PdAltMode_DP_UfpRun;</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a04a950f17ed35dfcd29fc6f58137a6e4" kindref="member">vdmHeader</ref>.std_vdm_hdr.svid<sp/>=<sp/><ref refid="group__group__pdaltmode__common__macros_1gaf33d8c03f64a191110fddd9f98657092" kindref="member">CY_PDALTMODE_DP_SVID</ref>;</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a27bb41076b075814e7a4cbf9a7ebed5f" kindref="member">vdo</ref>[CY_PD_SOP]<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1aa6481d5042d2a7ef93d4272274d38193" kindref="member">vdo</ref>;</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a9baeed922b72b11957631cfce2a686ca" kindref="member">vdoMaxNumb</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__common__macros_1gad5a8ba3a413e6879b2cb9a28a740b6bf" kindref="member">CY_PDALTMODE_MAX_DP_VDO_NUMB</ref>;</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a37a95f9810299d71a265504bcd93988a" kindref="member">evalAppCmd</ref><sp/>=<sp/>(<ref refid="group__group__pdaltmode__vdm__alt__mode__manager__data__structures_1ga0b0ad83f1c572f23d1ccd3d4d971e07c" kindref="member">cy_pdaltmode_app_cbk_t</ref>)<sp/>Cy_PdAltMode_DP_EvalAppCmd;</highlight></codeline>
<codeline lineno="194"><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>application<sp/>event<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>regInfo-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a2b907a5fce1fa1642f21af9388571263" kindref="member">appEvt</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga9a0d2881cd562cf3f08968d5d5c0e4e3ad3df826570f3d2764f9622447d130773" kindref="member">CY_PDALTMODE_EVT_ALT_MODE_SUPP</ref>;</highlight></codeline>
<codeline lineno="197"><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>supported<sp/>DP<sp/>sink<sp/>pin<sp/>assignment<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((regInfo-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1af3ae8804c65c858dbca2bed51e4704a8" kindref="member">svidVdo</ref>.std_dp_vdo.recep)<sp/>!=<sp/>0u)</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a8bc5ea4917a92366aae12a691b43e5a1" kindref="member">ccgDpPinsSupp</ref><sp/>=<sp/>(uint8_t)regInfo-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1af3ae8804c65c858dbca2bed51e4704a8" kindref="member">svidVdo</ref>.std_dp_vdo.ufpDPin;</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a8bc5ea4917a92366aae12a691b43e5a1" kindref="member">ccgDpPinsSupp</ref><sp/>=<sp/>(uint8_t)regInfo-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1af3ae8804c65c858dbca2bed51e4704a8" kindref="member">svidVdo</ref>.std_dp_vdo.dfpDPin;</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>&amp;(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ace7335a7957d82b0ad0b088c6957d910" kindref="member">info</ref>);</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="209"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_UFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_DFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>DP<sp/>source<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(regInfo-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1acc83f7dc5eda070944e8b2e24e0feca7" kindref="member">atchType</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__macros_1ga6e690e4726624215292ba6ac01d8bb4b" kindref="member">CY_PDALTMODE_MNGR_ATCH_TGT</ref>)</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="215"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>STORE_DETAILS_OF_HOST</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*dsContext<sp/>=</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*)ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a2c44432dce2d2c8128d7338825b18526" kindref="member">hostDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__host__details__t_1a08f03053bd1816c6e2ae4af0f38fd873" kindref="member">dsAltModeContext</ref>;</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((dsContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a2c44432dce2d2c8128d7338825b18526" kindref="member">hostDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__host__details__t_1abf0875256fb25e10e06e958f9db548f8" kindref="member">dsModeMask</ref><sp/><sp/>&amp;<sp/>(uint8_t)<ref refid="group__group__pdaltmode__intel__enums_1ggab67fb53094f5aaf31835f37f421c72d3a2f3577b19295a213b01fc111903a5b33" kindref="member">CY_PDALTMODE_RIDGE_DP_MODE_DFP</ref>)<sp/>==<sp/>0u)</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="222"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>STORE_DETAILS_OF_HOST<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Analyze<sp/>DFP<sp/>DP<sp/>Disc<sp/>mode<sp/>response<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>retInfo<sp/>=<sp/>Cy_PdAltMode_DP_RegDfp(ptrAltModeContext,<sp/>regInfo);</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(regInfo-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1acc83f7dc5eda070944e8b2e24e0feca7" kindref="member">atchType</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__macros_1gaf9e238559658449787146f037960e867" kindref="member">CY_PDALTMODE_MNGR_CABLE</ref>)</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Analyze<sp/>DP<sp/>cable<sp/>Disc<sp/>mode<sp/>response<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>retInfo<sp/>=<sp/>Cy_PdAltMode_DP_RegCbl(ptrAltModeContext,<sp/>regInfo);</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Do<sp/>nothing<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="236"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_DFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="238"><highlight class="normal"></highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>retInfo;</highlight></codeline>
<codeline lineno="240"><highlight class="normal">}</highlight></codeline>
<codeline lineno="241"><highlight class="normal"></highlight></codeline>
<codeline lineno="242"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_DFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="structcy__stc__pdaltmode__mngr__info__t" kindref="compound">cy_stc_pdaltmode_mngr_info_t</ref>*<sp/>Cy_PdAltMode_DP_RegDfp(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/><ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t" kindref="compound">cy_stc_pdaltmode_alt_mode_reg_info_t</ref><sp/>*reg)</highlight></codeline>
<codeline lineno="244"><highlight class="normal">{</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>;</highlight></codeline>
<codeline lineno="246"><highlight class="normal"></highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Reset<sp/>DP<sp/>info<sp/>struct<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/>ALT_MODE_CALL_MAP(<ref refid="group__group__pdaltmode__vdm__alt__mode__manager__functions_1gadfe2545c2c006fbe9aa5fad404715ec9" kindref="member">Cy_PdAltMode_Mngr_ResetAltModeInfo</ref>)(&amp;ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ace7335a7957d82b0ad0b088c6957d910" kindref="member">info</ref>);</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/>reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1aeed1aa6c5a31dd9c4905ce3419474c34" kindref="member">altModeId</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gac2942f71344bd23b0e04fa79e350019b" kindref="member">CY_PDALTMODE_DP_ALT_MODE_ID</ref>;</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_ResetVar(ptrAltModeContext);</highlight></codeline>
<codeline lineno="251"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(!ICL_ALT_MODE_HPI_DISABLED)<sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>config<sp/>ctrl<sp/>as<sp/>false<sp/>at<sp/>the<sp/>start<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a586105d58ba9a42ee8f5561efe365cb1" kindref="member">dpCfgCtrl</ref><sp/>=<sp/>0u;</highlight></codeline>
<codeline lineno="254"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(!ICL_ALT_MODE_HPI_DISABLED)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="255"><highlight class="normal"></highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>cable<sp/>discovered<sp/>and<sp/>if<sp/>active<sp/>cable<sp/>has<sp/>no<sp/>fixed<sp/>SS<sp/>lines<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!Cy_PdAltMode_DP_IsCableCapable(ptrAltModeContext,<sp/>reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a773c922d1bc99265b03bbea07b45bd05" kindref="member">atchTgtInfo</ref>))</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>application<sp/>event<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a2b907a5fce1fa1642f21af9388571263" kindref="member">appEvt</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga9a0d2881cd562cf3f08968d5d5c0e4e3ae588be08ea4f81bed02a6623466c08f1" kindref="member">CY_PDALTMODE_EVT_CBL_NOT_SUPP_ALT_MODE</ref>;</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Analyze<sp/>sink<sp/>VDO<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref><sp/>=<sp/>Cy_PdAltMode_DP_AnalyseSinkVdo(ptrAltModeContext,<sp/>reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1af3ae8804c65c858dbca2bed51e4704a8" kindref="member">svidVdo</ref>);</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a2ffaaf71bb924322fa01762aa199f818" kindref="member">CY_PDALTMODE_DP_STATE_EXIT</ref>)</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>application<sp/>event<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a2b907a5fce1fa1642f21af9388571263" kindref="member">appEvt</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga9a0d2881cd562cf3f08968d5d5c0e4e3ae657e5feb4b9197f0a03dfdd238dc782" kindref="member">CY_PDALTMODE_EVT_NOT_SUPP_PARTNER_CAP</ref>;</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="271"><highlight class="normal"></highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>cable<sp/>is<sp/>active<sp/>and<sp/>supports<sp/>PD<sp/>3.0<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrPdStackContext-&gt;dpmStat.cblType<sp/>==<sp/>CY_PDSTACK_PROD_TYPE_ACT_CBL)</highlight></codeline>
<codeline lineno="275"><highlight class="normal">#</highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>DP_2_1_ENABLE</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>||<sp/>((ptrPdStackContext-&gt;dpmStat.cblType<sp/>==<sp/>CY_PDSTACK_PROD_TYPE_PAS_CBL)<sp/>&amp;&amp;<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1afdc9b7d48e359e42994ae7c7a1389e54" kindref="member">dp21Supp</ref>)</highlight></codeline>
<codeline lineno="277"><highlight class="normal">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_2_1_ENABLE<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>cable<sp/>has<sp/>DP<sp/>SVID<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Cy_PdAltMode_DP_IsCableSvid(reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a773c922d1bc99265b03bbea07b45bd05" kindref="member">atchTgtInfo</ref>,<sp/><ref refid="group__group__pdaltmode__common__macros_1gaf33d8c03f64a191110fddd9f98657092" kindref="member">CY_PDALTMODE_DP_SVID</ref>)==<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>SOP&apos;<sp/>disc<sp/>svid<sp/>is<sp/>not<sp/>needed<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a0d16a261b633103684e21636e8b2d957" kindref="member">cblSopFlag</ref><sp/>=<sp/>CY_PD_SOP_INVALID;</highlight></codeline>
<codeline lineno="285"><highlight class="normal"></highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>application<sp/>event<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a2b907a5fce1fa1642f21af9388571263" kindref="member">appEvt</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga9a0d2881cd562cf3f08968d5d5c0e4e3ad3df826570f3d2764f9622447d130773" kindref="member">CY_PDALTMODE_EVT_ALT_MODE_SUPP</ref>;</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>SOP&apos;<sp/>disc<sp/>svid<sp/><sp/>needed<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a0d16a261b633103684e21636e8b2d957" kindref="member">cblSopFlag</ref><sp/>=<sp/>CY_PD_SOP_PRIME;</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="295"><highlight class="normal"></highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a0d16a261b633103684e21636e8b2d957" kindref="member">cblSopFlag</ref><sp/>!=<sp/>CY_PD_SOP_PRIME)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_IsCableSvid(reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a773c922d1bc99265b03bbea07b45bd05" kindref="member">atchTgtInfo</ref>,<sp/><ref refid="group__group__pdaltmode__common__macros_1ga73240a1c8f3d99e29393c3ead7a4bbce" kindref="member">CY_PDALTMODE_TBT_SVID</ref>)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a0ac810708362696618c082ab1cb88128" kindref="member">tbtCblVdo</ref>.val<sp/>==<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>)</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a0d16a261b633103684e21636e8b2d957" kindref="member">cblSopFlag</ref><sp/>=<sp/>CY_PD_SOP_PRIME;</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a0072068202d415dda15bee222f81a4e6" kindref="member">trigTbtVdoDisc</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="305"><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Copy<sp/>cable,<sp/>device/AMA<sp/>info<sp/>pointer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a9d526568eb979dda594e8e40409dfab6" kindref="member">tgtInfoPtr</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a773c922d1bc99265b03bbea07b45bd05" kindref="member">atchTgtInfo</ref>;</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1aa62ec86401253d2d666aa03a4fc0e863" kindref="member">maxSopSupp</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>(uint8_t)CY_PD_SOP;</highlight></codeline>
<codeline lineno="309"><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>CCG_UCSI_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="311"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(!ICL_ALT_MODE_HPI_DISABLED)<sp/><sp/><sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>New<sp/>event<sp/>to<sp/>notify<sp/>the<sp/>UCSI<sp/>module<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/>reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a2b907a5fce1fa1642f21af9388571263" kindref="member">appEvt</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga9a0d2881cd562cf3f08968d5d5c0e4e3acb3808a25d185c818f49437df85914fe" kindref="member">CY_PDALTMODE_EVT_SUPP_ALT_MODE_CHNG</ref>;</highlight></codeline>
<codeline lineno="314"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(!ICL_ALT_MODE_HPI_DISABLED)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="315"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*CCG_UCSI_ENABLE*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="316"><highlight class="normal"></highlight></codeline>
<codeline lineno="317"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(!ICL_ALT_MODE_HPI_DISABLED)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Notify<sp/>application<sp/>which<sp/>DP<sp/>MUX<sp/>config<sp/>is<sp/>supported<sp/>by<sp/>both<sp/>DFP<sp/>and<sp/>UFP<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_SetAppEvt(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga5b0dfd5370c8f9ed22eb203dcb2c9961" kindref="member">CY_PDALTMODE_DP_ALLOWED_MUX_CONFIG_EVT</ref>,</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((uint32_t)ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ac0f36eb33b6499e072bc78bfe2bbd954" kindref="member">partnerDpPinsSupp</ref><sp/>&amp;<sp/>(uint32_t)ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a8bc5ea4917a92366aae12a691b43e5a1" kindref="member">ccgDpPinsSupp</ref>));</highlight></codeline>
<codeline lineno="321"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(!ICL_ALT_MODE_HPI_DISABLED)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="322"><highlight class="normal"></highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a9baeed922b72b11957631cfce2a686ca" kindref="member">vdoMaxNumb</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__common__macros_1gad5a8ba3a413e6879b2cb9a28a740b6bf" kindref="member">CY_PDALTMODE_MAX_DP_VDO_NUMB</ref>;</highlight></codeline>
<codeline lineno="324"><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Prepare<sp/>DP<sp/>Enter<sp/>command<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1af6f4124dc3a22407c6a62da3c449c57a" kindref="member">modeState</ref><sp/><sp/><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0a912b90444de583fa5134ac50f1bb576a" kindref="member">CY_PDALTMODE_STATE_INIT</ref>;</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_DfpRun(ptrAltModeContext);</highlight></codeline>
<codeline lineno="328"><highlight class="normal"></highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>&amp;ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ace7335a7957d82b0ad0b088c6957d910" kindref="member">info</ref>;</highlight></codeline>
<codeline lineno="330"><highlight class="normal">}</highlight></codeline>
<codeline lineno="331"><highlight class="normal"></highlight></codeline>
<codeline lineno="332"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="structcy__stc__pdaltmode__mngr__info__t" kindref="compound">cy_stc_pdaltmode_mngr_info_t</ref>*<sp/>Cy_PdAltMode_DP_RegCbl(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/><ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t" kindref="compound">cy_stc_pdaltmode_alt_mode_reg_info_t</ref><sp/>*reg)</highlight></codeline>
<codeline lineno="333"><highlight class="normal">{</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>;</highlight></codeline>
<codeline lineno="335"><highlight class="normal"></highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/>reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1aeed1aa6c5a31dd9c4905ce3419474c34" kindref="member">altModeId</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gac2942f71344bd23b0e04fa79e350019b" kindref="member">CY_PDALTMODE_DP_ALT_MODE_ID</ref>;</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>cblSuppPinAsgn<sp/>=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>;</highlight></codeline>
<codeline lineno="338"><highlight class="normal"></highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a0072068202d415dda15bee222f81a4e6" kindref="member">trigTbtVdoDisc</ref>)</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cblSuppPinAsgn<sp/>=<sp/>(uint8_t)(reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a824adae0353c8223d1926157ca9c7716" kindref="member">svidEmcaVdo</ref>.std_dp_vdo.dfpDPin<sp/>|<sp/>reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a824adae0353c8223d1926157ca9c7716" kindref="member">svidEmcaVdo</ref>.std_dp_vdo.ufpDPin);</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="343"><highlight class="normal"></highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a0d16a261b633103684e21636e8b2d957" kindref="member">cblSopFlag</ref><sp/>!=<sp/>CY_PD_SOP_INVALID)</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Analyze<sp/>TBT<sp/>cable<sp/>response<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a0072068202d415dda15bee222f81a4e6" kindref="member">trigTbtVdoDisc</ref>)</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a0072068202d415dda15bee222f81a4e6" kindref="member">trigTbtVdoDisc</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>DP<sp/>mode<sp/>not<sp/>supported<sp/>for<sp/>TBT<sp/>Retimer<sp/>cable<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a824adae0353c8223d1926157ca9c7716" kindref="member">svidEmcaVdo</ref>.tbt_vdo.b22RetimerCbl<sp/>!=<sp/>0x0U)<sp/>||<sp/>(reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a824adae0353c8223d1926157ca9c7716" kindref="member">svidEmcaVdo</ref>.tbt_vdo.cableActive<sp/>!=<sp/>0x0U))</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="353"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(!ICL_ALT_MODE_EVTS_DISABLED)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>application<sp/>event<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a2b907a5fce1fa1642f21af9388571263" kindref="member">appEvt</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga9a0d2881cd562cf3f08968d5d5c0e4e3ae588be08ea4f81bed02a6623466c08f1" kindref="member">CY_PDALTMODE_EVT_CBL_NOT_SUPP_ALT_MODE</ref>;</highlight></codeline>
<codeline lineno="356"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(!ICL_ALT_MODE_EVTS_DISABLED)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Disable<sp/>TBT<sp/>functionality<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1af6f4124dc3a22407c6a62da3c449c57a" kindref="member">modeState</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0a3deb639b2460e8d71d3aec6aca39ae70" kindref="member">CY_PDALTMODE_STATE_DISABLE</ref>;</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(Cy_PdAltMode_DP_IsPrtnrCcgConsistent(ptrAltModeContext,<sp/>cblSuppPinAsgn)<sp/><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((cblSuppPinAsgn<sp/>&amp;<sp/>(<ref refid="group__group__pdaltmode__display__port__macros_1ga4b7009e3a0080d69cf4eebd8fc4d0260" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_C</ref><sp/>|<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga0031e33f27d8edfa24b93511763e66a6" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_D</ref><sp/>|<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga31e7c3821f9c13cf548ed3cc575bc4e6" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_E</ref>))<sp/>!=<sp/>0x00U))</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="367"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_2_1_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>DP<sp/>cable<sp/>meets<sp/>DP2.1<sp/>conditions<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a824adae0353c8223d1926157ca9c7716" kindref="member">svidEmcaVdo</ref>.dp_cbl_vdo.dpAmVersion<sp/>&gt;=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gacc1eee1245a094ddaf6e172eca1591d8" kindref="member">CY_PDALTMODE_DP_2_1_VERSION</ref>)<sp/><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrPdStackContext-&gt;cblVdmMinVersion<sp/>&gt;=<sp/>CY_PDSTACK_STD_VDM_MINOR_VER1)<sp/><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrPdStackContext-&gt;dpmStat.cblVdmVersion<sp/>==<sp/>CY_PDSTACK_STD_VDM_VER2)</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a5b8371416b56b234ee490a960c427f50" kindref="member">dpCblVdo</ref><sp/>=<sp/>reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a824adae0353c8223d1926157ca9c7716" kindref="member">svidEmcaVdo</ref>;</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1afdc9b7d48e359e42994ae7c7a1389e54" kindref="member">dp21Supp</ref><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a824adae0353c8223d1926157ca9c7716" kindref="member">svidEmcaVdo</ref>.dp_cbl_vdo.actComp<sp/>==<sp/>CY_PDSTACK_CBL_TYPE_PASSIVE)</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="381"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(!ICL_ALT_MODE_EVTS_DISABLED)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>application<sp/>event<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a2b907a5fce1fa1642f21af9388571263" kindref="member">appEvt</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga9a0d2881cd562cf3f08968d5d5c0e4e3ad3df826570f3d2764f9622447d130773" kindref="member">CY_PDALTMODE_EVT_ALT_MODE_SUPP</ref>;</highlight></codeline>
<codeline lineno="384"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(!ICL_ALT_MODE_EVTS_DISABLED)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a0d16a261b633103684e21636e8b2d957" kindref="member">cblSopFlag</ref><sp/>=<sp/>CY_PD_SOP_INVALID;</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>&amp;(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ace7335a7957d82b0ad0b088c6957d910" kindref="member">info</ref>);</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="389"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_2_1_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="390"><highlight class="normal"></highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>SOP&apos;<sp/>VDM<sp/>needed<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1aa62ec86401253d2d666aa03a4fc0e863" kindref="member">maxSopSupp</ref><sp/>=<sp/>(uint8_t)CY_PD_SOP_PRIME;</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Allow<sp/>send<sp/>SOP&apos;<sp/>packets<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a53c88038aacb67472c535fda475d6645" kindref="member">sopState</ref>[CY_PD_SOP_PRIME]<sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0aca260007e2b0407be9d067a96b429c46" kindref="member">CY_PDALTMODE_STATE_SEND</ref>;</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Allow<sp/>SOP&apos;/SOP&quot;<sp/>DP<sp/>handling<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1add230632f077b5e0c350a45788fe75b0" kindref="member">dpActCblSupp</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Save<sp/>supported<sp/>cable<sp/>pin<sp/>assignment<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a364a338b18ec888a6242260f44a7af7d" kindref="member">cableConfigSupp</ref><sp/>=<sp/>cblSuppPinAsgn;</highlight></codeline>
<codeline lineno="399"><highlight class="normal"></highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>SOP&apos;&apos;<sp/>controller<sp/>present<sp/>(active<sp/>cables<sp/>only)<sp/>allow<sp/>SOP&apos;&apos;<sp/>VDM<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a9d526568eb979dda594e8e40409dfab6" kindref="member">tgtInfoPtr</ref>-&gt;<ref refid="structcy__stc__pdaltmode__atch__tgt__info__t_1a8f281e3f3e2462ee8dc336e634361fb4" kindref="member">cblVdo</ref>-&gt;val<sp/>!=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrPdStackContext-&gt;dpmStat.cblType<sp/>==<sp/>CY_PDSTACK_PROD_TYPE_ACT_CBL)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a9d526568eb979dda594e8e40409dfab6" kindref="member">tgtInfoPtr</ref>-&gt;<ref refid="structcy__stc__pdaltmode__atch__tgt__info__t_1a8f281e3f3e2462ee8dc336e634361fb4" kindref="member">cblVdo</ref>-&gt;std_cbl_vdo.sopDp<sp/>==<sp/>0x01U))</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a53c88038aacb67472c535fda475d6645" kindref="member">sopState</ref>[CY_PD_SOP_DPRIME]<sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0aca260007e2b0407be9d067a96b429c46" kindref="member">CY_PDALTMODE_STATE_SEND</ref>;</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1aa62ec86401253d2d666aa03a4fc0e863" kindref="member">maxSopSupp</ref><sp/>=<sp/>(uint8_t)CY_PD_SOP_DPRIME;</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="408"><highlight class="normal"></highlight></codeline>
<codeline lineno="409"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(!ICL_ALT_MODE_EVTS_DISABLED)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>application<sp/>event<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a2b907a5fce1fa1642f21af9388571263" kindref="member">appEvt</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga9a0d2881cd562cf3f08968d5d5c0e4e3ad3df826570f3d2764f9622447d130773" kindref="member">CY_PDALTMODE_EVT_ALT_MODE_SUPP</ref>;</highlight></codeline>
<codeline lineno="412"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(!ICL_ALT_MODE_EVTS_DISABLED)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="414"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_2_1_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a824adae0353c8223d1926157ca9c7716" kindref="member">svidEmcaVdo</ref>.dp_cbl_vdo.dpAmVersion<sp/>&gt;=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gacc1eee1245a094ddaf6e172eca1591d8" kindref="member">CY_PDALTMODE_DP_2_1_VERSION</ref>)</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="417"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(!ICL_ALT_MODE_EVTS_DISABLED)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>application<sp/>event<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a2b907a5fce1fa1642f21af9388571263" kindref="member">appEvt</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga9a0d2881cd562cf3f08968d5d5c0e4e3ae588be08ea4f81bed02a6623466c08f1" kindref="member">CY_PDALTMODE_EVT_CBL_NOT_SUPP_ALT_MODE</ref>;</highlight></codeline>
<codeline lineno="420"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(!ICL_ALT_MODE_EVTS_DISABLED)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Disable<sp/>TBT<sp/>functionality<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1af6f4124dc3a22407c6a62da3c449c57a" kindref="member">modeState</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0a3deb639b2460e8d71d3aec6aca39ae70" kindref="member">CY_PDALTMODE_STATE_DISABLE</ref>;</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="425"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_2_1_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Do<sp/>nothing<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="430"><highlight class="normal"></highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg-&gt;<ref refid="structcy__stc__pdaltmode__alt__mode__reg__info__t_1a0d16a261b633103684e21636e8b2d957" kindref="member">cblSopFlag</ref><sp/>=<sp/>CY_PD_SOP_INVALID;</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="433"><highlight class="normal"></highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>&amp;(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ace7335a7957d82b0ad0b088c6957d910" kindref="member">info</ref>);</highlight></codeline>
<codeline lineno="435"><highlight class="normal">}</highlight></codeline>
<codeline lineno="436"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_DFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="437"><highlight class="normal"></highlight></codeline>
<codeline lineno="438"><highlight class="normal"></highlight><highlight class="comment">/*************************<sp/>DP<sp/>Source<sp/>functions<sp/>definitions<sp/>********************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="439"><highlight class="normal"></highlight></codeline>
<codeline lineno="440"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_DFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="441"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_2_1_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="442"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_HpdWaitTmrCbk<sp/>(cy_timer_id_t<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<sp/>ptrContext)</highlight></codeline>
<codeline lineno="443"><highlight class="normal">{</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*<sp/>ptrPdStackContext<sp/>=<sp/>(cy_stc_pdstack_context_t<sp/>*)<sp/>ptrContext;</highlight></codeline>
<codeline lineno="446"><highlight class="normal"></highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__display__port__functions_1gabf5c7997064a0ae1516e542ee90ced7f" kindref="member">Cy_PdAltMode_DP_DfpDequeueHpd</ref>((<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*)ptrPdStackContext-&gt;ptrAltModeContext);</highlight></codeline>
<codeline lineno="448"><highlight class="normal">}</highlight></codeline>
<codeline lineno="449"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_2_1_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="450"><highlight class="normal"></highlight></codeline>
<codeline lineno="451"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_SendUsbConfig(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext)</highlight></codeline>
<codeline lineno="452"><highlight class="normal">{</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__dp__status__t" kindref="compound">cy_stc_pdaltmode_dp_status_t</ref><sp/>*dpStatus<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>;</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)<ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga9c8a69158389bc9aa1b7825bed6bf693" kindref="member">Cy_PdAltMode_HW_SetMux</ref><sp/>(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6a9821c57d38fa26bbb56d05fa8de673eb" kindref="member">CY_PDALTMODE_MUX_CONFIG_SAFE</ref>,<sp/>0,<sp/>0);</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Clear<sp/>HPD<sp/>queue<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_CleanHpdQueue(ptrAltModeContext);</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a70e7050d18b3b5a7492c35e2868d1257" kindref="member">CY_PDALTMODE_DP_STATE_CONFIG</ref>;</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.val<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga31ede17b81a3b179b2e858d0594c23d6" kindref="member">CY_PDALTMODE_DP_USB_SS_CONFIG</ref>;</highlight></codeline>
<codeline lineno="459"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_2_1_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>VDO<sp/>version<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.dp_cfg_vdo.dpAmVersion<sp/>=<sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1afdc9b7d48e359e42994ae7c7a1389e54" kindref="member">dp21Supp</ref>;</highlight></codeline>
<codeline lineno="462"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_2_1_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_AssignVdo(ptrAltModeContext,<sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.val);</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_SendCmd(ptrAltModeContext);</highlight></codeline>
<codeline lineno="465"><highlight class="normal">}</highlight></codeline>
<codeline lineno="466"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>MUX_UPDATE_PAUSE_FSM</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="467"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_DfpRunCbk(cy_timer_id_t<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<sp/>ptrContext)</highlight></codeline>
<codeline lineno="468"><highlight class="normal">{</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="470"><highlight class="normal"></highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*<sp/>ptrPdStackContext<sp/>=<sp/>(cy_stc_pdstack_context_t<sp/>*)<sp/>ptrContext;</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*<sp/>ptrAltModeContext<sp/>=<sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*)ptrPdStackContext-&gt;ptrAltModeContext;</highlight></codeline>
<codeline lineno="473"><highlight class="normal"></highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>(</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1ae4fd2bb93c7050d3b51ba1d25a3afbd3" kindref="member">muxStat</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga76fe692191168bfcd3be6cee0c268493a3c152118c65f37a723cee8e4dbf42dab" kindref="member">CY_PDALTMODE_APP_MUX_STATE_BUSY</ref>)<sp/>||</highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1af6f4124dc3a22407c6a62da3c449c57a" kindref="member">modeState</ref><sp/>!=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0af065a70e2b10edcf899dacf20fe5b384" kindref="member">CY_PDALTMODE_STATE_IDLE</ref>)<sp/>||</highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1af6f4124dc3a22407c6a62da3c449c57a" kindref="member">modeState</ref><sp/>!=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0a4cca413c0d1577b0f518087372ad34c0" kindref="member">CY_PDALTMODE_STATE_PAUSE</ref>))</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Run<sp/>timer<sp/>if<sp/>MUX<sp/>is<sp/>busy<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>ptrPdStackContext,</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881a8ad98a5cea80de0090943cb765f098cf" kindref="member">CY_PDALTMODE_ALT_MODE_CBK_TIMER</ref>),<sp/><ref refid="group__group__pdaltmode__common__macros_1gaa3e43b09e207e71363ed64a0e4d34e4e" kindref="member">CY_PDALTMODE_APP_POLL_PERIOD</ref>,<sp/>Cy_PdAltMode_DP_DfpRunCbk);</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1af6f4124dc3a22407c6a62da3c449c57a" kindref="member">modeState</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0af065a70e2b10edcf899dacf20fe5b384" kindref="member">CY_PDALTMODE_STATE_IDLE</ref>;</highlight></codeline>
<codeline lineno="487"><highlight class="normal"></highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>Status<sp/>Update<sp/>or<sp/>Config<sp/>command<sp/>is<sp/>saved<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;prevState<sp/>!=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a4e9b49ee3e1b6923b1c123b1d2a3fb64" kindref="member">CY_PDALTMODE_DP_STATE_IDLE</ref>)</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Process<sp/>saved<sp/>DP<sp/>state<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;prevState;</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1af6f4124dc3a22407c6a62da3c449c57a" kindref="member">modeState</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0a7292b9248bc2ed1975ece0a00d49daf0" kindref="member">CY_PDALTMODE_STATE_WAIT_FOR_RESP</ref>;</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;prevState<sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a4e9b49ee3e1b6923b1c123b1d2a3fb64" kindref="member">CY_PDALTMODE_DP_STATE_IDLE</ref>;</highlight></codeline>
<codeline lineno="495"><highlight class="normal"></highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Run<sp/>DP<sp/>DFP<sp/>handler<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_DfpRun(ptrAltModeContext);</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="500"><highlight class="normal">}</highlight></codeline>
<codeline lineno="501"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>MUX_UPDATE_PAUSE_FSM<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="503"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_DfpRun(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*Context)</highlight></codeline>
<codeline lineno="504"><highlight class="normal">{</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext<sp/>=<sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*)Context;</highlight></codeline>
<codeline lineno="506"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>MUX_UPDATE_PAUSE_FSM<sp/>||<sp/>DP_2_1_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>;</highlight></codeline>
<codeline lineno="508"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>MUX_UPDATE_PAUSE_FSM<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="509"><highlight class="normal"></highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gae2e313c6b3f82ed911cb6abd429b65a0" kindref="member">cy_en_pdaltmode_state_t</ref><sp/>dpModeState<sp/>=<sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1af6f4124dc3a22407c6a62da3c449c57a" kindref="member">modeState</ref>;</highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__dp__status__t" kindref="compound">cy_stc_pdaltmode_dp_status_t</ref><sp/>*dpStatus<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>;</highlight></codeline>
<codeline lineno="512"><highlight class="normal"></highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(dpModeState)</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0a912b90444de583fa5134ac50f1bb576a" kindref="member">CY_PDALTMODE_STATE_INIT</ref>:</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Enable<sp/>DP<sp/>functionality<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Init(ptrAltModeContext);</highlight></codeline>
<codeline lineno="518"><highlight class="normal"></highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>Enter<sp/>Mode<sp/>command<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_SendCmd(ptrAltModeContext);</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="522"><highlight class="normal"></highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0a7292b9248bc2ed1975ece0a00d49daf0" kindref="member">CY_PDALTMODE_STATE_WAIT_FOR_RESP</ref>:</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref><sp/>=<sp/>(<ref refid="group__group__pdaltmode__display__port__enums_1gad6f1f79915cc9c1b675a6e9e6e4879a5" kindref="member">cy_en_pdaltmode_dp_state_t</ref>)<sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ace7335a7957d82b0ad0b088c6957d910" kindref="member">info</ref>.<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a04a950f17ed35dfcd29fc6f58137a6e4" kindref="member">vdmHeader</ref>.std_vdm_hdr.cmd;</highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1af6f4124dc3a22407c6a62da3c449c57a" kindref="member">modeState</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0af065a70e2b10edcf899dacf20fe5b384" kindref="member">CY_PDALTMODE_STATE_IDLE</ref>;</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_MISRA_DEVIATE_BLOCK_START(</highlight><highlight class="stringliteral">&apos;MISRA<sp/>C-2012<sp/>Rule<sp/>16.1&apos;</highlight><highlight class="normal">,<sp/>1,<sp/></highlight><highlight class="stringliteral">&apos;Intentional<sp/>Return<sp/>to<sp/>avoid<sp/>send_cmd.&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_MISRA_DEVIATE_BLOCK_START(</highlight><highlight class="stringliteral">&apos;MISRA<sp/>C-2012<sp/>Rule<sp/>16.3&apos;</highlight><highlight class="normal">,<sp/>1,<sp/></highlight><highlight class="stringliteral">&apos;Intentional<sp/>Return<sp/>to<sp/>avoid<sp/>send_cmd.&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref>)</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5aafbba10e7d19d4fe6c5e8172ebbbf2d0" kindref="member">CY_PDALTMODE_DP_STATE_ENTER</ref>:</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Init<sp/>HPD<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_InitHpd(ptrAltModeContext,<sp/>(uint8_t)CY_PD_PRT_TYPE_DFP);</highlight></codeline>
<codeline lineno="533"><highlight class="normal"></highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Go<sp/>to<sp/>Status<sp/>update<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a9b9ed9ac91c547b5d5c9a2b120a22a5a" kindref="member">CY_PDALTMODE_DP_STATE_STATUS_UPDATE</ref>;</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_AssignVdo(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gadb59f5562cbe11a5b7ea6cf6fd0f7447" kindref="member">CY_PDALTMODE_DP_STATUS_UPDATE_VDO</ref>);</highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="538"><highlight class="normal"></highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a9b9ed9ac91c547b5d5c9a2b120a22a5a" kindref="member">CY_PDALTMODE_DP_STATE_STATUS_UPDATE</ref>:</highlight></codeline>
<codeline lineno="540"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>MUX_UPDATE_PAUSE_FSM</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1ae4fd2bb93c7050d3b51ba1d25a3afbd3" kindref="member">muxStat</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga76fe692191168bfcd3be6cee0c268493a3c152118c65f37a723cee8e4dbf42dab" kindref="member">CY_PDALTMODE_APP_MUX_STATE_BUSY</ref>)</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Run<sp/>timer<sp/>if<sp/>MUX<sp/>is<sp/>busy<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>ptrPdStackContext,</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881a8ad98a5cea80de0090943cb765f098cf" kindref="member">CY_PDALTMODE_ALT_MODE_CBK_TIMER</ref>),</highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__common__macros_1gaa3e43b09e207e71363ed64a0e4d34e4e" kindref="member">CY_PDALTMODE_APP_POLL_PERIOD</ref>,<sp/>Cy_PdAltMode_DP_DfpRunCbk);</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;prevState<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a9b9ed9ac91c547b5d5c9a2b120a22a5a" kindref="member">CY_PDALTMODE_DP_STATE_STATUS_UPDATE</ref>;</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1af6f4124dc3a22407c6a62da3c449c57a" kindref="member">modeState</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0a4cca413c0d1577b0f518087372ad34c0" kindref="member">CY_PDALTMODE_STATE_PAUSE</ref>;</highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="551"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>MUX_UPDATE_PAUSE_FSM<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Analyse<sp/>received<sp/>VDO<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_AnalyseStatusUpdateVdo(ptrAltModeContext);</highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1af6f4124dc3a22407c6a62da3c449c57a" kindref="member">modeState</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0af065a70e2b10edcf899dacf20fe5b384" kindref="member">CY_PDALTMODE_STATE_IDLE</ref>;</highlight></codeline>
<codeline lineno="555"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(!ICL_ALT_MODE_HPI_DISABLED)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a586105d58ba9a42ee8f5561efe365cb1" kindref="member">dpCfgCtrl</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gae224e1bb22c3636c4646a631db7d212c" kindref="member">CY_PDALTMODE_DP_MUX_CTRL_CMD</ref>)</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="560"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(!ICL_ALT_MODE_HPI_DISABLED)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="562"><highlight class="normal"></highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a70e7050d18b3b5a7492c35e2868d1257" kindref="member">CY_PDALTMODE_DP_STATE_CONFIG</ref>:</highlight></codeline>
<codeline lineno="564"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>MUX_UPDATE_PAUSE_FSM</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1ae4fd2bb93c7050d3b51ba1d25a3afbd3" kindref="member">muxStat</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga76fe692191168bfcd3be6cee0c268493a3c152118c65f37a723cee8e4dbf42dab" kindref="member">CY_PDALTMODE_APP_MUX_STATE_BUSY</ref>)</highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Run<sp/>timer<sp/>if<sp/>MUX<sp/>is<sp/>busy<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>ptrPdStackContext,</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881a8ad98a5cea80de0090943cb765f098cf" kindref="member">CY_PDALTMODE_ALT_MODE_CBK_TIMER</ref>)<sp/>,</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__common__macros_1gaa3e43b09e207e71363ed64a0e4d34e4e" kindref="member">CY_PDALTMODE_APP_POLL_PERIOD</ref>,<sp/>Cy_PdAltMode_DP_DfpRunCbk);</highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;prevState<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a70e7050d18b3b5a7492c35e2868d1257" kindref="member">CY_PDALTMODE_DP_STATE_CONFIG</ref>;</highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1af6f4124dc3a22407c6a62da3c449c57a" kindref="member">modeState</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0a4cca413c0d1577b0f518087372ad34c0" kindref="member">CY_PDALTMODE_STATE_PAUSE</ref>;</highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="575"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>MUX_UPDATE_PAUSE_FSM<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="576"><highlight class="normal"></highlight></codeline>
<codeline lineno="577"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(!ICL_ALT_MODE_HPI_DISABLED)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>App<sp/>controls<sp/>DP<sp/>MUX<sp/>Config<sp/>-<sp/>send<sp/>ACK<sp/>to<sp/>App<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a586105d58ba9a42ee8f5561efe365cb1" kindref="member">dpCfgCtrl</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gae224e1bb22c3636c4646a631db7d212c" kindref="member">CY_PDALTMODE_DP_MUX_CTRL_CMD</ref>)</highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_SetAppEvt(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga7e73de32dcc04963bea527de7be750e8" kindref="member">CY_PDALTMODE_DP_STATUS_UPDATE_EVT</ref>,<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga35e0635f3be9cc517099afa083b02583" kindref="member">CY_PDALTMODE_DP_CFG_CMD_ACK_MASK</ref>);</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="583"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(!ICL_ALT_MODE_HPI_DISABLED)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="584"><highlight class="normal"></highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1af6f4124dc3a22407c6a62da3c449c57a" kindref="member">modeState</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0af065a70e2b10edcf899dacf20fe5b384" kindref="member">CY_PDALTMODE_STATE_IDLE</ref>;</highlight></codeline>
<codeline lineno="586"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>AM_PD3_FLOW_CTRL_EN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Make<sp/>sure<sp/>Rp<sp/>is<sp/>set<sp/>back<sp/>to<sp/>SinkTxOK<sp/>here<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)Cy_PdStack_Dpm_Pd3SrcRpFlowControl<sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="589"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>AM_PD3_FLOW_CTRL_EN<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="590"><highlight class="normal"></highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>MUX<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a83fae71cd0b9536cc96149e26ac43584" kindref="member">dpMuxCfg</ref><sp/>=<sp/>Cy_PdAltMode_DP_EvalConfig(ptrAltModeContext);</highlight></codeline>
<codeline lineno="593"><highlight class="normal"></highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ad0d80245b7ca12147dfe1def607feadf" kindref="member">dpExit</ref>)</highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>MUX<sp/>with<sp/>DP<sp/>config<sp/>data<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)<ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga9c8a69158389bc9aa1b7825bed6bf693" kindref="member">Cy_PdAltMode_HW_SetMux</ref><sp/>(ptrAltModeContext,<sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a83fae71cd0b9536cc96149e26ac43584" kindref="member">dpMuxCfg</ref>,<sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.val,</highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(((dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1afdc9b7d48e359e42994ae7c7a1389e54" kindref="member">dp21Supp</ref><sp/>!=<sp/>0x00U)<sp/>||<sp/>(dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a83fae71cd0b9536cc96149e26ac43584" kindref="member">dpMuxCfg</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6a1bcda475ec873920e65bb3dc7f397656" kindref="member">CY_PDALTMODE_MUX_CONFIG_SS_ONLY</ref>))</highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>?<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref><sp/>:<sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab5660d36862cb4d10c773d139e193cf5" kindref="member">statusVdo</ref>.val));</highlight></codeline>
<codeline lineno="600"><highlight class="normal"></highlight></codeline>
<codeline lineno="601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Clear<sp/>HPD<sp/>queue<sp/>if<sp/>USB<sp/>config<sp/>is<sp/>set<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a83fae71cd0b9536cc96149e26ac43584" kindref="member">dpMuxCfg</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6a1bcda475ec873920e65bb3dc7f397656" kindref="member">CY_PDALTMODE_MUX_CONFIG_SS_ONLY</ref>)</highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="604"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_2_1_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1afdc9b7d48e359e42994ae7c7a1389e54" kindref="member">dp21Supp</ref>)</highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Stop<sp/>HPD<sp/>WAIT<sp/>timer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Stop)(ptrPdStackContext-&gt;ptrTimerContext,</highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881a04f431326ab93f32f3dd6556a3f1b2e3" kindref="member">CY_PDALTMODE_HPD_WAIT_TIMER</ref>));</highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="611"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_2_1_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_CleanHpdQueue(ptrAltModeContext);</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="614"><highlight class="normal"></highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Handle<sp/>HPD<sp/>queue<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.val<sp/>&amp;<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga24dc1d72991c0515865e61c948f2888c" kindref="member">CY_PDALTMODE_DP_USB_SS_CONFIG_MASK</ref>)<sp/>==<sp/>0x00UL)</highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_DfpEnqueueHpd(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__macros_1ga841562ab8c8a6a994edc871dd36eb1c9" kindref="member">CY_PDALTMODE_MNGR_EMPTY_VDO</ref>);</highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="623"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_2_1_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Run<sp/>HPD<sp/>WAIT<sp/>timer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.dp_cfg_vdo.dpAmVersion)</highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>ptrPdStackContext,</highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881a04f431326ab93f32f3dd6556a3f1b2e3" kindref="member">CY_PDALTMODE_HPD_WAIT_TIMER</ref>),</highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__common__macros_1gab1f9717142949c939b302cc89f90f3b7" kindref="member">CY_PDALTMODE_APP_HPD_WAIT_TIMER_PERIOD</ref>,<sp/>Cy_PdAltMode_DP_HpdWaitTmrCbk);</highlight></codeline>
<codeline lineno="630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="631"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_2_1_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Add<sp/>HPD<sp/>to<sp/>queue*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_DfpEnqueueHpd(ptrAltModeContext,<sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab5660d36862cb4d10c773d139e193cf5" kindref="member">statusVdo</ref>.val);</highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="636"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Exit<sp/>DP<sp/>required<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a2ffaaf71bb924322fa01762aa199f818" kindref="member">CY_PDALTMODE_DP_STATE_EXIT</ref>;</highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ad0d80245b7ca12147dfe1def607feadf" kindref="member">dpExit</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Return<sp/>to<sp/>avoid<sp/>send_cmd<sp/>here<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="646"><highlight class="normal"></highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a2ffaaf71bb924322fa01762aa199f818" kindref="member">CY_PDALTMODE_DP_STATE_EXIT</ref>:</highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Exit(ptrAltModeContext);</highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Return<sp/>to<sp/>avoid<sp/>send_cmd<sp/>here<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="651"><highlight class="normal"></highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Return<sp/>to<sp/>avoid<sp/>send_cmd<sp/>here<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1af6f4124dc3a22407c6a62da3c449c57a" kindref="member">modeState</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0af065a70e2b10edcf899dacf20fe5b384" kindref="member">CY_PDALTMODE_STATE_IDLE</ref>;</highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_MISRA_BLOCK_END(</highlight><highlight class="stringliteral">&apos;MISRA<sp/>C-2012<sp/>Rule<sp/>16.3&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_MISRA_BLOCK_END(</highlight><highlight class="stringliteral">&apos;MISRA<sp/>C-2012<sp/>Rule<sp/>16.1&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_SendCmd(ptrAltModeContext);</highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="661"><highlight class="normal"></highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0af065a70e2b10edcf899dacf20fe5b384" kindref="member">CY_PDALTMODE_STATE_IDLE</ref>:</highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Verify<sp/>if<sp/>input<sp/>message<sp/>is<sp/>Attention<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((<ref refid="group__group__pdaltmode__display__port__enums_1gad6f1f79915cc9c1b675a6e9e6e4879a5" kindref="member">cy_en_pdaltmode_dp_state_t</ref>)Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;vdmHeader.std_vdm_hdr.cmd<sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5abc8fd13d31b799dbcf6c8d731850ed2d" kindref="member">CY_PDALTMODE_DP_STATE_ATT</ref>)</highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Analyse<sp/>received<sp/>VDO<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_AnalyseStatusUpdateVdo(ptrAltModeContext);</highlight></codeline>
<codeline lineno="668"><highlight class="normal"></highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Handle<sp/>HPD<sp/>status<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab70cdcd350d8bad35c635061f405fe66" kindref="member">dpActiveFlag</ref>)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(Cy_PdAltMode_DP_GetVdo(ptrAltModeContext)-&gt;dp_stat_vdo.exit<sp/>==<sp/>0u)<sp/><sp/><sp/><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(Cy_PdAltMode_DP_GetVdo(ptrAltModeContext)-&gt;dp_stat_vdo.usbCfg<sp/>==<sp/>0u)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref><sp/>!=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a70e7050d18b3b5a7492c35e2868d1257" kindref="member">CY_PDALTMODE_DP_STATE_CONFIG</ref>)</highlight></codeline>
<codeline lineno="675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Add<sp/>HPD<sp/>to<sp/>queue*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_DfpEnqueueHpd(ptrAltModeContext,<sp/>(*Cy_PdAltMode_DP_GetVdo(ptrAltModeContext)).val);</highlight></codeline>
<codeline lineno="679"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="680"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(!ICL_ALT_MODE_HPI_DISABLED)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a586105d58ba9a42ee8f5561efe365cb1" kindref="member">dpCfgCtrl</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gae224e1bb22c3636c4646a631db7d212c" kindref="member">CY_PDALTMODE_DP_MUX_CTRL_CMD</ref>)</highlight></codeline>
<codeline lineno="682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="685"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(!ICL_ALT_MODE_HPI_DISABLED)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_SendCmd(ptrAltModeContext);</highlight></codeline>
<codeline lineno="687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="689"><highlight class="normal"></highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0ad3dbf861525bec4d91091c652cab26e0" kindref="member">CY_PDALTMODE_STATE_FAIL</ref>:</highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5aafbba10e7d19d4fe6c5e8172ebbbf2d0" kindref="member">CY_PDALTMODE_DP_STATE_ENTER</ref>)<sp/>||<sp/>(dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a2ffaaf71bb924322fa01762aa199f818" kindref="member">CY_PDALTMODE_DP_STATE_EXIT</ref>))</highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Exit(ptrAltModeContext);</highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a70e7050d18b3b5a7492c35e2868d1257" kindref="member">CY_PDALTMODE_DP_STATE_CONFIG</ref>)</highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>MUX<sp/>to<sp/>USB<sp/>config<sp/>in<sp/>case<sp/>of<sp/>failed<sp/>config<sp/>command<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.dp_cfg_vdo.selConf<sp/>!=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga31ede17b81a3b179b2e858d0594c23d6" kindref="member">CY_PDALTMODE_DP_USB_SS_CONFIG</ref>)</highlight></codeline>
<codeline lineno="699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_SendUsbConfig<sp/>(ptrAltModeContext);</highlight></codeline>
<codeline lineno="701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)<ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga9c8a69158389bc9aa1b7825bed6bf693" kindref="member">Cy_PdAltMode_HW_SetMux</ref>(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6a1bcda475ec873920e65bb3dc7f397656" kindref="member">CY_PDALTMODE_MUX_CONFIG_SS_ONLY</ref>,<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>,<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>);</highlight></codeline>
<codeline lineno="705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="706"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>DP<sp/>remains<sp/>in<sp/>current<sp/>configuration<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a4e9b49ee3e1b6923b1c123b1d2a3fb64" kindref="member">CY_PDALTMODE_DP_STATE_IDLE</ref>;</highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1af6f4124dc3a22407c6a62da3c449c57a" kindref="member">modeState</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0af065a70e2b10edcf899dacf20fe5b384" kindref="member">CY_PDALTMODE_STATE_IDLE</ref>;</highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="713"><highlight class="normal"></highlight></codeline>
<codeline lineno="714"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>AM_PD3_FLOW_CTRL_EN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Make<sp/>sure<sp/>Rp<sp/>is<sp/>set<sp/>back<sp/>to<sp/>SinkTxOK<sp/>here<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)Cy_PdStack_Dpm_Pd3SrcRpFlowControl<sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="717"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>AM_PD3_FLOW_CTRL_EN<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="719"><highlight class="normal"></highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0ac54dc858491c2f855d802d97d02df0ff" kindref="member">CY_PDALTMODE_STATE_EXIT</ref>:</highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;dpmConfig.attach)</highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_SendUsbConfig<sp/>(ptrAltModeContext);</highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ad0d80245b7ca12147dfe1def607feadf" kindref="member">dpExit</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Force<sp/>DP<sp/>mode<sp/>exit<sp/>if<sp/>port<sp/>is<sp/>unattached<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Exit(ptrAltModeContext);</highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="732"><highlight class="normal"></highlight></codeline>
<codeline lineno="733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Do<sp/>nothing<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="736"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="737"><highlight class="normal">}</highlight></codeline>
<codeline lineno="738"><highlight class="normal"></highlight></codeline>
<codeline lineno="739"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_AnalyseStatusUpdateVdo(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext)</highlight></codeline>
<codeline lineno="740"><highlight class="normal">{</highlight></codeline>
<codeline lineno="741"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__dp__status__t" kindref="compound">cy_stc_pdaltmode_dp_status_t</ref><sp/>*dpStatus<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>;</highlight></codeline>
<codeline lineno="742"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(!ICL_ALT_MODE_HPI_DISABLED)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>App<sp/>layer<sp/>controls<sp/>DP<sp/>MUX<sp/>config<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="744"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a586105d58ba9a42ee8f5561efe365cb1" kindref="member">dpCfgCtrl</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gae224e1bb22c3636c4646a631db7d212c" kindref="member">CY_PDALTMODE_DP_MUX_CTRL_CMD</ref>)</highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_SetAppEvt(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga7e73de32dcc04963bea527de7be750e8" kindref="member">CY_PDALTMODE_DP_STATUS_UPDATE_EVT</ref>,<sp/>(*Cy_PdAltMode_DP_GetVdo(ptrAltModeContext)).val);</highlight></codeline>
<codeline lineno="747"><highlight class="normal"></highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>DP<sp/>to<sp/>idle<sp/>and<sp/>wait<sp/>for<sp/>config<sp/>cmd<sp/>from<sp/>App<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1af6f4124dc3a22407c6a62da3c449c57a" kindref="member">modeState</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0af065a70e2b10edcf899dacf20fe5b384" kindref="member">CY_PDALTMODE_STATE_IDLE</ref>;</highlight></codeline>
<codeline lineno="750"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="751"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="752"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(!ICL_ALT_MODE_HPI_DISABLED)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="753"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>CCG<sp/>handles<sp/>Status<sp/>Update<sp/>in<sp/>auto<sp/>mode<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref><sp/>=<sp/>Cy_PdAltMode_DP_EvalUfpStatus(ptrAltModeContext);</highlight></codeline>
<codeline lineno="755"><highlight class="normal"></highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a70e7050d18b3b5a7492c35e2868d1257" kindref="member">CY_PDALTMODE_DP_STATE_CONFIG</ref>)</highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="758"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>AM_PD3_FLOW_CTRL_EN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="759"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>we<sp/>are<sp/>a<sp/>PD<sp/>3.0<sp/>source,<sp/>change<sp/>Rp<sp/>to<sp/>SinkTxNG<sp/>to<sp/>prevent<sp/>sink<sp/>from<sp/>initiating<sp/>any<sp/>AMS<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)Cy_PdStack_Dpm_Pd3SrcRpFlowControl<sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="761"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>AM_PD3_FLOW_CTRL_EN<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Clear<sp/>HPD<sp/>queue<sp/>in<sp/>case<sp/>of<sp/>USB<sp/>SS<sp/>configuration<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_CleanHpdQueue(ptrAltModeContext);</highlight></codeline>
<codeline lineno="764"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(AMD_RETIMER_ENABLE<sp/>||<sp/>!VIRTUAL_HPD_ENABLE)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)<ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga15b7aab673225200d6a7971187be489d" kindref="member">Cy_PdAltMode_HW_EvalHpdCmd</ref><sp/>(ptrAltModeContext,<sp/>(uint32_t)CY_USBPD_HPD_EVENT_UNPLUG);</highlight></codeline>
<codeline lineno="766"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>AMD_RETIMER_ENABLE<sp/>||<sp/>!VIRTUAL_HPD_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Move<sp/>MUX<sp/>into<sp/>SAFE<sp/>state<sp/>while<sp/>going<sp/>through<sp/>DP<sp/>configuration<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)<ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga9c8a69158389bc9aa1b7825bed6bf693" kindref="member">Cy_PdAltMode_HW_SetMux</ref>(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6a9821c57d38fa26bbb56d05fa8de673eb" kindref="member">CY_PDALTMODE_MUX_CONFIG_SAFE</ref>,<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>,<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>);</highlight></codeline>
<codeline lineno="769"><highlight class="normal"></highlight></codeline>
<codeline lineno="770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.val<sp/>!=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga31ede17b81a3b179b2e858d0594c23d6" kindref="member">CY_PDALTMODE_DP_USB_SS_CONFIG</ref>)</highlight></codeline>
<codeline lineno="771"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="772"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.dp_cfg_vdo.selConf<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga6e620ab4581f02bf90732a6c0a9843a8" kindref="member">CY_PDALTMODE_DP_CONFIG_SELECT</ref>;</highlight></codeline>
<codeline lineno="773"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.dp_cfg_vdo.sign<sp/><sp/><sp/><sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga83da94c4990b824f377082f82916ba2a" kindref="member">CY_PDALTMODE_DP_1_3_SIGNALING</ref>;</highlight></codeline>
<codeline lineno="774"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_2_1_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>DP2.1<sp/>processing<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="776"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1afdc9b7d48e359e42994ae7c7a1389e54" kindref="member">dp21Supp</ref>)</highlight></codeline>
<codeline lineno="777"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>cable<sp/>speed<sp/>and<sp/>type<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a5b8371416b56b234ee490a960c427f50" kindref="member">dpCblVdo</ref>.dp_cbl_vdo.dpAmVersion)</highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.dp_cfg_vdo.sign<sp/>=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>;</highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.val<sp/>|=<sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a5b8371416b56b234ee490a960c427f50" kindref="member">dpCblVdo</ref>.val<sp/>&amp;<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga5b1c360ec8bc8ed1e74a9dad0cf1c5dc" kindref="member">CY_PDALTMODE_DP_ACT_CBL_PARAM_MASK</ref>);</highlight></codeline>
<codeline lineno="783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a0ac810708362696618c082ab1cb88128" kindref="member">tbtCblVdo</ref>.val<sp/>!=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a0ac810708362696618c082ab1cb88128" kindref="member">tbtCblVdo</ref>.tbt_vdo.b22RetimerCbl<sp/>==<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="788"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="789"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a0ac810708362696618c082ab1cb88128" kindref="member">tbtCblVdo</ref>.tbt_vdo.cblSpeed<sp/>&gt;=<sp/>CY_PDSTACK_USB_GEN_1)</highlight></codeline>
<codeline lineno="790"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="791"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.dp_cfg_vdo.sign<sp/>|=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gab9c3d7ad96058c8f70d04fa241bb9dd9" kindref="member">CY_PDALTMODE_DP_HBR10_SUPP_MASK</ref>;</highlight></codeline>
<codeline lineno="792"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="793"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a0ac810708362696618c082ab1cb88128" kindref="member">tbtCblVdo</ref>.tbt_vdo.cblSpeed<sp/>&gt;=<sp/>CY_PDSTACK_USB_GEN_3)</highlight></codeline>
<codeline lineno="794"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="795"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.dp_cfg_vdo.sign<sp/>|=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gae9ca1ceb96f26844effb9a39036fd813" kindref="member">CY_PDALTMODE_DP_HBR20_SUPP_MASK</ref>;</highlight></codeline>
<codeline lineno="796"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="797"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="798"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;dpmStat.cblType<sp/>==<sp/>CY_PDSTACK_PROD_TYPE_PAS_CBL)</highlight></codeline>
<codeline lineno="799"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="800"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;dpmStat.cblVdo.std_cbl_vdo.usbSsSup<sp/>&gt;=<sp/>CY_PDSTACK_USB_GEN_1)</highlight></codeline>
<codeline lineno="801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.dp_cfg_vdo.sign<sp/>|=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gab9c3d7ad96058c8f70d04fa241bb9dd9" kindref="member">CY_PDALTMODE_DP_HBR10_SUPP_MASK</ref>;</highlight></codeline>
<codeline lineno="802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;dpmStat.cblVdo.std_cbl_vdo.usbSsSup<sp/>&gt;=<sp/>CY_PDSTACK_USB_GEN_3)</highlight></codeline>
<codeline lineno="803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.dp_cfg_vdo.sign<sp/>|=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gae9ca1ceb96f26844effb9a39036fd813" kindref="member">CY_PDALTMODE_DP_HBR20_SUPP_MASK</ref>;</highlight></codeline>
<codeline lineno="804"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="805"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="806"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_2_1_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="807"><highlight class="normal"></highlight></codeline>
<codeline lineno="808"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1add230632f077b5e0c350a45788fe75b0" kindref="member">dpActCblSupp</ref>)</highlight></codeline>
<codeline lineno="809"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="810"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>DP<sp/>active<sp/>cable<sp/>could<sp/>provide<sp/>config<sp/>pin<sp/>assignment<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a364a338b18ec888a6242260f44a7af7d" kindref="member">cableConfigSupp</ref><sp/>&amp;<sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.dp_cfg_vdo.dfpAsgmnt)<sp/>==<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>)</highlight></codeline>
<codeline lineno="812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="813"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>AM_PD3_FLOW_CTRL_EN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Let<sp/>Rp<sp/>change<sp/>to<sp/>SinkTxOK.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="815"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)Cy_PdStack_Dpm_Pd3SrcRpFlowControl<sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="816"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>AM_PD3_FLOW_CTRL_EN<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="817"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref><sp/>=<sp/><sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a2ffaaf71bb924322fa01762aa199f818" kindref="member">CY_PDALTMODE_DP_STATE_EXIT</ref>;</highlight></codeline>
<codeline lineno="818"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="819"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="820"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="821"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="822"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_2_1_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="823"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>VDO<sp/>version<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="824"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.dp_cfg_vdo.dpAmVersion<sp/>=<sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1afdc9b7d48e359e42994ae7c7a1389e54" kindref="member">dp21Supp</ref>;</highlight></codeline>
<codeline lineno="825"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_2_1_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="826"><highlight class="normal"></highlight></codeline>
<codeline lineno="827"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_AssignVdo(ptrAltModeContext,<sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.val);</highlight></codeline>
<codeline lineno="828"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="829"><highlight class="normal">}</highlight></codeline>
<codeline lineno="830"><highlight class="normal"></highlight></codeline>
<codeline lineno="831"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__display__port__enums_1gad6f1f79915cc9c1b675a6e9e6e4879a5" kindref="member">cy_en_pdaltmode_dp_state_t</ref><sp/>Cy_PdAltMode_DP_AnalyseSinkVdo(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/>cy_pd_pd_do_t<sp/>svidVdo)</highlight></codeline>
<codeline lineno="832"><highlight class="normal">{</highlight></codeline>
<codeline lineno="833"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/><sp/><sp/><sp/>commonConf<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="834"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__display__port__enums_1gad6f1f79915cc9c1b675a6e9e6e4879a5" kindref="member">cy_en_pdaltmode_dp_state_t</ref><sp/>ret<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a2ffaaf71bb924322fa01762aa199f818" kindref="member">CY_PDALTMODE_DP_STATE_EXIT</ref>;</highlight></codeline>
<codeline lineno="835"><highlight class="normal"></highlight></codeline>
<codeline lineno="836"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>dp4Lane<sp/>=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>;</highlight></codeline>
<codeline lineno="837"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>dp2Lane<sp/>=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>;</highlight></codeline>
<codeline lineno="838"><highlight class="normal"></highlight></codeline>
<codeline lineno="839"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>STORE_DETAILS_OF_HOST</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="840"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*deviceContext<sp/>=</highlight></codeline>
<codeline lineno="841"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*)ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a2c44432dce2d2c8128d7338825b18526" kindref="member">hostDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__host__details__t_1a08f03053bd1816c6e2ae4af0f38fd873" kindref="member">dsAltModeContext</ref>;</highlight></codeline>
<codeline lineno="842"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>ds_det_dp_mode<sp/>=<sp/>deviceContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a2c44432dce2d2c8128d7338825b18526" kindref="member">hostDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__host__details__t_1ab29988e0f20fe2ed915b7c97c879f232" kindref="member">dsDp2LaneModeCtrl</ref>;</highlight></codeline>
<codeline lineno="843"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*hostContext<sp/>=</highlight></codeline>
<codeline lineno="844"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*)ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a2c44432dce2d2c8128d7338825b18526" kindref="member">hostDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__host__details__t_1aba2258e1dac9875caf32c8444493d7e9" kindref="member">usAltModeContext</ref>;</highlight></codeline>
<codeline lineno="845"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="846"><highlight class="normal"></highlight></codeline>
<codeline lineno="847"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>the<sp/>UFP_D-Capable<sp/>bit<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="848"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((svidVdo.std_dp_vdo.portCap<sp/>&amp;<sp/>0x01U)<sp/>!=<sp/>0U)</highlight></codeline>
<codeline lineno="849"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Read<sp/>DP_MODES_SUPPORTED<sp/>in<sp/>DP<sp/>structure<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="851"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a8bc5ea4917a92366aae12a691b43e5a1" kindref="member">ccgDpPinsSupp</ref><sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a51a744b85e46a2852636ef9bc375be2b" kindref="member">dpCfg</ref>-&gt;dp_config_supported;</highlight></codeline>
<codeline lineno="852"><highlight class="normal"></highlight></codeline>
<codeline lineno="853"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>DP<sp/>Interface<sp/>is<sp/>presented<sp/>on<sp/>a<sp/>USB<sp/>TYPE<sp/>C<sp/>receptacle,</highlight></codeline>
<codeline lineno="854"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>compare<sp/>with<sp/>UFP_D<sp/>Pin<sp/>Assignments<sp/>advertised<sp/>by<sp/>UFP.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="855"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(svidVdo.std_dp_vdo.recep!=0U)</highlight></codeline>
<codeline lineno="856"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="857"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ac0f36eb33b6499e072bc78bfe2bbd954" kindref="member">partnerDpPinsSupp</ref><sp/>=<sp/>(uint8_t)svidVdo.std_dp_vdo.ufpDPin;</highlight></codeline>
<codeline lineno="858"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="859"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="860"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="861"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ac0f36eb33b6499e072bc78bfe2bbd954" kindref="member">partnerDpPinsSupp</ref><sp/>=<sp/>(uint8_t)svidVdo.std_dp_vdo.dfpDPin;</highlight></codeline>
<codeline lineno="862"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="863"><highlight class="normal"></highlight></codeline>
<codeline lineno="864"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>commonConf<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ac0f36eb33b6499e072bc78bfe2bbd954" kindref="member">partnerDpPinsSupp</ref><sp/>&amp;<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a8bc5ea4917a92366aae12a691b43e5a1" kindref="member">ccgDpPinsSupp</ref>;</highlight></codeline>
<codeline lineno="865"><highlight class="normal"></highlight></codeline>
<codeline lineno="866"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>There<sp/>is<sp/>at<sp/>least<sp/>one<sp/>shared<sp/>pin<sp/>configuration<sp/>between<sp/>CCG<sp/>and<sp/>Port-partner<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="867"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((commonConf<sp/>&amp;<sp/>(<ref refid="group__group__pdaltmode__display__port__macros_1ga31e7c3821f9c13cf548ed3cc575bc4e6" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_E</ref><sp/>|<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga4b7009e3a0080d69cf4eebd8fc4d0260" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_C</ref><sp/>|<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga0031e33f27d8edfa24b93511763e66a6" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_D</ref>))<sp/>!=<sp/>0U)</highlight></codeline>
<codeline lineno="868"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="869"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>one<sp/>of<sp/>pin<sp/>configurations<sp/>C,<sp/>E<sp/>or<sp/>D<sp/>is<sp/>supported<sp/>by<sp/>both<sp/>DFP<sp/>&amp;<sp/>UFP,<sp/>can<sp/>proceed.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="870"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5aafbba10e7d19d4fe6c5e8172ebbbf2d0" kindref="member">CY_PDALTMODE_DP_STATE_ENTER</ref>;</highlight></codeline>
<codeline lineno="871"><highlight class="normal"></highlight></codeline>
<codeline lineno="872"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Assume<sp/>that<sp/>only<sp/>4-lane<sp/>configurations<sp/>are<sp/>supported<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="873"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dp2Lane<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gaac9cb5404f06c3b14be0bd5191a03b42" kindref="member">CY_PDALTMODE_DP_INVALID_CFG</ref>;</highlight></codeline>
<codeline lineno="874"><highlight class="normal"></highlight></codeline>
<codeline lineno="875"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((commonConf<sp/>&amp;<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga31e7c3821f9c13cf548ed3cc575bc4e6" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_E</ref>)<sp/>!=<sp/>0U)</highlight></codeline>
<codeline lineno="876"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="877"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dp4Lane<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga31e7c3821f9c13cf548ed3cc575bc4e6" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_E</ref>;</highlight></codeline>
<codeline lineno="878"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="879"><highlight class="normal"></highlight></codeline>
<codeline lineno="880"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Configuration<sp/>C<sp/>has<sp/>higher<sp/>priority<sp/>than<sp/>E<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="881"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((commonConf<sp/>&amp;<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga4b7009e3a0080d69cf4eebd8fc4d0260" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_C</ref>)<sp/>!=<sp/>0U)</highlight></codeline>
<codeline lineno="882"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="883"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dp4Lane<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga4b7009e3a0080d69cf4eebd8fc4d0260" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_C</ref>;</highlight></codeline>
<codeline lineno="884"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="885"><highlight class="normal"></highlight></codeline>
<codeline lineno="886"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="887"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((commonConf<sp/>&amp;<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga0031e33f27d8edfa24b93511763e66a6" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_D</ref>)<sp/>!=<sp/>0U)</highlight></codeline>
<codeline lineno="888"><highlight class="normal">#</highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>STORE_DETAILS_OF_HOST</highlight></codeline>
<codeline lineno="889"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;<sp/>(ds_det_dp_mode<sp/>==<sp/>1u)</highlight></codeline>
<codeline lineno="890"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="891"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="892"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="893"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dp2Lane<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga0031e33f27d8edfa24b93511763e66a6" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_D</ref>;</highlight></codeline>
<codeline lineno="894"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="895"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="896"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="897"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((commonConf<sp/>&amp;<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gae94d317fd458337a229c134a46e2624c" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_F</ref>)<sp/>!=<sp/>0U)</highlight></codeline>
<codeline lineno="898"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="899"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dp2Lane<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gae94d317fd458337a229c134a46e2624c" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_F</ref>;</highlight></codeline>
<codeline lineno="900"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="901"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="902"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="903"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="904"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="905"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>STORE_DETAILS_OF_HOST</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="906"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Handle<sp/>exchange<sp/>capabilities<sp/>for<sp/>DFP<sp/>only<sp/>if<sp/>the<sp/>host<sp/>is<sp/>connected<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="907"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((hostContext-&gt;pdStackContext-&gt;dpmConfig.attach)<sp/>&amp;&amp;<sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;port<sp/>==<sp/>TYPEC_PORT_1_IDX))</highlight></codeline>
<codeline lineno="908"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="909"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>2<sp/>lane<sp/>or<sp/>4<sp/>lane<sp/>DP<sp/>mode<sp/>is<sp/>allowed<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="910"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(ds_det_dp_mode<sp/>==<sp/>1u)</highlight></codeline>
<codeline lineno="911"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="912"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Cy_PdAltMode_DP_IsPrtnrCcgConsistent(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga0031e33f27d8edfa24b93511763e66a6" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_D</ref>))</highlight></codeline>
<codeline lineno="913"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="914"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dp2Lane<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga0031e33f27d8edfa24b93511763e66a6" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_D</ref>;<sp/><sp/></highlight></codeline>
<codeline lineno="915"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="916"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Cy_PdAltMode_DP_IsPrtnrCcgConsistent(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gae94d317fd458337a229c134a46e2624c" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_F</ref>))</highlight></codeline>
<codeline lineno="917"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="918"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dp2Lane<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gae94d317fd458337a229c134a46e2624c" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_F</ref>;<sp/></highlight></codeline>
<codeline lineno="919"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="920"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="921"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="922"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Disable<sp/>2<sp/>lane<sp/>mode<sp/>if<sp/>US<sp/>is<sp/>in<sp/>DP<sp/>mode<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="923"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(</highlight></codeline>
<codeline lineno="924"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(gl_dpStatus[TYPEC_PORT_0_IDX].dpMuxCfg<sp/>==<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6ad9dd6af58d168841fdf31666a58f6934" kindref="member">CY_PDALTMODE_MUX_CONFIG_DP_2_LANE</ref>)<sp/>||</highlight></codeline>
<codeline lineno="925"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(gl_dpStatus[TYPEC_PORT_0_IDX].<ref refid="structcy__stc__pdaltmode__dp__status__t_1a83fae71cd0b9536cc96149e26ac43584" kindref="member">dpMuxCfg</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6afc353200bd55a4cba2100773ec6169f7" kindref="member">CY_PDALTMODE_MUX_CONFIG_DP_4_LANE</ref>)</highlight></codeline>
<codeline lineno="926"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="927"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="928"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dp2Lane<sp/>=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>;</highlight></codeline>
<codeline lineno="929"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="930"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="931"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="932"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Only<sp/>4<sp/>lane<sp/>allowed<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="933"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="934"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="935"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="936"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="group__group__pdaltmode__display__port__macros_1ga4b7009e3a0080d69cf4eebd8fc4d0260" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_C</ref><sp/>!=<sp/>dp4Lane)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="937"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="group__group__pdaltmode__display__port__macros_1ga31e7c3821f9c13cf548ed3cc575bc4e6" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_E</ref><sp/>!=<sp/>dp4Lane)</highlight></codeline>
<codeline lineno="938"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="939"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="940"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a2ffaaf71bb924322fa01762aa199f818" kindref="member">CY_PDALTMODE_DP_STATE_EXIT</ref>;</highlight></codeline>
<codeline lineno="941"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="942"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="943"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="944"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Disable<sp/>2<sp/>lane<sp/>configuration<sp/>only<sp/>if<sp/>US<sp/>is<sp/>in<sp/>DP<sp/>mode<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="945"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(gl_dpStatus[TYPEC_PORT_0_IDX].dpMuxCfg<sp/>==<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6afc353200bd55a4cba2100773ec6169f7" kindref="member">CY_PDALTMODE_MUX_CONFIG_DP_4_LANE</ref>)</highlight></codeline>
<codeline lineno="946"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="947"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Proceed<sp/>with<sp/>4-lane<sp/>configuration<sp/>and<sp/>disable<sp/>2-lane<sp/>options<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="948"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dp2Lane<sp/>=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>;</highlight></codeline>
<codeline lineno="949"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="950"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="951"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="952"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="953"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>STORE_DETAILS_OF_HOST<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="954"><highlight class="normal"></highlight></codeline>
<codeline lineno="955"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>CY_APP_USBC_DOCK_EXCHANGE_CAP_DP_USB3</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="956"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1ac963c033cb47909cf986377cd328fc63" kindref="member">ptrAltPortAltmodeCtx</ref>-&gt;pdStackContext-&gt;dpmConfig.attach)</highlight></codeline>
<codeline lineno="957"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="958"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Process<sp/>DFP<sp/>only<sp/>in<sp/>case<sp/>if<sp/>DP<sp/>UFP<sp/>is<sp/>active<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="959"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;port<sp/>==<sp/>TYPEC_PORT_1_IDX)</highlight></codeline>
<codeline lineno="960"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="961"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>US<sp/>port<sp/>is<sp/>in<sp/>4-lane<sp/>connection<sp/>DS<sp/>can<sp/>be<sp/>in<sp/>4-lane<sp/>connection<sp/>only<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="962"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/><sp/>(gl_dpStatus[TYPEC_PORT_0_IDX].dpMuxCfg<sp/>==<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6afc353200bd55a4cba2100773ec6169f7" kindref="member">CY_PDALTMODE_MUX_CONFIG_DP_4_LANE</ref>)</highlight></codeline>
<codeline lineno="963"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="964"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="965"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="group__group__pdaltmode__display__port__macros_1ga4b7009e3a0080d69cf4eebd8fc4d0260" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_C</ref><sp/>!=<sp/>dp4Lane)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="966"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="group__group__pdaltmode__display__port__macros_1ga31e7c3821f9c13cf548ed3cc575bc4e6" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_E</ref><sp/>!=<sp/>dp4Lane)</highlight></codeline>
<codeline lineno="967"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="968"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="969"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a2ffaaf71bb924322fa01762aa199f818" kindref="member">CY_PDALTMODE_DP_STATE_EXIT</ref>;</highlight></codeline>
<codeline lineno="970"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="971"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="972"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="973"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Proceed<sp/>with<sp/>4-lane<sp/>configuration<sp/>and<sp/>disable<sp/>2-lane<sp/>options<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="974"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dp2Lane<sp/>=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>;</highlight></codeline>
<codeline lineno="975"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="976"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="977"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>US<sp/>port<sp/>is<sp/>in<sp/>2-lane<sp/>connection,<sp/>DS<sp/>can<sp/>be<sp/>in<sp/>2-lane<sp/>or<sp/>4-lane<sp/>connection.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="978"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/><sp/>(gl_dpStatus[TYPEC_PORT_0_IDX].dpMuxCfg<sp/>==<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6ad9dd6af58d168841fdf31666a58f6934" kindref="member">CY_PDALTMODE_MUX_CONFIG_DP_2_LANE</ref>)</highlight></codeline>
<codeline lineno="979"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="980"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>No<sp/>action<sp/>needed.<sp/>The<sp/>DS<sp/>port<sp/>can<sp/>enter<sp/>2L<sp/>or<sp/>4L<sp/>mode<sp/>based<sp/>on<sp/>capabilities<sp/>reported<sp/>by<sp/>the<sp/>port<sp/>partner.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="981"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="982"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="983"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="984"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a2ffaaf71bb924322fa01762aa199f818" kindref="member">CY_PDALTMODE_DP_STATE_EXIT</ref>;</highlight></codeline>
<codeline lineno="985"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="986"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="987"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="988"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>CY_APP_USBC_DOCK_EXCHANGE_CAP_DP_USB3<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="989"><highlight class="normal"></highlight></codeline>
<codeline lineno="990"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>DP2.1<sp/>support<sp/>flag<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="991"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="992"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(svidVdo.std_dp_vdo.dpAmVersion<sp/>&gt;=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gacc1eee1245a094ddaf6e172eca1591d8" kindref="member">CY_PDALTMODE_DP_2_1_VERSION</ref>)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="993"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aba3f2832d6acbf0f5c866d67f8e0090b" kindref="member">appStatusContext</ref>-&gt;vdmVersion<sp/>&gt;=<sp/>(uint8_t)CY_PDSTACK_STD_VDM_VER2)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="994"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aba3f2832d6acbf0f5c866d67f8e0090b" kindref="member">appStatusContext</ref>-&gt;vdmMinorVersion<sp/>&gt;=<sp/>(uint8_t)CY_PDSTACK_STD_VDM_MINOR_VER1)<sp/><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="995"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;dpmStat.specRevPeer<sp/>&gt;<sp/>CY_PD_REV2)</highlight></codeline>
<codeline lineno="996"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="997"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="998"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1afdc9b7d48e359e42994ae7c7a1389e54" kindref="member">dp21Supp</ref><sp/>=<sp/>(uint8_t)((svidVdo.std_dp_vdo.dpAmVersion<sp/>!=<sp/>0x00UL)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="999"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a381fef34f8f087cb28e2fe109ddb52b2" kindref="member">customHpiHostCapControl</ref><sp/>&amp;<sp/><ref refid="group__group__pdaltmode__common__macros_1ga9dcd4c63f56ad8ce5e171be28013be48" kindref="member">CY_PDALTMODE_DP21_EN_HOST_PARAM_MASK</ref>)<sp/>!=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1000"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Force<sp/>DP<sp/>2.1<sp/>Enable<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1001"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a51a744b85e46a2852636ef9bc375be2b" kindref="member">dpCfg</ref>-&gt;dp_operation<sp/>&amp;<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga7423ed91a1dff1e1c1aa4b3c20816eb6" kindref="member">CY_PDALTMODE_DP2_1_CFG_MASK</ref>)<sp/>!=<sp/>0x00U));</highlight></codeline>
<codeline lineno="1002"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1003"><highlight class="normal"></highlight></codeline>
<codeline lineno="1004"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1aff51f611f154742f24edb376599718d5" kindref="member">dp4Lane</ref><sp/>=<sp/>dp4Lane;</highlight></codeline>
<codeline lineno="1005"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a0fba88ae38cf14047bc426ceee4e78e8" kindref="member">dp2Lane</ref><sp/>=<sp/>dp2Lane;</highlight></codeline>
<codeline lineno="1006"><highlight class="normal"></highlight></codeline>
<codeline lineno="1007"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="1008"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1009"><highlight class="normal"></highlight></codeline>
<codeline lineno="1010"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_CheckDp2LaneSupport(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/>cy_pd_pd_do_t<sp/>status)</highlight></codeline>
<codeline lineno="1011"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1012"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="1013"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>Return<sp/>true<sp/>if<sp/>UFP<sp/>is<sp/>requesting<sp/>multi-function<sp/>mode<sp/>and<sp/>we<sp/>have<sp/>a<sp/>valid<sp/>2-lane<sp/>configuration.</highlight></codeline>
<codeline lineno="1014"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>Please<sp/>note<sp/>that<sp/>pin<sp/>configuration<sp/>F<sp/>is<sp/>not<sp/>valid<sp/>for<sp/>a<sp/>UFP-D.</highlight></codeline>
<codeline lineno="1015"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1016"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="1017"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(status.dp_stat_vdo.multFun<sp/>!=<sp/>0x0U)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1018"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a0fba88ae38cf14047bc426ceee4e78e8" kindref="member">dp2Lane</ref><sp/>!=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gaac9cb5404f06c3b14be0bd5191a03b42" kindref="member">CY_PDALTMODE_DP_INVALID_CFG</ref>)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1019"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((status.dp_stat_vdo.dfpUfpConn<sp/>!=<sp/>(uint32_t)<ref refid="group__group__pdaltmode__display__port__enums_1ggaf4086284e38a0fbae4294e33f34942ada6c577db70cb1492e9de43ac65ba3967e" kindref="member">CY_PDALTMODE_DP_CONN_UFP_D</ref>)<sp/>||<sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a0fba88ae38cf14047bc426ceee4e78e8" kindref="member">dp2Lane</ref><sp/>!=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gae94d317fd458337a229c134a46e2624c" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_F</ref>))</highlight></codeline>
<codeline lineno="1020"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="1021"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1022"><highlight class="normal"></highlight></codeline>
<codeline lineno="1023"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__display__port__enums_1gad6f1f79915cc9c1b675a6e9e6e4879a5" kindref="member">cy_en_pdaltmode_dp_state_t</ref><sp/>Cy_PdAltMode_DP_EvalUfpStatus(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext)</highlight></codeline>
<codeline lineno="1024"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1025"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__display__port__enums_1gad6f1f79915cc9c1b675a6e9e6e4879a5" kindref="member">cy_en_pdaltmode_dp_state_t</ref><sp/>ret<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a70e7050d18b3b5a7492c35e2868d1257" kindref="member">CY_PDALTMODE_DP_STATE_CONFIG</ref>;</highlight></codeline>
<codeline lineno="1026"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpMode<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1027"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/><sp/><sp/>dpAsgn<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gaac9cb5404f06c3b14be0bd5191a03b42" kindref="member">CY_PDALTMODE_DP_INVALID_CFG</ref>;</highlight></codeline>
<codeline lineno="1028"><highlight class="normal"></highlight></codeline>
<codeline lineno="1029"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_pd_pd_do_t<sp/>status<sp/>=<sp/>*Cy_PdAltMode_DP_GetVdo(ptrAltModeContext);</highlight></codeline>
<codeline lineno="1030"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__dp__status__t" kindref="compound">cy_stc_pdaltmode_dp_status_t</ref><sp/>*dpStatus<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>;</highlight></codeline>
<codeline lineno="1031"><highlight class="normal"></highlight></codeline>
<codeline lineno="1032"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab5660d36862cb4d10c773d139e193cf5" kindref="member">statusVdo</ref><sp/>=<sp/>status;</highlight></codeline>
<codeline lineno="1033"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.val<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1034"><highlight class="normal"></highlight></codeline>
<codeline lineno="1035"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>UFP<sp/>sends<sp/>ATTENTION<sp/>with<sp/>no<sp/>Status<sp/>byte<sp/>we<sp/>just<sp/>remain<sp/>in<sp/>the<sp/>same<sp/>state<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1036"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;vdoNumb[CY_PD_SOP]<sp/>==<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>){</highlight></codeline>
<codeline lineno="1037"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a4e9b49ee3e1b6923b1c123b1d2a3fb64" kindref="member">CY_PDALTMODE_DP_STATE_IDLE</ref>;</highlight></codeline>
<codeline lineno="1038"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1039"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>whether<sp/>the<sp/>&quot;USB<sp/>Configuration<sp/>Request&quot;<sp/>or<sp/>&quot;Exit<sp/>DisplayPort<sp/>Mode<sp/>Request&quot;<sp/>bits<sp/>are<sp/>set<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1040"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((status.val<sp/>&amp;<sp/>0x00000060UL)<sp/>!=<sp/>0UL)</highlight></codeline>
<codeline lineno="1041"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1042"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Ignore<sp/>re-configuration<sp/>to<sp/>USB<sp/>if<sp/>MUX<sp/>is<sp/>already<sp/>in<sp/>USB<sp/>configuration<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1043"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((status.dp_stat_vdo.usbCfg<sp/>!=<sp/>0U)<sp/>&amp;&amp;<sp/>(dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a83fae71cd0b9536cc96149e26ac43584" kindref="member">dpMuxCfg</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6a1bcda475ec873920e65bb3dc7f397656" kindref="member">CY_PDALTMODE_MUX_CONFIG_SS_ONLY</ref>)){</highlight></codeline>
<codeline lineno="1044"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a4e9b49ee3e1b6923b1c123b1d2a3fb64" kindref="member">CY_PDALTMODE_DP_STATE_IDLE</ref>;</highlight></codeline>
<codeline lineno="1045"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1046"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.val<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga31ede17b81a3b179b2e858d0594c23d6" kindref="member">CY_PDALTMODE_DP_USB_SS_CONFIG</ref>;</highlight></codeline>
<codeline lineno="1047"><highlight class="normal"></highlight></codeline>
<codeline lineno="1048"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>Exit<sp/>request<sp/>bit<sp/>is<sp/>set<sp/>then<sp/>send<sp/>Exit<sp/>cmd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1049"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status.dp_stat_vdo.exit<sp/>!=<sp/>0U)</highlight></codeline>
<codeline lineno="1050"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1051"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ad0d80245b7ca12147dfe1def607feadf" kindref="member">dpExit</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1052"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1053"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1054"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab70cdcd350d8bad35c635061f405fe66" kindref="member">dpActiveFlag</ref>)</highlight></codeline>
<codeline lineno="1055"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1056"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Previously<sp/>in<sp/>USB<sp/>configuration.<sp/>Check<sp/>if<sp/>we<sp/>can<sp/>switch<sp/>to<sp/>DP.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1057"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status.dp_stat_vdo.dfpUfpConn<sp/>&gt;<sp/>(uint32_t)<ref refid="group__group__pdaltmode__display__port__enums_1ggaf4086284e38a0fbae4294e33f34942ada258101a3dd55f0a76c118d1c75542373" kindref="member">CY_PDALTMODE_DP_CONN_DFP_D</ref>)</highlight></codeline>
<codeline lineno="1058"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1059"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>Multi<sp/>Function<sp/>is<sp/>requested<sp/>and<sp/>CCG<sp/>can<sp/>support<sp/>2<sp/>lane<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1060"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="1061"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(Cy_PdAltMode_DP_CheckDp2LaneSupport<sp/>(ptrAltModeContext,<sp/>status))<sp/>||</highlight></codeline>
<codeline lineno="1062"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1aff51f611f154742f24edb376599718d5" kindref="member">dp4Lane</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>)</highlight></codeline>
<codeline lineno="1063"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1064"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1065"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpAsgn<sp/>=<sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a0fba88ae38cf14047bc426ceee4e78e8" kindref="member">dp2Lane</ref>;</highlight></codeline>
<codeline lineno="1066"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1067"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1068"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1069"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpAsgn<sp/>=<sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1aff51f611f154742f24edb376599718d5" kindref="member">dp4Lane</ref>;</highlight></codeline>
<codeline lineno="1070"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1071"><highlight class="normal"></highlight></codeline>
<codeline lineno="1072"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpMode<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1073"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1074"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1075"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1076"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a4e9b49ee3e1b6923b1c123b1d2a3fb64" kindref="member">CY_PDALTMODE_DP_STATE_IDLE</ref>;</highlight></codeline>
<codeline lineno="1077"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1078"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1079"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1080"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1081"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Previously<sp/>in<sp/>DP<sp/>Configuration<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1082"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>UFP_D<sp/>is<sp/>no<sp/>longer<sp/>connected<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1083"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status.dp_stat_vdo.dfpUfpConn<sp/>&lt;<sp/>(uint32_t)<ref refid="group__group__pdaltmode__display__port__enums_1ggaf4086284e38a0fbae4294e33f34942ada6c577db70cb1492e9de43ac65ba3967e" kindref="member">CY_PDALTMODE_DP_CONN_UFP_D</ref>)</highlight></codeline>
<codeline lineno="1084"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1085"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Move<sp/>to<sp/>USB<sp/>Config.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1086"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.val<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga31ede17b81a3b179b2e858d0594c23d6" kindref="member">CY_PDALTMODE_DP_USB_SS_CONFIG</ref>;</highlight></codeline>
<codeline lineno="1087"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1088"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>DP<sp/>sink<sp/>is<sp/>requesting<sp/>for<sp/>2<sp/>lane,<sp/>and<sp/>the<sp/>current</highlight></codeline>
<codeline lineno="1089"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>config<sp/>is<sp/>not<sp/>2<sp/>DP<sp/>lane.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1090"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="1091"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(Cy_PdAltMode_DP_CheckDp2LaneSupport<sp/>(ptrAltModeContext,<sp/>status))<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1092"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(!dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1adff2592811994d32fac6bc815fcfed77" kindref="member">dp2LaneActive</ref>)</highlight></codeline>
<codeline lineno="1093"><highlight class="normal">#if<sp/>(STORE_DETAILS_OF_HOST<sp/>||<sp/>CY_APP_USBC_DOCK_EXCHANGE_CAP_DP_USB3)</highlight></codeline>
<codeline lineno="1094"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Proceed<sp/>for<sp/>2<sp/>lane<sp/>only<sp/>if<sp/>UFP<sp/>supports<sp/>2<sp/>lane<sp/>or<sp/>if<sp/>UFP<sp/>is<sp/>not<sp/>connected<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1095"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;<sp/>(((gl_dpStatus[TYPEC_PORT_0_IDX].dpMuxCfg<sp/>==<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6ad9dd6af58d168841fdf31666a58f6934" kindref="member">CY_PDALTMODE_MUX_CONFIG_DP_2_LANE</ref>)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1096"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1ac963c033cb47909cf986377cd328fc63" kindref="member">ptrAltPortAltmodeCtx</ref>-&gt;pdStackContext-&gt;dpmConfig.attach))<sp/><sp/><sp/><sp/>||</highlight></codeline>
<codeline lineno="1097"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1ac963c033cb47909cf986377cd328fc63" kindref="member">ptrAltPortAltmodeCtx</ref>-&gt;pdStackContext-&gt;dpmConfig.attach<sp/>==<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="1098"><highlight class="normal">#endif<sp/></highlight><highlight class="comment">/*<sp/>(STORE_DETAILS_OF_HOST<sp/>||<sp/>CY_APP_USBC_DOCK_EXCHANGE_CAP_DP_USB3)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1099"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Move<sp/>to<sp/>DP<sp/>2<sp/>lane<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpMode<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpAsgn<sp/>=<sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a0fba88ae38cf14047bc426ceee4e78e8" kindref="member">dp2Lane</ref>;</highlight></codeline>
<codeline lineno="1104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>DP<sp/>Sink<sp/>is<sp/>requesting<sp/>for<sp/>NON-MULTI<sp/>Function<sp/>Mode</highlight></codeline>
<codeline lineno="1106"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>and<sp/>current<sp/>mode<sp/>is<sp/>MULTI<sp/>FUNCTION.<sp/>In<sp/>this<sp/>case<sp/>switch<sp/>to</highlight></codeline>
<codeline lineno="1107"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>4<sp/>lane<sp/>DP.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="1109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1adff2592811994d32fac6bc815fcfed77" kindref="member">dp2LaneActive</ref><sp/>&amp;&amp;<sp/>(status.dp_stat_vdo.multFun<sp/>==<sp/>0x0U))</highlight></codeline>
<codeline lineno="1110"><highlight class="normal">#if<sp/>(STORE_DETAILS_OF_HOST<sp/>||<sp/>CY_APP_USBC_DOCK_EXCHANGE_CAP_DP_USB3)</highlight></codeline>
<codeline lineno="1111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Proceed<sp/>for<sp/>4<sp/>lane<sp/>only<sp/>if<sp/>UFP<sp/>supports<sp/>4<sp/>lane<sp/>or<sp/>if<sp/>UFP<sp/>is<sp/>not<sp/>connected<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;<sp/>(((gl_dpStatus[TYPEC_PORT_0_IDX].dpMuxCfg<sp/>==<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6afc353200bd55a4cba2100773ec6169f7" kindref="member">CY_PDALTMODE_MUX_CONFIG_DP_4_LANE</ref>)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1ac963c033cb47909cf986377cd328fc63" kindref="member">ptrAltPortAltmodeCtx</ref>-&gt;pdStackContext-&gt;dpmConfig.attach))<sp/><sp/><sp/><sp/>||</highlight></codeline>
<codeline lineno="1114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1ac963c033cb47909cf986377cd328fc63" kindref="member">ptrAltPortAltmodeCtx</ref>-&gt;pdStackContext-&gt;dpmConfig.attach<sp/>==<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="1115"><highlight class="normal">#endif<sp/></highlight><highlight class="comment">/*<sp/>(STORE_DETAILS_OF_HOST<sp/>||<sp/>CY_APP_USBC_DOCK_EXCHANGE_CAP_DP_USB3)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Move<sp/>to<sp/>DP<sp/>4<sp/>lane<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpMode<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpAsgn<sp/>=<sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1aff51f611f154742f24edb376599718d5" kindref="member">dp4Lane</ref>;</highlight></codeline>
<codeline lineno="1121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a4e9b49ee3e1b6923b1c123b1d2a3fb64" kindref="member">CY_PDALTMODE_DP_STATE_IDLE</ref>;</highlight></codeline>
<codeline lineno="1125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1126"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1127"><highlight class="normal"></highlight></codeline>
<codeline lineno="1128"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dpMode)</highlight></codeline>
<codeline lineno="1129"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.dp_cfg_vdo.dfpAsgmnt<sp/>=<sp/>dpAsgn;</highlight></codeline>
<codeline lineno="1131"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1132"><highlight class="normal"></highlight></codeline>
<codeline lineno="1133"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="1134"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1135"><highlight class="normal"></highlight></codeline>
<codeline lineno="1136"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_IsCableCapable(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structcy__stc__pdaltmode__atch__tgt__info__t" kindref="compound">cy_stc_pdaltmode_atch_tgt_info_t</ref>*<sp/>atchTgtInfo)</highlight></codeline>
<codeline lineno="1137"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1138"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>;</highlight></codeline>
<codeline lineno="1139"><highlight class="normal"></highlight></codeline>
<codeline lineno="1140"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((atchTgtInfo-&gt;<ref refid="structcy__stc__pdaltmode__atch__tgt__info__t_1a8f281e3f3e2462ee8dc336e634361fb4" kindref="member">cblVdo</ref><sp/>!=<sp/>NULL)<sp/>&amp;&amp;<sp/>(atchTgtInfo-&gt;<ref refid="structcy__stc__pdaltmode__atch__tgt__info__t_1a8f281e3f3e2462ee8dc336e634361fb4" kindref="member">cblVdo</ref>-&gt;val<sp/>!=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>))</highlight></codeline>
<codeline lineno="1141"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="1143"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>If<sp/>the<sp/>cable<sp/>supports<sp/>DP<sp/>mode<sp/>explicitly,<sp/>can<sp/>go<sp/>ahead<sp/>with<sp/>it.</highlight></codeline>
<codeline lineno="1144"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>Otherwise,<sp/>the<sp/>cable<sp/>has<sp/>to<sp/>support<sp/>USB<sp/>3.1<sp/>Gen1<sp/>or<sp/>higher<sp/>data<sp/>rates.</highlight></codeline>
<codeline lineno="1145"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="1147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((ALT_MODE_CALL_MAP(<ref refid="group__group__pdaltmode__vdm__alt__mode__manager__functions_1ga8af23f8a041d2feaaa19b2dc2fade6db" kindref="member">Cy_PdAltMode_Mngr_GetCableUsbCap</ref>)(ptrPdStackContext)<sp/>==<sp/>CY_PDSTACK_USB_2_0_SUPP)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>||</highlight></codeline>
<codeline lineno="1148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrPdStackContext-&gt;dpmStat.cblType<sp/>==<sp/>CY_PDSTACK_PROD_TYPE_ACT_CBL))<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(!Cy_PdAltMode_DP_IsCableSvid(atchTgtInfo,<sp/><ref refid="group__group__pdaltmode__common__macros_1gaf33d8c03f64a191110fddd9f98657092" kindref="member">CY_PDALTMODE_DP_SVID</ref>))</highlight></codeline>
<codeline lineno="1150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1154"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1155"><highlight class="normal"></highlight></codeline>
<codeline lineno="1156"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Allow<sp/>DP<sp/>mode<sp/>to<sp/>go<sp/>through<sp/>if<sp/>no<sp/>cable<sp/>marker<sp/>is<sp/>found<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1157"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1158"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1159"><highlight class="normal"></highlight></codeline>
<codeline lineno="1160"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_IsCableSvid(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structcy__stc__pdaltmode__atch__tgt__info__t" kindref="compound">cy_stc_pdaltmode_atch_tgt_info_t</ref>*<sp/>atchTgtInfo,<sp/>uint16_t<sp/>svid)</highlight></codeline>
<codeline lineno="1161"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1162"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>idx<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1163"><highlight class="normal"></highlight></codeline>
<codeline lineno="1164"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(atchTgtInfo-&gt;<ref refid="structcy__stc__pdaltmode__atch__tgt__info__t_1aea3aced4010a45030cb5bc8f319887c8" kindref="member">cblSvid</ref>[idx]<sp/>!=<sp/>0x0U)</highlight></codeline>
<codeline lineno="1165"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>Cable<sp/>Intel<sp/>SVID<sp/>is<sp/>found<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(atchTgtInfo-&gt;<ref refid="structcy__stc__pdaltmode__atch__tgt__info__t_1aea3aced4010a45030cb5bc8f319887c8" kindref="member">cblSvid</ref>[idx]<sp/>==<sp/>svid)</highlight></codeline>
<codeline lineno="1168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>idx++;</highlight></codeline>
<codeline lineno="1172"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1173"><highlight class="normal"></highlight></codeline>
<codeline lineno="1174"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1175"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1176"><highlight class="normal"></highlight></codeline>
<codeline lineno="1177"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_Init(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext)</highlight></codeline>
<codeline lineno="1178"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1179"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__mngr__info__t" kindref="compound">cy_stc_pdaltmode_mngr_info_t</ref><sp/>*info<sp/>=<sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext);</highlight></codeline>
<codeline lineno="1180"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1181"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(!ICL_ALT_MODE_HPI_DISABLED)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1182"><highlight class="normal"><sp/><sp/><sp/><sp/>info-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a37a95f9810299d71a265504bcd93988a" kindref="member">evalAppCmd</ref><sp/>=<sp/>Cy_PdAltMode_DP_EvalAppCmd;</highlight></codeline>
<codeline lineno="1183"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(!ICL_ALT_MODE_HPI_DISABLED)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1184"><highlight class="normal"><sp/><sp/><sp/><sp/>info-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a9baeed922b72b11957631cfce2a686ca" kindref="member">vdoMaxNumb</ref><sp/><sp/><sp/><sp/>=<sp/><ref refid="group__group__pdaltmode__common__macros_1gad5a8ba3a413e6879b2cb9a28a740b6bf" kindref="member">CY_PDALTMODE_MAX_DP_VDO_NUMB</ref>;</highlight></codeline>
<codeline lineno="1185"><highlight class="normal"><sp/><sp/><sp/><sp/>info-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a27bb41076b075814e7a4cbf9a7ebed5f" kindref="member">vdo</ref>[CY_PD_SOP]<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1aa6481d5042d2a7ef93d4272274d38193" kindref="member">vdo</ref>;</highlight></codeline>
<codeline lineno="1186"><highlight class="normal"><sp/><sp/><sp/><sp/>info-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a27bb41076b075814e7a4cbf9a7ebed5f" kindref="member">vdo</ref>[CY_PD_SOP_PRIME]<sp/><sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab1a08e29ff419cccac4d6fdf0b2ca837" kindref="member">cableVdo</ref>;</highlight></codeline>
<codeline lineno="1187"><highlight class="normal"><sp/><sp/><sp/><sp/>info-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a27bb41076b075814e7a4cbf9a7ebed5f" kindref="member">vdo</ref>[CY_PD_SOP_DPRIME]<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab1a08e29ff419cccac4d6fdf0b2ca837" kindref="member">cableVdo</ref>;</highlight></codeline>
<codeline lineno="1188"><highlight class="normal"></highlight></codeline>
<codeline lineno="1189"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>No<sp/>need<sp/>to<sp/>put<sp/>MUX<sp/>into<sp/>SAFE<sp/>state<sp/>at<sp/>mode<sp/>entry<sp/>as<sp/>this<sp/>is<sp/>managed<sp/>in<sp/>CONFIG<sp/>state<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1190"><highlight class="normal"><sp/><sp/><sp/><sp/>info-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1ae49720bf3bb21557531bf34d1d9651eb" kindref="member">setMuxIsolate</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1191"><highlight class="normal"><sp/><sp/><sp/><sp/>info-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1aa576a789c55d631f6d516b6f623a7da3" kindref="member">cbk</ref><sp/>=<sp/>(<ref refid="group__group__pdaltmode__vdm__alt__mode__manager__data__structures_1ga05fe4c1e5050ead24faad63a56212a7a" kindref="member">cy_pdaltmode_alt_mode_cbk_t</ref>)Cy_PdAltMode_DP_DfpRun;</highlight></codeline>
<codeline lineno="1192"><highlight class="normal"></highlight></codeline>
<codeline lineno="1193"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Goto<sp/>enter<sp/>state<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1194"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5aafbba10e7d19d4fe6c5e8172ebbbf2d0" kindref="member">CY_PDALTMODE_DP_STATE_ENTER</ref>;</highlight></codeline>
<codeline lineno="1195"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a83fae71cd0b9536cc96149e26ac43584" kindref="member">dpMuxCfg</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6a1bcda475ec873920e65bb3dc7f397656" kindref="member">CY_PDALTMODE_MUX_CONFIG_SS_ONLY</ref>;</highlight></codeline>
<codeline lineno="1196"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1197"><highlight class="normal"></highlight></codeline>
<codeline lineno="1198"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>MUX_DELAY_EN<sp/>&amp;&amp;<sp/>ICL_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1199"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_HpdDelayCbk(cy_timer_id_t<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>context)</highlight></codeline>
<codeline lineno="1200"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1201"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1202"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*<sp/>ptrPdStackContext<sp/>=<sp/>(cy_stc_pdstack_context_t<sp/>*)<sp/>context;</highlight></codeline>
<codeline lineno="1203"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*<sp/>ptrAltModeContext<sp/>=<sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*)<sp/>ptrPdStackContext-&gt;ptrAltModeContext;</highlight></codeline>
<codeline lineno="1204"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1205"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Run<sp/>dequeue<sp/>just<sp/>if<sp/>DP<sp/>configuration<sp/>is<sp/>active<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1206"><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab70cdcd350d8bad35c635061f405fe66" kindref="member">dpActiveFlag</ref>)</highlight></codeline>
<codeline lineno="1207"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a752511e4e69be13d3d08a7e606090361" kindref="member">isMuxBusy</ref>)</highlight></codeline>
<codeline lineno="1209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>ptrPdStackContext,</highlight></codeline>
<codeline lineno="1211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881a4355bc9b2fd99f14d5cde8e06c277aad" kindref="member">CY_PDALTMODE_HPD_DELAY_TIMER</ref>),</highlight></codeline>
<codeline lineno="1212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a114d59eee5374c695d29a049257e17b2" kindref="member">iclCfg</ref>-&gt;soc_mux_config_delay,<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*)<sp/>Cy_PdAltMode_DP_HpdDelayCbk);</highlight></codeline>
<codeline lineno="1213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_Icl_SetEvt(ptrPdStackContext-&gt;port,<sp/>CY_PDALTMODE_ICL_EVT_DEQUEUE_HPD);</highlight></codeline>
<codeline lineno="1217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1218"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1219"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1220"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1221"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!VIRTUAL_HPD_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1222"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_HpdDelayCbk(cy_timer_id_t<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*context)</highlight></codeline>
<codeline lineno="1223"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1224"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1225"><highlight class="normal"></highlight></codeline>
<codeline lineno="1226"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>(cy_stc_pdstack_context_t<sp/>*)<sp/>context;</highlight></codeline>
<codeline lineno="1227"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext<sp/>=<sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*)ptrPdStackContext-&gt;ptrAltModeContext;</highlight></codeline>
<codeline lineno="1228"><highlight class="normal"></highlight></codeline>
<codeline lineno="1229"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Run<sp/>dequeue<sp/>just<sp/>if<sp/>DP<sp/>configuration<sp/>is<sp/>active<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1230"><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab70cdcd350d8bad35c635061f405fe66" kindref="member">dpActiveFlag</ref><sp/>&amp;&amp;<sp/>(Cy_USBPD_Hpdt_IsCommandActive(ptrPdStackContext-&gt;ptrUsbPdContext)<sp/>==<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="1231"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__display__port__functions_1gabf5c7997064a0ae1516e542ee90ced7f" kindref="member">Cy_PdAltMode_DP_DfpDequeueHpd</ref>(ptrAltModeContext);</highlight></codeline>
<codeline lineno="1233"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1234"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="1235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1ae4fd2bb93c7050d3b51ba1d25a3afbd3" kindref="member">muxStat</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga76fe692191168bfcd3be6cee0c268493a3c152118c65f37a723cee8e4dbf42dab" kindref="member">CY_PDALTMODE_APP_MUX_STATE_BUSY</ref>)<sp/>||</highlight></codeline>
<codeline lineno="1236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a83fae71cd0b9536cc96149e26ac43584" kindref="member">dpMuxCfg</ref><sp/>!=<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6a1bcda475ec873920e65bb3dc7f397656" kindref="member">CY_PDALTMODE_MUX_CONFIG_SS_ONLY</ref>)</highlight></codeline>
<codeline lineno="1237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1238"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Postpone<sp/>HPD<sp/>update<sp/>if<sp/>datapath<sp/>update<sp/>is<sp/>pending<sp/>or<sp/>MUX<sp/>configured<sp/>to<sp/>USB<sp/>SS<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;ptrTimerContext,<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>,</highlight></codeline>
<codeline lineno="1241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDALTMODE_GET_TIMER_ID(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881a4355bc9b2fd99f14d5cde8e06c277aad" kindref="member">CY_PDALTMODE_HPD_DELAY_TIMER</ref>),</highlight></codeline>
<codeline lineno="1242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__common__macros_1ga3d0d0f1edfbc7cd309f3390098d9eeb5" kindref="member">CY_PDALTMODE_APP_HPD_DEQUE_POLL_PERIOD</ref>,<sp/>Cy_PdAltMode_DP_HpdDelayCbk);</highlight></codeline>
<codeline lineno="1243"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1244"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1245"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>VIRTUAL_HPD_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1246"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>MUX_DELAY_EN<sp/>&amp;&amp;<sp/>ICL_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1247"><highlight class="normal"></highlight></codeline>
<codeline lineno="1248"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_CleanHpdQueue(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext)</highlight></codeline>
<codeline lineno="1249"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1250"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>;</highlight></codeline>
<codeline lineno="1251"><highlight class="normal"></highlight></codeline>
<codeline lineno="1252"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a1aebef049c84db2351b40ae3d55e90bd" kindref="member">hpdState</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>;</highlight></codeline>
<codeline lineno="1253"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab0b3c545058d97b615017738ac38a835" kindref="member">queueReadIndex</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>;</highlight></codeline>
<codeline lineno="1254"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab84fb4d7079e62f60d56b260edcba223" kindref="member">curHpdState</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>;</highlight></codeline>
<codeline lineno="1255"><highlight class="normal"><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Stop)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881a4355bc9b2fd99f14d5cde8e06c277aad" kindref="member">CY_PDALTMODE_HPD_DELAY_TIMER</ref>));</highlight></codeline>
<codeline lineno="1256"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_2_1_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1257"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Stop<sp/>HPD<sp/>WAIT<sp/>timer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1258"><highlight class="normal"><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Stop)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881a04f431326ab93f32f3dd6556a3f1b2e3" kindref="member">CY_PDALTMODE_HPD_WAIT_TIMER</ref>));</highlight></codeline>
<codeline lineno="1259"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_2_1_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1260"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1261"><highlight class="normal"></highlight></codeline>
<codeline lineno="1262"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_DfpEnqueueHpd(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/>uint32_t<sp/>status)</highlight></codeline>
<codeline lineno="1263"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1264"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(MUX_DELAY_EN<sp/>&amp;&amp;<sp/>ICL_ENABLE)<sp/>||<sp/>(!VIRTUAL_HPD_ENABLE)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1265"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>;</highlight></codeline>
<codeline lineno="1266"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>MUX_DELAY_EN<sp/>&amp;&amp;<sp/>ICL_ENABLE<sp/><sp/>!VIRTUAL_HPD_ENABLE*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1267"><highlight class="normal"></highlight></codeline>
<codeline lineno="1268"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/><sp/>prevQueueIdx<sp/><sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab0b3c545058d97b615017738ac38a835" kindref="member">queueReadIndex</ref>;</highlight></codeline>
<codeline lineno="1269"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>*hpdState<sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>&amp;ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a1aebef049c84db2351b40ae3d55e90bd" kindref="member">hpdState</ref>;</highlight></codeline>
<codeline lineno="1270"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/><sp/>*hpdIdx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>&amp;ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab0b3c545058d97b615017738ac38a835" kindref="member">queueReadIndex</ref>;</highlight></codeline>
<codeline lineno="1271"><highlight class="normal"></highlight></codeline>
<codeline lineno="1272"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>whether<sp/>IRQ<sp/>queue<sp/>is<sp/>full<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1273"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab0b3c545058d97b615017738ac38a835" kindref="member">queueReadIndex</ref><sp/>&lt;<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga8f88c5660ea3c21c5a1319fe39d303a5" kindref="member">CY_PDALTMODE_DP_QUEUE_FULL_INDEX</ref>)</highlight></codeline>
<codeline lineno="1274"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(<ref refid="group__group__pdaltmode__display__port__macros_1ga97251935978f5c68ae91d40df1333f03" kindref="member">CY_PDALTMODE_DP_GET_HPD_IRQ_STAT</ref>(status))</highlight></codeline>
<codeline lineno="1276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga2682a472503df0c92472e17b1ef07938" kindref="member">CY_PDALTMODE_DP_HPD_LOW_IRQ_LOW</ref>:</highlight></codeline>
<codeline lineno="1278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Empty<sp/>queue<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*hpdIdx<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga53c1ef042111ecc2348e2b84734a9c67" kindref="member">CY_PDALTMODE_DP_QUEUE_STATE_SIZE</ref>;</highlight></codeline>
<codeline lineno="1280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*hpdState<sp/>=<sp/>(uint16_t)CY_USBPD_HPD_EVENT_UNPLUG;</highlight></codeline>
<codeline lineno="1281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prevQueueIdx<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga350dcb70ff3a0a3c0dba2065f54553da" kindref="member">CY_PDALTMODE_DP_QUEUE_EMPTY_INDEX</ref>;</highlight></codeline>
<codeline lineno="1282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1283"><highlight class="normal"></highlight></codeline>
<codeline lineno="1284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga08cdfe4ddfb0099ee0d245b86d8102a6" kindref="member">CY_PDALTMODE_DP_HPD_HIGH_IRQ_LOW</ref>:</highlight></codeline>
<codeline lineno="1285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Add<sp/>to<sp/>queue<sp/>High<sp/>HPD<sp/>state<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_AddHpdEvt(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>,<sp/>CY_USBPD_HPD_EVENT_PLUG);</highlight></codeline>
<codeline lineno="1287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__display__port__macros_1gaa5caf10c3b2f62ce624676426af14fce" kindref="member">CY_PDALTMODE_DP_HPD_LOW_IRQ_HIGH</ref>:</highlight></codeline>
<codeline lineno="1289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:<sp/><sp/><sp/></highlight><highlight class="comment">//Actually<sp/>CY_PDALTMODE_DP_HPD_HIGH_IRQ_HIGH</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="1291"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>Add<sp/>to<sp/>queue<sp/>HPD<sp/>HIGH<sp/>if<sp/>previous<sp/>HPD<sp/>level<sp/>was<sp/>LOW<sp/>or<sp/>it&apos;s</highlight></codeline>
<codeline lineno="1292"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>a<sp/>first<sp/>HPD<sp/>transaction.<sp/>In<sp/>other<sp/>cases<sp/>add<sp/>only<sp/>HPD<sp/>IRQ</highlight></codeline>
<codeline lineno="1293"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>event<sp/>to<sp/>queue.</highlight></codeline>
<codeline lineno="1294"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab84fb4d7079e62f60d56b260edcba223" kindref="member">curHpdState</ref><sp/>&lt;<sp/>(uint8_t)CY_USBPD_HPD_EVENT_PLUG)</highlight></codeline>
<codeline lineno="1296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_AddHpdEvt(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>,<sp/>CY_USBPD_HPD_EVENT_PLUG);</highlight></codeline>
<codeline lineno="1298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_AddHpdEvt(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>,<sp/>CY_USBPD_HPD_EVENT_IRQ);</highlight></codeline>
<codeline lineno="1300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Allow<sp/>dequeue<sp/>only<sp/>if<sp/>no<sp/>HPD<sp/>Dequeuing<sp/>in<sp/>the<sp/>process<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(prevQueueIdx<sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga350dcb70ff3a0a3c0dba2065f54553da" kindref="member">CY_PDALTMODE_DP_QUEUE_EMPTY_INDEX</ref>)</highlight></codeline>
<codeline lineno="1304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1305"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>MUX_DELAY_EN<sp/>&amp;&amp;<sp/>ICL_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Prevent<sp/>quick<sp/>back-to-back<sp/>HPD<sp/>changes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a752511e4e69be13d3d08a7e606090361" kindref="member">isMuxBusy</ref>)</highlight></codeline>
<codeline lineno="1308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>ptrPdStackContext,</highlight></codeline>
<codeline lineno="1310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881a4355bc9b2fd99f14d5cde8e06c277aad" kindref="member">CY_PDALTMODE_HPD_DELAY_TIMER</ref>),</highlight></codeline>
<codeline lineno="1311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__common__macros_1gaa693d620e58d694d4d5c0d18d8fd27b5" kindref="member">CY_PDALTMODE_APP_MUX_VDM_DELAY_TIMER_PERIOD</ref>,<sp/>Cy_PdAltMode_DP_HpdDelayCbk);</highlight></codeline>
<codeline lineno="1312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1314"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>MUX_DELAY_EN<sp/>&amp;&amp;<sp/>ICL_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1315"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!VIRTUAL_HPD_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Cy_USBPD_Hpdt_IsCommandActive(ptrPdStackContext-&gt;ptrUsbPdContext)<sp/>==<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1317"><highlight class="normal">#endif</highlight></codeline>
<codeline lineno="1318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__display__port__functions_1gabf5c7997064a0ae1516e542ee90ced7f" kindref="member">Cy_PdAltMode_DP_DfpDequeueHpd</ref>(ptrAltModeContext);</highlight></codeline>
<codeline lineno="1320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1322"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1323"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1324"><highlight class="normal"></highlight></codeline>
<codeline lineno="1325"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__display__port__functions_1gabf5c7997064a0ae1516e542ee90ced7f" kindref="member">Cy_PdAltMode_DP_DfpDequeueHpd</ref>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext)</highlight></codeline>
<codeline lineno="1326"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1327"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!VIRTUAL_HPD_ENABLE<sp/>||<sp/>DP_2_1_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1328"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>;</highlight></codeline>
<codeline lineno="1329"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>!VIRTUAL_HPD_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1330"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>hpdEvt<sp/>=<sp/>(uint32_t)CY_USBPD_HPD_EVENT_NONE;</highlight></codeline>
<codeline lineno="1331"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>hpdState<sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a1aebef049c84db2351b40ae3d55e90bd" kindref="member">hpdState</ref>;</highlight></codeline>
<codeline lineno="1332"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/><sp/>hpdIdx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab0b3c545058d97b615017738ac38a835" kindref="member">queueReadIndex</ref>;</highlight></codeline>
<codeline lineno="1333"><highlight class="normal"></highlight></codeline>
<codeline lineno="1334"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_2_1_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1335"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(TIMER_CALL_MAP(Cy_PdUtils_SwTimer_IsRunning)<sp/>(ptrPdStackContext-&gt;ptrTimerContext,<sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881a04f431326ab93f32f3dd6556a3f1b2e3" kindref="member">CY_PDALTMODE_HPD_WAIT_TIMER</ref>)))</highlight></codeline>
<codeline lineno="1336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1337"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_2_1_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1338"><highlight class="normal"></highlight></codeline>
<codeline lineno="1339"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>AMD_RETIMER_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1340"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1ae4fd2bb93c7050d3b51ba1d25a3afbd3" kindref="member">muxStat</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga76fe692191168bfcd3be6cee0c268493a3c152118c65f37a723cee8e4dbf42dab" kindref="member">CY_PDALTMODE_APP_MUX_STATE_BUSY</ref>)</highlight></codeline>
<codeline lineno="1341"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>ptrPdStackContext,</highlight></codeline>
<codeline lineno="1343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881a4355bc9b2fd99f14d5cde8e06c277aad" kindref="member">CY_PDALTMODE_HPD_DELAY_TIMER</ref>),</highlight></codeline>
<codeline lineno="1344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__common__macros_1ga3d0d0f1edfbc7cd309f3390098d9eeb5" kindref="member">CY_PDALTMODE_APP_HPD_DEQUE_POLL_PERIOD</ref>,<sp/>Cy_PdAltMode_DP_HpdDelayCbk);</highlight></codeline>
<codeline lineno="1345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1346"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1347"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>AMD_RETIMER_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1348"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1349"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!VIRTUAL_HPD_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1350"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>current<sp/>MUX<sp/>state<sp/>is<sp/>not<sp/>DP<sp/>-<sp/>HPD<sp/>processing<sp/>is<sp/>not<sp/>allowed<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1351"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab70cdcd350d8bad35c635061f405fe66" kindref="member">dpActiveFlag</ref>)</highlight></codeline>
<codeline lineno="1352"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>ptrPdStackContext,</highlight></codeline>
<codeline lineno="1354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881a4355bc9b2fd99f14d5cde8e06c277aad" kindref="member">CY_PDALTMODE_HPD_DELAY_TIMER</ref>),</highlight></codeline>
<codeline lineno="1355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__common__macros_1ga3d0d0f1edfbc7cd309f3390098d9eeb5" kindref="member">CY_PDALTMODE_APP_HPD_DEQUE_POLL_PERIOD</ref>,<sp/>Cy_PdAltMode_DP_HpdDelayCbk);</highlight></codeline>
<codeline lineno="1356"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1357"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>!VIRTUAL_HPD_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1358"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1359"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(hpdIdx<sp/>!=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga350dcb70ff3a0a3c0dba2065f54553da" kindref="member">CY_PDALTMODE_DP_QUEUE_EMPTY_INDEX</ref>)</highlight></codeline>
<codeline lineno="1360"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hpdEvt<sp/>=<sp/>(uint32_t)((uint32_t)<ref refid="group__group__pdaltmode__display__port__macros_1ga209f58409756a736c2d22c16619fbf91" kindref="member">CY_PDALTMODE_DP_HPD_STATE_MASK</ref><sp/>&amp;<sp/>((uint32_t)hpdState<sp/>&gt;&gt;<sp/>(hpdIdx<sp/>-<sp/>(uint32_t)<ref refid="group__group__pdaltmode__display__port__macros_1ga53c1ef042111ecc2348e2b84734a9c67" kindref="member">CY_PDALTMODE_DP_QUEUE_STATE_SIZE</ref>)));</highlight></codeline>
<codeline lineno="1362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)<ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga15b7aab673225200d6a7971187be489d" kindref="member">Cy_PdAltMode_HW_EvalHpdCmd</ref><sp/>(ptrAltModeContext,<sp/>hpdEvt);</highlight></codeline>
<codeline lineno="1363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Save<sp/>current<sp/>HPD<sp/>state<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab84fb4d7079e62f60d56b260edcba223" kindref="member">curHpdState</ref><sp/>=<sp/>(uint8_t)hpdEvt;</highlight></codeline>
<codeline lineno="1365"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1366"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1367"><highlight class="normal"></highlight></codeline>
<codeline lineno="1368"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_SrcHpdRespCbk(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*context,<sp/>uint32_t<sp/>event)</highlight></codeline>
<codeline lineno="1369"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1370"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext<sp/>=<sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*)context;</highlight></codeline>
<codeline lineno="1371"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_2_1_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1372"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>;</highlight></codeline>
<codeline lineno="1373"><highlight class="normal"></highlight></codeline>
<codeline lineno="1374"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(TIMER_CALL_MAP(Cy_PdUtils_SwTimer_IsRunning)<sp/>(ptrPdStackContext-&gt;ptrTimerContext,<sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881a04f431326ab93f32f3dd6556a3f1b2e3" kindref="member">CY_PDALTMODE_HPD_WAIT_TIMER</ref>)))</highlight></codeline>
<codeline lineno="1375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1376"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_2_1_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1377"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((event<sp/>&amp;<sp/>0xFFFFUL)<sp/>==<sp/>(uint32_t)CY_USBPD_HPD_COMMAND_DONE)<sp/>&amp;&amp;<sp/>(Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a5734417b314c8d3c156613bf45fb15c3" kindref="member">isActive</ref><sp/>==<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="1378"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab0b3c545058d97b615017738ac38a835" kindref="member">queueReadIndex</ref><sp/>!=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga350dcb70ff3a0a3c0dba2065f54553da" kindref="member">CY_PDALTMODE_DP_QUEUE_EMPTY_INDEX</ref>)</highlight></codeline>
<codeline lineno="1380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab0b3c545058d97b615017738ac38a835" kindref="member">queueReadIndex</ref><sp/>-=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga53c1ef042111ecc2348e2b84734a9c67" kindref="member">CY_PDALTMODE_DP_QUEUE_STATE_SIZE</ref>;</highlight></codeline>
<codeline lineno="1382"><highlight class="normal"></highlight></codeline>
<codeline lineno="1383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="1384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab0b3c545058d97b615017738ac38a835" kindref="member">queueReadIndex</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga350dcb70ff3a0a3c0dba2065f54553da" kindref="member">CY_PDALTMODE_DP_QUEUE_EMPTY_INDEX</ref>)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a1aebef049c84db2351b40ae3d55e90bd" kindref="member">hpdState</ref><sp/>==<sp/>(uint16_t)CY_USBPD_HPD_EVENT_UNPLUG)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab84fb4d7079e62f60d56b260edcba223" kindref="member">curHpdState</ref><sp/>!=<sp/>(uint8_t)CY_USBPD_HPD_EVENT_UNPLUG)</highlight></codeline>
<codeline lineno="1387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab0b3c545058d97b615017738ac38a835" kindref="member">queueReadIndex</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga53c1ef042111ecc2348e2b84734a9c67" kindref="member">CY_PDALTMODE_DP_QUEUE_STATE_SIZE</ref>;</highlight></codeline>
<codeline lineno="1390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1391"><highlight class="normal"></highlight></codeline>
<codeline lineno="1392"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>MUX_DELAY_EN<sp/>&amp;&amp;<sp/>ICL_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Prevent<sp/>quick<sp/>back-to-back<sp/>HPD<sp/>changes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a752511e4e69be13d3d08a7e606090361" kindref="member">isMuxBusy</ref>)</highlight></codeline>
<codeline lineno="1395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;ptrTimerContext,<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>,</highlight></codeline>
<codeline lineno="1397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDALTMODE_GET_TIMER_ID(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881a4355bc9b2fd99f14d5cde8e06c277aad" kindref="member">CY_PDALTMODE_HPD_DELAY_TIMER</ref>),</highlight></codeline>
<codeline lineno="1398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a114d59eee5374c695d29a049257e17b2" kindref="member">iclCfg</ref>-&gt;soc_mux_config_delay,<sp/>Cy_PdAltMode_DP_HpdDelayCbk);</highlight></codeline>
<codeline lineno="1399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1401"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>MUX_DELAY_EN<sp/>&amp;&amp;<sp/>ICL_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__display__port__functions_1gabf5c7997064a0ae1516e542ee90ced7f" kindref="member">Cy_PdAltMode_DP_DfpDequeueHpd</ref>(ptrAltModeContext);</highlight></codeline>
<codeline lineno="1404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1406"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1407"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1408"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_DFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1409"><highlight class="normal"></highlight></codeline>
<codeline lineno="1410"><highlight class="normal"></highlight><highlight class="comment">/*************************<sp/>DP<sp/>Sink<sp/>functions<sp/>definitions<sp/>**********************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1411"><highlight class="normal"></highlight></codeline>
<codeline lineno="1412"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_UFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1413"><highlight class="normal"></highlight></codeline>
<codeline lineno="1414"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_GPIO_CONFIG_SELECT</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1415"><highlight class="normal"></highlight></codeline>
<codeline lineno="1416"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Global<sp/>to<sp/>hold<sp/>DP<sp/>Pin<sp/>configuration<sp/>when<sp/>GPIO<sp/>based<sp/>selection<sp/>is<sp/>enabled<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1417"><highlight class="normal">uint8_t<sp/>glDpSinkConfig<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1418"><highlight class="normal"></highlight></codeline>
<codeline lineno="1419"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_SinkSetPinConfig(uint8_t<sp/>dpConfig)</highlight></codeline>
<codeline lineno="1420"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1421"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Store<sp/>DP<sp/>Configuration<sp/>supported<sp/>as<sp/>DP<sp/>Sink<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1422"><highlight class="normal"><sp/><sp/><sp/><sp/>glDpSinkConfig<sp/>=<sp/>dpConfig;</highlight></codeline>
<codeline lineno="1423"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1424"><highlight class="normal"></highlight></codeline>
<codeline lineno="1425"><highlight class="normal">uint8_t<sp/>Cy_PdAltMode_DP_SinkGetPinConfig(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1426"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1427"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>glDpSinkConfig;</highlight></codeline>
<codeline lineno="1428"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1429"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_GPIO_CONFIG_SELECT<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1430"><highlight class="normal"></highlight></codeline>
<codeline lineno="1431"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>GATKEX_CREEK</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1432"><highlight class="normal"></highlight><highlight class="comment">/*Added<sp/>a<sp/>timer<sp/>callback<sp/>to<sp/>add<sp/>a<sp/>delay<sp/>between<sp/>ridge<sp/>disconnect<sp/>and<sp/>DP<sp/>Alt<sp/>Mode<sp/>entry*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1433"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_RidgeMuxDelayCbk<sp/>(cy_timer_id_t<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>ptrContext)</highlight></codeline>
<codeline lineno="1434"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1435"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1436"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*<sp/>ptrPdStackContext<sp/>=<sp/>(cy_stc_pdstack_context_t<sp/>*)<sp/>ptrContext;</highlight></codeline>
<codeline lineno="1437"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*<sp/>ptrAltModeContext<sp/>=<sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*)ptrPdStackContext-&gt;ptrAltModeContext;</highlight></codeline>
<codeline lineno="1438"><highlight class="normal"></highlight></codeline>
<codeline lineno="1439"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Stop<sp/>Delay<sp/>timer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1440"><highlight class="normal"><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Stop)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/>(uint16_t)<ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881a3217b9fd0535e8f695223030b6f5ef9f" kindref="member">CY_PDALTMODE_GR_MUX_DELAY_TIMER</ref>));</highlight></codeline>
<codeline lineno="1441"><highlight class="normal"></highlight></codeline>
<codeline lineno="1442"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>MUX<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1443"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)<ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga9c8a69158389bc9aa1b7825bed6bf693" kindref="member">Cy_PdAltMode_HW_SetMux</ref>(ptrAltModeContext,<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a83fae71cd0b9536cc96149e26ac43584" kindref="member">dpMuxCfg</ref>,</highlight></codeline>
<codeline lineno="1444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.val,<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab5660d36862cb4d10c773d139e193cf5" kindref="member">statusVdo</ref>.val);</highlight></codeline>
<codeline lineno="1445"><highlight class="normal"></highlight></codeline>
<codeline lineno="1446"><highlight class="normal"><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_AssignVdo(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__macros_1ga43f668351b413a09e9a45ba9481a591f" kindref="member">CY_PDALTMODE_MNGR_NONE_VDO</ref>);</highlight></codeline>
<codeline lineno="1447"><highlight class="normal"><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1af6f4124dc3a22407c6a62da3c449c57a" kindref="member">modeState</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0af065a70e2b10edcf899dacf20fe5b384" kindref="member">CY_PDALTMODE_STATE_IDLE</ref>;</highlight></codeline>
<codeline lineno="1448"><highlight class="normal"></highlight></codeline>
<codeline lineno="1449"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>UFP<sp/>should<sp/>respond<sp/>to<sp/>VDM<sp/>then<sp/>send<sp/>VDM<sp/>response<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1450"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((ptrPdStackContext-&gt;dpmConfig.curPortType<sp/>==<sp/>CY_PD_PRT_TYPE_UFP)<sp/>&amp;&amp;<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aba3f2832d6acbf0f5c866d67f8e0090b" kindref="member">appStatusContext</ref>-&gt;isVdmPending)</highlight></codeline>
<codeline lineno="1451"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aba3f2832d6acbf0f5c866d67f8e0090b" kindref="member">appStatusContext</ref>-&gt;vdmResp.doCount<sp/>=<sp/>1u;</highlight></codeline>
<codeline lineno="1453"><highlight class="normal"></highlight></codeline>
<codeline lineno="1454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aba3f2832d6acbf0f5c866d67f8e0090b" kindref="member">appStatusContext</ref>-&gt;vdmRespCbk(ptrPdStackContext,<sp/>&amp;ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aba3f2832d6acbf0f5c866d67f8e0090b" kindref="member">appStatusContext</ref>-&gt;vdmResp);</highlight></codeline>
<codeline lineno="1455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aba3f2832d6acbf0f5c866d67f8e0090b" kindref="member">appStatusContext</ref>-&gt;isVdmPending<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1456"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1457"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a752511e4e69be13d3d08a7e606090361" kindref="member">isMuxBusy</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1458"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1459"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>GATKEX_CREEK<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1460"><highlight class="normal"></highlight></codeline>
<codeline lineno="1461"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_UfpRun(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*Context)</highlight></codeline>
<codeline lineno="1462"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1463"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>dpConfig;</highlight></codeline>
<codeline lineno="1464"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext<sp/>=<sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*)Context;</highlight></codeline>
<codeline lineno="1465"><highlight class="normal"></highlight></codeline>
<codeline lineno="1466"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>Alt<sp/>Modes<sp/>state<sp/>and<sp/>VDM<sp/>command<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1467"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gae2e313c6b3f82ed911cb6abd429b65a0" kindref="member">cy_en_pdaltmode_state_t</ref><sp/>dpModeState<sp/>=<sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1af6f4124dc3a22407c6a62da3c449c57a" kindref="member">modeState</ref>;</highlight></codeline>
<codeline lineno="1468"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref><sp/>=<sp/>(<ref refid="group__group__pdaltmode__display__port__enums_1gad6f1f79915cc9c1b675a6e9e6e4879a5" kindref="member">cy_en_pdaltmode_dp_state_t</ref>)Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a04a950f17ed35dfcd29fc6f58137a6e4" kindref="member">vdmHeader</ref>.std_vdm_hdr.cmd;</highlight></codeline>
<codeline lineno="1469"><highlight class="normal"></highlight></codeline>
<codeline lineno="1470"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="1471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;vdmHeader.std_vdm_hdr.<ref refid="structcy__stc__pdaltmode__mngr__info__t_1ac50d670fdd0fc41b1ae721fb4bd2c4c9" kindref="member">objPos</ref><sp/>!=<sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;objPos)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(dpModeState<sp/>==<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0af065a70e2b10edcf899dacf20fe5b384" kindref="member">CY_PDALTMODE_STATE_IDLE</ref>)</highlight></codeline>
<codeline lineno="1473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1474"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Deny<sp/>command<sp/>processing<sp/>if<sp/>object<sp/>position<sp/>does<sp/>not<sp/>match<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1af6f4124dc3a22407c6a62da3c449c57a" kindref="member">modeState</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0ad3dbf861525bec4d91091c652cab26e0" kindref="member">CY_PDALTMODE_STATE_FAIL</ref>;</highlight></codeline>
<codeline lineno="1477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1478"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1479"><highlight class="normal"></highlight></codeline>
<codeline lineno="1480"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>idle<sp/>as<sp/>default<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1481"><highlight class="normal"><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1af6f4124dc3a22407c6a62da3c449c57a" kindref="member">modeState</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0af065a70e2b10edcf899dacf20fe5b384" kindref="member">CY_PDALTMODE_STATE_IDLE</ref>;</highlight></codeline>
<codeline lineno="1482"><highlight class="normal"></highlight></codeline>
<codeline lineno="1483"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>exit<sp/>all<sp/>modes<sp/>cmd<sp/>received<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1484"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;vdmHeader.std_vdm_hdr.cmd<sp/>==<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__macros_1ga327abc7734f01d684e4a1a8f732a5bfe" kindref="member">CY_PDALTMODE_MNGR_EXIT_ALL_MODES</ref>)</highlight></codeline>
<codeline lineno="1485"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a2ffaaf71bb924322fa01762aa199f818" kindref="member">CY_PDALTMODE_DP_STATE_EXIT</ref>;</highlight></codeline>
<codeline lineno="1487"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1488"><highlight class="normal"><sp/><sp/><sp/><sp/>CY_MISRA_DEVIATE_BLOCK_START(</highlight><highlight class="stringliteral">&apos;MISRA<sp/>C-2012<sp/>Rule<sp/>16.1&apos;</highlight><highlight class="normal">,<sp/>1,<sp/></highlight><highlight class="stringliteral">&apos;Intentional<sp/>return<sp/>instead<sp/>of<sp/>breaking<sp/>the<sp/>switch<sp/>clause&apos;</highlight><highlight class="normal">);<sp/></highlight></codeline>
<codeline lineno="1489"><highlight class="normal"><sp/><sp/><sp/><sp/>CY_MISRA_DEVIATE_BLOCK_START(</highlight><highlight class="stringliteral">&apos;MISRA<sp/>C-2012<sp/>Rule<sp/>16.3&apos;</highlight><highlight class="normal">,<sp/>1,<sp/></highlight><highlight class="stringliteral">&apos;Intentional<sp/>return<sp/>instead<sp/>of<sp/>breaking<sp/>the<sp/>switch<sp/>clause&apos;</highlight><highlight class="normal">);<sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1490"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(dpModeState)</highlight></codeline>
<codeline lineno="1491"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0af065a70e2b10edcf899dacf20fe5b384" kindref="member">CY_PDALTMODE_STATE_IDLE</ref>:</highlight></codeline>
<codeline lineno="1493"><highlight class="normal"></highlight></codeline>
<codeline lineno="1494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref>)</highlight></codeline>
<codeline lineno="1495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5aafbba10e7d19d4fe6c5e8172ebbbf2d0" kindref="member">CY_PDALTMODE_DP_STATE_ENTER</ref>:</highlight></codeline>
<codeline lineno="1497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Initialize<sp/>HPD<sp/>if<sp/>we<sp/>are<sp/>not<sp/>using<sp/>HPD<sp/>via<sp/>I2C<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1498"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!VIRTUAL_HPD_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Enable<sp/>HPD<sp/>receiver<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_InitHpd<sp/>(ptrAltModeContext,<sp/>(uint8_t)CY_PD_PRT_TYPE_UFP);</highlight></codeline>
<codeline lineno="1501"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>!VIRTUAL_HPD_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1502"><highlight class="normal"></highlight></codeline>
<codeline lineno="1503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Fill<sp/>Status<sp/>Update<sp/>with<sp/>appropriate<sp/>bits<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab5660d36862cb4d10c773d139e193cf5" kindref="member">statusVdo</ref>.val<sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__macros_1ga841562ab8c8a6a994edc871dd36eb1c9" kindref="member">CY_PDALTMODE_MNGR_EMPTY_VDO</ref>;</highlight></codeline>
<codeline lineno="1505"><highlight class="normal"></highlight></codeline>
<codeline lineno="1506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Update<sp/>UFP<sp/>Enabled<sp/>status<sp/>field<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_UfpSetStatusField(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aa2b689699f9971068eb99789f82c26f9b" kindref="member">CY_PDALTMODE_DP_STAT_EN</ref>);</highlight></codeline>
<codeline lineno="1508"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!DP_UFP_DONGLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Update<sp/>UFP<sp/>connection<sp/>status<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_UfpSetStatusField(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aa2cabe28cf662de64ce2253d6814b4d30" kindref="member">CY_PDALTMODE_DP_STAT_UFP_CONN</ref>);</highlight></codeline>
<codeline lineno="1511"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_UFP_MONITOR<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1512"><highlight class="normal"></highlight></codeline>
<codeline lineno="1513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>Multi-function<sp/>allowed<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a8bc5ea4917a92366aae12a691b43e5a1" kindref="member">ccgDpPinsSupp</ref><sp/>&amp;<sp/>(<ref refid="group__group__pdaltmode__display__port__macros_1ga0031e33f27d8edfa24b93511763e66a6" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_D</ref><sp/>|<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gae94d317fd458337a229c134a46e2624c" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_F</ref>))<sp/>!=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>)</highlight></codeline>
<codeline lineno="1515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_UfpSetStatusField(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aaf64c8c4a7b6838119c7e89b16ee2ebe9" kindref="member">CY_PDALTMODE_DP_STAT_MF</ref>);</highlight></codeline>
<codeline lineno="1517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>No<sp/>VDO<sp/>is<sp/>needed<sp/>in<sp/>response<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_AssignVdo(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__macros_1ga43f668351b413a09e9a45ba9481a591f" kindref="member">CY_PDALTMODE_MNGR_NONE_VDO</ref>);</highlight></codeline>
<codeline lineno="1521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1522"><highlight class="normal"></highlight></codeline>
<codeline lineno="1523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>QAC<sp/>suppression<sp/>2023:<sp/>Intentional<sp/>return<sp/>from<sp/>function</highlight></codeline>
<codeline lineno="1524"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>instead<sp/>of<sp/>breaking<sp/>the<sp/>switch<sp/>case<sp/>clause.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a9b9ed9ac91c547b5d5c9a2b120a22a5a" kindref="member">CY_PDALTMODE_DP_STATE_STATUS_UPDATE</ref>:<sp/></highlight><highlight class="comment">/*<sp/>PRQA<sp/>S<sp/>2023<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1526"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>VIRTUAL_HPD_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/></highlight></codeline>
<codeline lineno="1528"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>Report<sp/>HPD<sp/>low<sp/>in<sp/>case<sp/>of<sp/>DP<sp/>not<sp/>enabled.<sp/>This<sp/>is<sp/>because,<sp/>HPD<sp/>block<sp/>itself<sp/>may<sp/>not</highlight></codeline>
<codeline lineno="1529"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>be<sp/>enabled<sp/>at<sp/>this<sp/>stage.</highlight></codeline>
<codeline lineno="1530"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab70cdcd350d8bad35c635061f405fe66" kindref="member">dpActiveFlag</ref>)</highlight></codeline>
<codeline lineno="1532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Not<sp/>update<sp/>hpd<sp/>state<sp/>as<sp/>hpd<sp/>not<sp/>started<sp/>yet<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_UfpClearStatusField(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aa2d7b4904ed3cb3b95c50e51527861ee2" kindref="member">CY_PDALTMODE_DP_STAT_HPD</ref>);</highlight></codeline>
<codeline lineno="1535"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1536"><highlight class="normal"></highlight><highlight class="preprocessor">#else<sp/></highlight><highlight class="comment">/*<sp/>!VIRTUAL_HPD_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Update<sp/>current<sp/>HPD<sp/>status<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)Cy_PdAltMode_DP_UfpUpdateStatusField(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aa2d7b4904ed3cb3b95c50e51527861ee2" kindref="member">CY_PDALTMODE_DP_STAT_HPD</ref>,</highlight></codeline>
<codeline lineno="1539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga239f8abedb3eb591e01a5ba59251ccc1" kindref="member">Cy_PdAltMode_HW_DpSnkGetHpdState</ref>(ptrAltModeContext));</highlight></codeline>
<codeline lineno="1540"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>VIRTUAL_HPD_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1541"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_UFP_DONGLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1542"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_GPIO_CONFIG_SELECT</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="1544"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>Update<sp/>UFP<sp/>Connected<sp/>status<sp/>based<sp/>on<sp/>DP<sp/>Pin<sp/>configuration.<sp/>For<sp/>NON-DP</highlight></codeline>
<codeline lineno="1545"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>configuration,<sp/>always<sp/>report<sp/>connected.</highlight></codeline>
<codeline lineno="1546"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Cy_PdAltMode_DP_SinkGetPinConfig<sp/>()<sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga4b7009e3a0080d69cf4eebd8fc4d0260" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_C</ref>)</highlight></codeline>
<codeline lineno="1548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_UfpSetStatusField(port,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aa2cabe28cf662de64ce2253d6814b4d30" kindref="member">CY_PDALTMODE_DP_STAT_UFP_CONN</ref>);</highlight></codeline>
<codeline lineno="1550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_UfpUpdateStatusField(port,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aa2cabe28cf662de64ce2253d6814b4d30" kindref="member">CY_PDALTMODE_DP_STAT_UFP_CONN</ref>,<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga239f8abedb3eb591e01a5ba59251ccc1" kindref="member">Cy_PdAltMode_HW_DpSnkGetHpdState</ref>(port));</highlight></codeline>
<codeline lineno="1554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1555"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="1557"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>Update<sp/>UFP<sp/>Connected<sp/>status<sp/>based<sp/>on<sp/>DP<sp/>Pin<sp/>configuration.<sp/>For<sp/>NON-DP</highlight></codeline>
<codeline lineno="1558"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>configuration,<sp/>always<sp/>report<sp/>connected.</highlight></codeline>
<codeline lineno="1559"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a8bc5ea4917a92366aae12a691b43e5a1" kindref="member">ccgDpPinsSupp</ref><sp/>&amp;<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga4b7009e3a0080d69cf4eebd8fc4d0260" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_C</ref>)<sp/>!=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>)<sp/>||</highlight></codeline>
<codeline lineno="1561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a8bc5ea4917a92366aae12a691b43e5a1" kindref="member">ccgDpPinsSupp</ref><sp/>&amp;<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga0031e33f27d8edfa24b93511763e66a6" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_D</ref>)<sp/>!=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>))</highlight></codeline>
<codeline lineno="1562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Always<sp/>report<sp/>UFP<sp/>connected<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_UfpSetStatusField<sp/>(port,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aa2cabe28cf662de64ce2253d6814b4d30" kindref="member">CY_PDALTMODE_DP_STAT_UFP_CONN</ref>);</highlight></codeline>
<codeline lineno="1565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_UfpUpdateStatusField<sp/>(port,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aa2cabe28cf662de64ce2253d6814b4d30" kindref="member">CY_PDALTMODE_DP_STAT_UFP_CONN</ref>,</highlight></codeline>
<codeline lineno="1569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga239f8abedb3eb591e01a5ba59251ccc1" kindref="member">Cy_PdAltMode_HW_DpSnkGetHpdState</ref>(port));</highlight></codeline>
<codeline lineno="1570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1571"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_GPIO_CONFIG_SELECT<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1572"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_UFP_DONGLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1573"><highlight class="normal"></highlight></codeline>
<codeline lineno="1574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>IRQ<sp/>bit<sp/>should<sp/>be<sp/>set<sp/>to<sp/>zero<sp/>in<sp/>status<sp/>update<sp/>response<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)Cy_PdAltMode_DP_UfpClearStatusField<sp/>(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aab8dc9b479835991d233f985547ccf721" kindref="member">CY_PDALTMODE_DP_STAT_IRQ</ref>);</highlight></codeline>
<codeline lineno="1576"><highlight class="normal"></highlight></codeline>
<codeline lineno="1577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Respond<sp/>with<sp/>current<sp/>DP<sp/>sink<sp/>status<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_AssignVdo(ptrAltModeContext,<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab5660d36862cb4d10c773d139e193cf5" kindref="member">statusVdo</ref>.val);</highlight></codeline>
<codeline lineno="1579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1580"><highlight class="normal"></highlight></codeline>
<codeline lineno="1581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>QAC<sp/>suppression<sp/>2023:<sp/>Intentional<sp/>return<sp/>from<sp/>function</highlight></codeline>
<codeline lineno="1582"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>instead<sp/>of<sp/>breaking<sp/>the<sp/>switch<sp/>case<sp/>clause.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1583"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a70e7050d18b3b5a7492c35e2868d1257" kindref="member">CY_PDALTMODE_DP_STATE_CONFIG</ref>:<sp/></highlight><highlight class="comment">/*<sp/>PRQA<sp/>S<sp/>2023<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>Config<sp/>VDO<sp/>is<sp/>correct<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1585"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="1586"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>QAC<sp/>suppression<sp/>3415:<sp/>These<sp/>are<sp/>read<sp/>only<sp/>checks<sp/>and<sp/>hence<sp/>not<sp/>side<sp/>effects<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>IF<sp/>DP<sp/>configuration<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((Cy_PdAltMode_DP_GetVdo(ptrAltModeContext)-&gt;dp_cfg_vdo.selConf<sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga6e620ab4581f02bf90732a6c0a9843a8" kindref="member">CY_PDALTMODE_DP_CONFIG_SELECT</ref>)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(Cy_PdAltMode_DP_GetVdo(ptrAltModeContext)-&gt;dp_cfg_vdo.sign<sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga83da94c4990b824f377082f82916ba2a" kindref="member">CY_PDALTMODE_DP_1_3_SIGNALING</ref>))<sp/>||<sp/></highlight><highlight class="comment">/*<sp/>PRQA<sp/>S<sp/>3415<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1590"><highlight class="normal"></highlight></codeline>
<codeline lineno="1591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>USB<sp/>configuration<sp/>requested<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(Cy_PdAltMode_DP_GetVdo(ptrAltModeContext)-&gt;dp_cfg_vdo.selConf<sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga682ca781b65daf912262ba4adbbcd359" kindref="member">CY_PDALTMODE_DP_USB_CONFIG_SELECT</ref>)<sp/></highlight><highlight class="comment">/*<sp/>PRQA<sp/>S<sp/>3415<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Save<sp/>port<sp/>partner<sp/>pin<sp/>config<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ac0f36eb33b6499e072bc78bfe2bbd954" kindref="member">partnerDpPinsSupp</ref><sp/>=<sp/>(uint8_t)Cy_PdAltMode_DP_GetVdo(ptrAltModeContext)-&gt;dp_cfg_vdo.dfpAsgmnt;</highlight></codeline>
<codeline lineno="1597"><highlight class="normal"></highlight></codeline>
<codeline lineno="1598"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_GPIO_CONFIG_SELECT</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Pin<sp/>configuration<sp/>supported<sp/>is<sp/>based<sp/>on<sp/>GPIO<sp/>status<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpConfig<sp/>=<sp/>Cy_PdAltMode_DP_SinkGetPinConfig<sp/>();</highlight></codeline>
<codeline lineno="1601"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>DP<sp/>Pin<sp/>configuration<sp/>supported<sp/>from<sp/>config<sp/>table<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpConfig<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a51a744b85e46a2852636ef9bc375be2b" kindref="member">dpCfg</ref>-&gt;dp_config_supported;</highlight></codeline>
<codeline lineno="1604"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_GPIO_CONFIG_SELECT<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1605"><highlight class="normal"></highlight></codeline>
<codeline lineno="1606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>both<sp/>UFP<sp/>and<sp/>DFP<sp/>support<sp/>selected<sp/>pin<sp/>configuration<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>QAC<sp/>suppression<sp/>3415:<sp/>These<sp/>are<sp/>read<sp/>only<sp/>checks<sp/>and<sp/>hence<sp/>not<sp/>side<sp/>effects<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="1609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((Cy_PdAltMode_DP_IsConfigCorrect(ptrAltModeContext))<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((dpConfig<sp/>&amp;<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ac0f36eb33b6499e072bc78bfe2bbd954" kindref="member">partnerDpPinsSupp</ref>)<sp/>!=<sp/>0u))<sp/>||</highlight></codeline>
<codeline lineno="1611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(Cy_PdAltMode_DP_GetVdo(ptrAltModeContext)-&gt;dp_cfg_vdo.selConf<sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga682ca781b65daf912262ba4adbbcd359" kindref="member">CY_PDALTMODE_DP_USB_CONFIG_SELECT</ref>)<sp/></highlight><highlight class="comment">/*<sp/>PRQA<sp/>S<sp/>3415<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Save<sp/>config<sp/>VDO<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref><sp/>=<sp/>*(Cy_PdAltMode_DP_GetVdo(ptrAltModeContext));</highlight></codeline>
<codeline lineno="1616"><highlight class="normal"></highlight></codeline>
<codeline lineno="1617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>DP<sp/>MUX<sp/>configuration<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a83fae71cd0b9536cc96149e26ac43584" kindref="member">dpMuxCfg</ref><sp/>=<sp/>Cy_PdAltMode_DP_EvalConfig(ptrAltModeContext);</highlight></codeline>
<codeline lineno="1619"><highlight class="normal"></highlight></codeline>
<codeline lineno="1620"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>GATKEX_CREEK</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="1622"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>To<sp/>set<sp/>the<sp/>ridge<sp/>to<sp/>disconnect<sp/>between<sp/>USB<sp/>and<sp/>DP<sp/>states<sp/>when<sp/>device<sp/>is<sp/>UFP.</highlight></codeline>
<codeline lineno="1623"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>For<sp/>DP<sp/>Alt<sp/>Mode,<sp/>GR<sp/>is<sp/>updated<sp/>in<sp/>DP_CONFIG<sp/>command<sp/>instead<sp/>of<sp/>ENTER_MODE<sp/>command.</highlight></codeline>
<codeline lineno="1624"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>Before<sp/>entering<sp/>DP<sp/>mode,<sp/>GR<sp/>disconnect<sp/>is<sp/>done<sp/>and<sp/>a<sp/>10<sp/>ms<sp/>delay<sp/>is<sp/>added<sp/>using<sp/>a<sp/>timer.</highlight></codeline>
<codeline lineno="1625"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;port<sp/>==<sp/>TYPEC_PORT_0_IDX)</highlight></codeline>
<codeline lineno="1627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__intel__functions_1gac392648cb03dc92742d844550fdc2013" kindref="member">Cy_PdAltMode_Ridge_SetDisconnect</ref>(ptrAltModeContext);</highlight></codeline>
<codeline lineno="1629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a752511e4e69be13d3d08a7e606090361" kindref="member">isMuxBusy</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;ptrTimerContext,<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>,</highlight></codeline>
<codeline lineno="1631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDALTMODE_GET_TIMER_ID(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>,<sp/>(uint16_t)<ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881a3217b9fd0535e8f695223030b6f5ef9f" kindref="member">CY_PDALTMODE_GR_MUX_DELAY_TIMER</ref>),</highlight></codeline>
<codeline lineno="1632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__intel__macros_1gaa5e19bc7b7e6c1f795c54bf6b0bb93a1" kindref="member">CY_PDALTMODE_RIDGE_GR_MUX_VDM_DELAY_TIMER_PERIOD</ref>,<sp/>Cy_PdAltMode_DP_RidgeMuxDelayCbk);</highlight></codeline>
<codeline lineno="1633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1634"><highlight class="normal"></highlight></codeline>
<codeline lineno="1635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a752511e4e69be13d3d08a7e606090361" kindref="member">isMuxBusy</ref>)</highlight></codeline>
<codeline lineno="1636"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>GATKEX_CREEK<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>DP<sp/>MUX<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)<ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga9c8a69158389bc9aa1b7825bed6bf693" kindref="member">Cy_PdAltMode_HW_SetMux</ref>(ptrAltModeContext,<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a83fae71cd0b9536cc96149e26ac43584" kindref="member">dpMuxCfg</ref>,</highlight></codeline>
<codeline lineno="1640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.val,<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab5660d36862cb4d10c773d139e193cf5" kindref="member">statusVdo</ref>.val);</highlight></codeline>
<codeline lineno="1641"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_AssignVdo(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__macros_1ga43f668351b413a09e9a45ba9481a591f" kindref="member">CY_PDALTMODE_MNGR_NONE_VDO</ref>);</highlight></codeline>
<codeline lineno="1642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1af6f4124dc3a22407c6a62da3c449c57a" kindref="member">modeState</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0af065a70e2b10edcf899dacf20fe5b384" kindref="member">CY_PDALTMODE_STATE_IDLE</ref>;</highlight></codeline>
<codeline lineno="1643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1644"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>CY_PD_DP_VCONN_SWAP_FEATURE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Stop<sp/>timer<sp/>to<sp/>avoid<sp/>hard<sp/>reset<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Stop)(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;ptrTimerContext,</highlight></codeline>
<codeline lineno="1647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDSTACK_GET_PD_TIMER_ID(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>,<sp/>CY_PDSTACK_PD_VCONN_RECOVERY_TIMER));</highlight></codeline>
<codeline lineno="1648"><highlight class="normal"></highlight></codeline>
<codeline lineno="1649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>USB<sp/>config<sp/>received<sp/>as<sp/>part<sp/>of<sp/>Vconn<sp/>Swap<sp/>flow<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((Cy_PdAltMode_DP_GetVdo(ptrAltModeContext)-&gt;dp_cfg_vdo.selConf<sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga682ca781b65daf912262ba4adbbcd359" kindref="member">CY_PDALTMODE_DP_USB_CONFIG_SELECT</ref>))<sp/>&amp;&amp;<sp/>((ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1abbc8fcb04aa279bbab4589da94187904" kindref="member">vconnSwapReq</ref><sp/>!=<sp/>0x0U)))</highlight></codeline>
<codeline lineno="1651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Start<sp/>timer<sp/>to<sp/>run<sp/>Vconn<sp/>Swap<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)<sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;ptrTimerContext,<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>,</highlight></codeline>
<codeline lineno="1654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDSTACK_GET_PD_TIMER_ID(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>,<sp/>CY_PDSTACK_PD_VCONN_RECOVERY_TIMER),</highlight></codeline>
<codeline lineno="1655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a33d69fea0c550c5b43833b24040699f2" kindref="member">vdmStat</ref>-&gt;<ref refid="structcy__stc__pdaltmode__vdm__task__status__t_1a6ab9d4ea625b7c20255fedd3ba37317b" kindref="member">vdmBusyDelay</ref>,<sp/>Cy_PdAltMode_DP_VconnSwapInitCbk);</highlight></codeline>
<codeline lineno="1656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1658"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>CY_PD_DP_VCONN_SWAP_FEATURE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1659"><highlight class="normal"></highlight></codeline>
<codeline lineno="1660"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>VIRTUAL_HPD_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Init<sp/>HPD<sp/>-<sp/>Do<sp/>deferred<sp/>HPD<sp/>initialization<sp/>when<sp/>using<sp/>ridge<sp/>MUX<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_InitHpd(ptrAltModeContext,<sp/>(uint8_t)CY_PD_PRT_TYPE_UFP);</highlight></codeline>
<codeline lineno="1663"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>VIRTUAL_HPD_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1664"><highlight class="normal"></highlight></codeline>
<codeline lineno="1665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>HPD<sp/>is<sp/>HIGH<sp/>then<sp/>send<sp/>Attention<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/><sp/>(</highlight></codeline>
<codeline lineno="1667"><highlight class="normal">#</highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!ICL_ENABLE)</highlight></codeline>
<codeline lineno="1668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight></codeline>
<codeline lineno="1669"><highlight class="normal">#</highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>VIRTUAL_HPD_ENABLE</highlight></codeline>
<codeline lineno="1670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga1080d126d69cd3efe31e17ce2e7945a9" kindref="member">Cy_PdAltMode_HW_IsHostHpdVirtual</ref>(ptrAltModeContext))<sp/>||</highlight></codeline>
<codeline lineno="1671"><highlight class="normal">#endif<sp/></highlight><highlight class="comment">/*<sp/>VIRTUAL_HPD_ENABLE<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga239f8abedb3eb591e01a5ba59251ccc1" kindref="member">Cy_PdAltMode_HW_DpSnkGetHpdState</ref>(ptrAltModeContext)</highlight></codeline>
<codeline lineno="1673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1674"><highlight class="normal">#endif<sp/></highlight><highlight class="comment">/*<sp/>(!ICL_ENABLE)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab0b3c545058d97b615017738ac38a835" kindref="member">queueReadIndex</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>)</highlight></codeline>
<codeline lineno="1676"><highlight class="normal">#</highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>VIRTUAL_HPD_DOCK</highlight></codeline>
<codeline lineno="1677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;<sp/><ref refid="group__group__pdaltmode__intel__functions_1ga49e0eb76dc29592efe083aabfad53196" kindref="member">Cy_PdAltMode_Ridge_GetHpdState</ref>(ptrAltModeContext)</highlight></codeline>
<codeline lineno="1678"><highlight class="normal">#endif</highlight></codeline>
<codeline lineno="1679"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>HPD<sp/>already<sp/>HIGH<sp/>then<sp/>add<sp/>it<sp/>to<sp/>queue<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_AddHpdEvt(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>,<sp/>CY_USBPD_HPD_EVENT_PLUG);</highlight></codeline>
<codeline lineno="1683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1af6f4124dc3a22407c6a62da3c449c57a" kindref="member">modeState</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0a2abd94c16182cd2087085a69f5228efb" kindref="member">CY_PDALTMODE_STATE_RUN</ref>;</highlight></codeline>
<codeline lineno="1684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1689"><highlight class="normal"></highlight></codeline>
<codeline lineno="1690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a2ffaaf71bb924322fa01762aa199f818" kindref="member">CY_PDALTMODE_DP_STATE_EXIT</ref>:</highlight></codeline>
<codeline lineno="1691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Deinit<sp/>Alt<sp/>Mode<sp/>and<sp/>reset<sp/>gl_dp<sp/>variables<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Exit(ptrAltModeContext);</highlight></codeline>
<codeline lineno="1693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_AssignVdo(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__macros_1ga43f668351b413a09e9a45ba9481a591f" kindref="member">CY_PDALTMODE_MNGR_NONE_VDO</ref>);</highlight></codeline>
<codeline lineno="1694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1695"><highlight class="normal"></highlight></codeline>
<codeline lineno="1696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>QAC<sp/>suppression<sp/>2023:<sp/>Intentional<sp/>return<sp/>from<sp/>function</highlight></codeline>
<codeline lineno="1697"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>instead<sp/>of<sp/>breaking<sp/>the<sp/>switch<sp/>case<sp/>clause.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:<sp/></highlight><highlight class="comment">/*<sp/>PRQA<sp/>S<sp/>2023<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1702"><highlight class="normal"></highlight></codeline>
<codeline lineno="1703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0a7292b9248bc2ed1975ece0a00d49daf0" kindref="member">CY_PDALTMODE_STATE_WAIT_FOR_RESP</ref>:</highlight></codeline>
<codeline lineno="1704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Analyse<sp/>Attention<sp/>callback<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5abc8fd13d31b799dbcf6c8d731850ed2d" kindref="member">CY_PDALTMODE_DP_STATE_ATT</ref>)</highlight></codeline>
<codeline lineno="1706"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Clear<sp/>Request<sp/>and<sp/>IRQ<sp/>status<sp/>bits<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_UfpClearStatusField(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aa52c89458b34549cd5e6ef08f0d70f3b8" kindref="member">CY_PDALTMODE_DP_STAT_USB_CNFG</ref>);</highlight></codeline>
<codeline lineno="1709"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_UfpClearStatusField(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aa39fbc7d6758d3db6aab48b8cbe33238b" kindref="member">CY_PDALTMODE_DP_STAT_EXIT</ref>);</highlight></codeline>
<codeline lineno="1710"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_UfpClearStatusField(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aab8dc9b479835991d233f985547ccf721" kindref="member">CY_PDALTMODE_DP_STAT_IRQ</ref>);</highlight></codeline>
<codeline lineno="1711"><highlight class="normal"></highlight></codeline>
<codeline lineno="1712"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>VIRTUAL_HPD_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1713"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="1714"><highlight class="normal">#</highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!ICL_ENABLE)</highlight></codeline>
<codeline lineno="1715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(!<ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga1080d126d69cd3efe31e17ce2e7945a9" kindref="member">Cy_PdAltMode_HW_IsHostHpdVirtual</ref>(ptrAltModeContext))<sp/>||</highlight></codeline>
<codeline lineno="1716"><highlight class="normal">#endif<sp/></highlight><highlight class="comment">/*<sp/>(!ICL_ENABLE)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(Cy_PdAltMode_DP_GetVdo(ptrAltModeContext)-&gt;dp_stat_vdo.hpdIrq<sp/>==<sp/>1u)</highlight></codeline>
<codeline lineno="1718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1719"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>VIRTUAL_HPD_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)<ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga15b7aab673225200d6a7971187be489d" kindref="member">Cy_PdAltMode_HW_EvalHpdCmd</ref><sp/>(ptrAltModeContext,<sp/>(uint32_t)CY_USBPD_HPD_COMMAND_DONE);</highlight></codeline>
<codeline lineno="1722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1723"><highlight class="normal"></highlight></codeline>
<codeline lineno="1724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>any<sp/>HPD<sp/>event<sp/>in<sp/>queue<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_UfpDequeueHpd(ptrAltModeContext);</highlight></codeline>
<codeline lineno="1726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1729"><highlight class="normal"></highlight></codeline>
<codeline lineno="1730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>QAC<sp/>suppression<sp/>2023:<sp/>Intentional<sp/>return<sp/>from<sp/>function</highlight></codeline>
<codeline lineno="1731"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>instead<sp/>of<sp/>breaking<sp/>the<sp/>switch<sp/>case<sp/>clause.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0a2abd94c16182cd2087085a69f5228efb" kindref="member">CY_PDALTMODE_STATE_RUN</ref>:<sp/></highlight><highlight class="comment">/*<sp/>PRQA<sp/>S<sp/>2023<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1733"><highlight class="normal"></highlight></codeline>
<codeline lineno="1734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>Attention<sp/>if<sp/>HPD<sp/>is<sp/>High<sp/>while<sp/>DP<sp/>initialization<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a1aebef049c84db2351b40ae3d55e90bd" kindref="member">hpdState</ref><sp/>!=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>)</highlight></codeline>
<codeline lineno="1736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_UfpDequeueHpd(ptrAltModeContext);</highlight></codeline>
<codeline lineno="1738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1740"><highlight class="normal"></highlight></codeline>
<codeline lineno="1741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>QAC<sp/>suppression<sp/>2023:<sp/>Intentional<sp/>return<sp/>from<sp/>function</highlight></codeline>
<codeline lineno="1742"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>instead<sp/>of<sp/>breaking<sp/>the<sp/>switch<sp/>case<sp/>clause.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:<sp/></highlight><highlight class="comment">/*<sp/>PRQA<sp/>S<sp/>2023<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1745"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1746"><highlight class="normal"><sp/><sp/><sp/><sp/>CY_MISRA_BLOCK_END(</highlight><highlight class="stringliteral">&apos;MISRA<sp/>C-2012<sp/>Rule<sp/>16.3&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1747"><highlight class="normal"><sp/><sp/><sp/><sp/>CY_MISRA_BLOCK_END(</highlight><highlight class="stringliteral">&apos;MISRA<sp/>C-2012<sp/>Rule<sp/>16.1&apos;</highlight><highlight class="normal">);<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1748"><highlight class="normal"></highlight></codeline>
<codeline lineno="1749"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>NACK<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1750"><highlight class="normal"><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1af6f4124dc3a22407c6a62da3c449c57a" kindref="member">modeState</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0ad3dbf861525bec4d91091c652cab26e0" kindref="member">CY_PDALTMODE_STATE_FAIL</ref>;</highlight></codeline>
<codeline lineno="1751"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1752"><highlight class="normal"></highlight></codeline>
<codeline lineno="1753"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_IsConfigCorrect(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext)</highlight></codeline>
<codeline lineno="1754"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1755"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>retval;</highlight></codeline>
<codeline lineno="1756"><highlight class="normal"></highlight></codeline>
<codeline lineno="1757"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>input<sp/>configuration<sp/>is<sp/>valid<sp/>then<sp/>return<sp/>true<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1758"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ac0f36eb33b6499e072bc78bfe2bbd954" kindref="member">partnerDpPinsSupp</ref>)</highlight></codeline>
<codeline lineno="1759"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga4b7009e3a0080d69cf4eebd8fc4d0260" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_C</ref>:</highlight></codeline>
<codeline lineno="1761"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga0031e33f27d8edfa24b93511763e66a6" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_D</ref>:</highlight></codeline>
<codeline lineno="1762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga31e7c3821f9c13cf548ed3cc575bc4e6" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_E</ref>:</highlight></codeline>
<codeline lineno="1763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__display__port__macros_1gae94d317fd458337a229c134a46e2624c" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_F</ref>:</highlight></codeline>
<codeline lineno="1764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>retval<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>retval<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1769"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1770"><highlight class="normal"></highlight></codeline>
<codeline lineno="1771"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>retval;</highlight></codeline>
<codeline lineno="1772"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1773"><highlight class="normal"></highlight></codeline>
<codeline lineno="1774"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_UfpSetStatusField(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1gac0329806db727d768fdc25a545a2170a" kindref="member">cy_en_pdaltmode_dp_stat_bm_t</ref><sp/>bitPos)</highlight></codeline>
<codeline lineno="1775"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1776"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__macros_1ga937798655f914d851f29b6c6b43b79b2" kindref="member">CY_PDALTMODE_MNGR_SET_FLAG</ref>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab5660d36862cb4d10c773d139e193cf5" kindref="member">statusVdo</ref>.val,<sp/>(uint8_t)bitPos);</highlight></codeline>
<codeline lineno="1777"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1778"><highlight class="normal"></highlight></codeline>
<codeline lineno="1779"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_UfpClearStatusField(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1gac0329806db727d768fdc25a545a2170a" kindref="member">cy_en_pdaltmode_dp_stat_bm_t</ref><sp/>bitPos)</highlight></codeline>
<codeline lineno="1780"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1781"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__macros_1gaa0bc4f0b8a46e72932f19269accf18c9" kindref="member">CY_PDALTMODE_MNGR_REMOVE_FLAG</ref>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab5660d36862cb4d10c773d139e193cf5" kindref="member">statusVdo</ref>.val,<sp/>(uint8_t)bitPos);</highlight></codeline>
<codeline lineno="1782"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1783"><highlight class="normal"></highlight></codeline>
<codeline lineno="1784"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_UfpUpdateStatusField(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1gac0329806db727d768fdc25a545a2170a" kindref="member">cy_en_pdaltmode_dp_stat_bm_t</ref><sp/>bitPos,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>status)</highlight></codeline>
<codeline lineno="1785"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1786"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/><sp/><sp/><sp/>prevStatus;</highlight></codeline>
<codeline lineno="1787"><highlight class="normal"></highlight></codeline>
<codeline lineno="1788"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Save<sp/>current<sp/>DP<sp/>sink<sp/>status<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1789"><highlight class="normal"><sp/><sp/><sp/><sp/>prevStatus<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab5660d36862cb4d10c773d139e193cf5" kindref="member">statusVdo</ref>.val;</highlight></codeline>
<codeline lineno="1790"><highlight class="normal"></highlight></codeline>
<codeline lineno="1791"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Update<sp/>status<sp/>field*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1792"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status)</highlight></codeline>
<codeline lineno="1793"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1794"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__macros_1ga937798655f914d851f29b6c6b43b79b2" kindref="member">CY_PDALTMODE_MNGR_SET_FLAG</ref>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab5660d36862cb4d10c773d139e193cf5" kindref="member">statusVdo</ref>.val,<sp/>(uint8_t)bitPos);</highlight></codeline>
<codeline lineno="1795"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1796"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1797"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1798"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__macros_1gaa0bc4f0b8a46e72932f19269accf18c9" kindref="member">CY_PDALTMODE_MNGR_REMOVE_FLAG</ref>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab5660d36862cb4d10c773d139e193cf5" kindref="member">statusVdo</ref>.val,<sp/>(uint8_t)bitPos);</highlight></codeline>
<codeline lineno="1799"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1800"><highlight class="normal"></highlight></codeline>
<codeline lineno="1801"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>status<sp/>changed<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1802"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(prevStatus<sp/>!=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab5660d36862cb4d10c773d139e193cf5" kindref="member">statusVdo</ref>.val);</highlight></codeline>
<codeline lineno="1803"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1804"><highlight class="normal"></highlight></codeline>
<codeline lineno="1805"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_SnkHpdRespCbk(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*context,<sp/>uint32_t<sp/>cmd)</highlight></codeline>
<codeline lineno="1806"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1807"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext<sp/>=<sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*)context;</highlight></codeline>
<codeline lineno="1808"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_en_usbpd_hpd_events_t<sp/></highlight><highlight class="keyword">event</highlight><highlight class="normal"><sp/>=<sp/>(cy_en_usbpd_hpd_events_t)cmd;</highlight></codeline>
<codeline lineno="1809"><highlight class="normal"></highlight></codeline>
<codeline lineno="1810"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Handle<sp/>hpd<sp/>only<sp/>when<sp/>DP<sp/>sink<sp/>was<sp/>entered<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1811"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="1812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>QAC<sp/>suppression<sp/>3415:<sp/>These<sp/>are<sp/>read<sp/>only<sp/>checks<sp/>and<sp/>hence<sp/>not<sp/>side<sp/>effects<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(event<sp/>&gt;<sp/>CY_USBPD_HPD_EVENT_NONE)<sp/><sp/><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keyword">event</highlight><highlight class="normal"><sp/>&lt;<sp/>CY_USBPD_HPD_COMMAND_DONE)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1815"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a5734417b314c8d3c156613bf45fb15c3" kindref="member">isActive</ref><sp/>!=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1816"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1817"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1818"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>HPD<sp/>received<sp/>after<sp/>Status<sp/>update<sp/>command<sp/>was<sp/>sent<sp/>then<sp/>add<sp/>to<sp/>HPD<sp/>queue<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1819"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_UfpEnqueueHpd(ptrAltModeContext,<sp/>event);</highlight></codeline>
<codeline lineno="1820"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1821"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1822"><highlight class="normal"></highlight></codeline>
<codeline lineno="1823"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_UfpEnqueueHpd(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/>cy_en_usbpd_hpd_events_t<sp/>status)</highlight></codeline>
<codeline lineno="1824"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1825"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>*hpdState<sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>&amp;ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a1aebef049c84db2351b40ae3d55e90bd" kindref="member">hpdState</ref>;</highlight></codeline>
<codeline lineno="1826"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/><sp/>*hpdIdx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>&amp;ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab0b3c545058d97b615017738ac38a835" kindref="member">queueReadIndex</ref>;</highlight></codeline>
<codeline lineno="1827"><highlight class="normal"></highlight></codeline>
<codeline lineno="1828"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>queue<sp/>is<sp/>not<sp/>full<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1829"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((*hpdIdx)<sp/>&lt;=<sp/>(<ref refid="group__group__pdaltmode__display__port__macros_1ga20e668f4b30f0386163bde0efc3d08ad" kindref="member">CY_PDALTMODE_DP_UFP_MAX_QUEUE_SIZE</ref><sp/>*<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga53c1ef042111ecc2348e2b84734a9c67" kindref="member">CY_PDALTMODE_DP_QUEUE_STATE_SIZE</ref>))</highlight></codeline>
<codeline lineno="1830"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1831"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_MISRA_DEVIATE_BLOCK_START(</highlight><highlight class="stringliteral">&apos;MISRA<sp/>C-2012<sp/>Rule<sp/>16.1&apos;</highlight><highlight class="normal">,<sp/>1,<sp/></highlight><highlight class="stringliteral">&apos;Intentional<sp/>fall<sp/>through<sp/>and<sp/>return.&apos;</highlight><highlight class="normal">);<sp/></highlight></codeline>
<codeline lineno="1832"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_MISRA_DEVIATE_BLOCK_START(</highlight><highlight class="stringliteral">&apos;MISRA<sp/>C-2012<sp/>Rule<sp/>16.3&apos;</highlight><highlight class="normal">,<sp/>1,<sp/></highlight><highlight class="stringliteral">&apos;Intentional<sp/>fall<sp/>through<sp/>and<sp/>return.&apos;</highlight><highlight class="normal">);<sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1833"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(status)</highlight></codeline>
<codeline lineno="1834"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1835"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>CY_USBPD_HPD_EVENT_UNPLUG:</highlight></codeline>
<codeline lineno="1836"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Empty<sp/>queue<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1837"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*hpdIdx<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga53c1ef042111ecc2348e2b84734a9c67" kindref="member">CY_PDALTMODE_DP_QUEUE_STATE_SIZE</ref>;</highlight></codeline>
<codeline lineno="1838"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*hpdState<sp/>=<sp/>(uint16_t)<sp/>status;</highlight></codeline>
<codeline lineno="1839"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1840"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>CY_USBPD_HPD_EVENT_PLUG:</highlight></codeline>
<codeline lineno="1841"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>CY_USBPD_HPD_EVENT_IRQ:</highlight></codeline>
<codeline lineno="1842"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Add<sp/>to<sp/>queue<sp/>High<sp/>HPD<sp/>state<sp/>or<sp/>IRQ<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1843"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_AddHpdEvt(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>,<sp/>status);</highlight></codeline>
<codeline lineno="1844"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1845"><highlight class="normal"></highlight></codeline>
<codeline lineno="1846"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>QAC<sp/>suppression<sp/>2024:<sp/>Intentional<sp/>return<sp/>from<sp/>function<sp/></highlight></codeline>
<codeline lineno="1847"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>instead<sp/>of<sp/>breaking<sp/>the<sp/>switch<sp/>case<sp/>clause.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1848"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:<sp/></highlight><highlight class="comment">/*<sp/>PRQA<sp/>S<sp/>2024<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1849"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Do<sp/>nothing<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1851"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1852"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_MISRA_BLOCK_END(</highlight><highlight class="stringliteral">&apos;MISRA<sp/>C-2012<sp/>Rule<sp/>16.3&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1853"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_MISRA_BLOCK_END(</highlight><highlight class="stringliteral">&apos;MISRA<sp/>C-2012<sp/>Rule<sp/>16.1&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1854"><highlight class="normal"></highlight></codeline>
<codeline lineno="1855"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>any<sp/>Attention<sp/>already<sp/>is<sp/>in<sp/>sending<sp/>process<sp/>then<sp/>halt<sp/>dequeue<sp/>procedure<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1856"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;modeState<sp/>==<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0af065a70e2b10edcf899dacf20fe5b384" kindref="member">CY_PDALTMODE_STATE_IDLE</ref>)</highlight></codeline>
<codeline lineno="1857"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1858"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Dequeue<sp/>HPD<sp/>events<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1859"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_UfpDequeueHpd(ptrAltModeContext);</highlight></codeline>
<codeline lineno="1860"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1861"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1862"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1863"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1864"><highlight class="normal">CY_MISRA_DEVIATE_BLOCK_START(</highlight><highlight class="stringliteral">&apos;MISRA<sp/>C-2012<sp/>Rule<sp/>17.2&apos;</highlight><highlight class="normal">,<sp/>1,<sp/></highlight><highlight class="stringliteral">&apos;Intentional<sp/>recursion<sp/>with<sp/>a<sp/>maximum<sp/>of<sp/>5<sp/>recursive<sp/>calls&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1865"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_UfpDequeueHpd(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext)</highlight></codeline>
<codeline lineno="1866"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1867"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_en_usbpd_hpd_events_t<sp/>hpdEvt;</highlight></codeline>
<codeline lineno="1868"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>hpdEvtU16;</highlight></codeline>
<codeline lineno="1869"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><sp/><sp/><sp/>isAttNeeded<sp/><sp/><sp/><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1870"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>hpdState<sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a1aebef049c84db2351b40ae3d55e90bd" kindref="member">hpdState</ref>;</highlight></codeline>
<codeline lineno="1871"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/><sp/>hpdIdx<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab0b3c545058d97b615017738ac38a835" kindref="member">queueReadIndex</ref>;</highlight></codeline>
<codeline lineno="1872"><highlight class="normal"></highlight></codeline>
<codeline lineno="1873"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(hpdIdx<sp/>!=<sp/>(uint8_t)<ref refid="group__group__pdaltmode__display__port__macros_1ga350dcb70ff3a0a3c0dba2065f54553da" kindref="member">CY_PDALTMODE_DP_QUEUE_EMPTY_INDEX</ref>)</highlight></codeline>
<codeline lineno="1874"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1875"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>queued<sp/>HPD<sp/>event<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1876"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hpdEvtU16<sp/>=<sp/>(<ref refid="group__group__pdaltmode__display__port__macros_1ga209f58409756a736c2d22c16619fbf91" kindref="member">CY_PDALTMODE_DP_HPD_STATE_MASK</ref><sp/>&amp;<sp/>(hpdState<sp/>&gt;&gt;</highlight></codeline>
<codeline lineno="1877"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(hpdIdx<sp/>-<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga53c1ef042111ecc2348e2b84734a9c67" kindref="member">CY_PDALTMODE_DP_QUEUE_STATE_SIZE</ref>)));</highlight></codeline>
<codeline lineno="1878"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hpdEvt<sp/>=<sp/>(cy_en_usbpd_hpd_events_t)hpdEvtU16;</highlight></codeline>
<codeline lineno="1879"><highlight class="normal"></highlight></codeline>
<codeline lineno="1880"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Decrease<sp/>queue<sp/>size<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1881"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hpdIdx<sp/>-=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga53c1ef042111ecc2348e2b84734a9c67" kindref="member">CY_PDALTMODE_DP_QUEUE_STATE_SIZE</ref>;</highlight></codeline>
<codeline lineno="1882"><highlight class="normal"></highlight></codeline>
<codeline lineno="1883"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>queued<sp/>HPD<sp/>event<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1884"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(hpdEvt)</highlight></codeline>
<codeline lineno="1885"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1886"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>CY_USBPD_HPD_EVENT_UNPLUG:</highlight></codeline>
<codeline lineno="1887"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Update<sp/>DP<sp/>sink<sp/>status<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1888"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Cy_PdAltMode_DP_UfpUpdateStatusField(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aa2d7b4904ed3cb3b95c50e51527861ee2" kindref="member">CY_PDALTMODE_DP_STAT_HPD</ref>,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="1889"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1890"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_UFP_DONGLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1891"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_GPIO_CONFIG_SELECT</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1892"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>For<sp/>DP<sp/>Pin<sp/>configuration,<sp/>ensure<sp/>that<sp/>UFP<sp/>Connected<sp/>status<sp/>bit<sp/>is<sp/>updated<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1893"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Cy_PdAltMode_DP_SinkGetPinConfig<sp/>()<sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga31e7c3821f9c13cf548ed3cc575bc4e6" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_E</ref>)</highlight></codeline>
<codeline lineno="1894"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1895"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_UfpClearStatusField(port,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aa2cabe28cf662de64ce2253d6814b4d30" kindref="member">CY_PDALTMODE_DP_STAT_UFP_CONN</ref>);</highlight></codeline>
<codeline lineno="1896"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1897"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1898"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a8bc5ea4917a92366aae12a691b43e5a1" kindref="member">ccgDpPinsSupp</ref><sp/>&amp;<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga4b7009e3a0080d69cf4eebd8fc4d0260" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_C</ref>)<sp/>!=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>)<sp/>||</highlight></codeline>
<codeline lineno="1899"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a8bc5ea4917a92366aae12a691b43e5a1" kindref="member">ccgDpPinsSupp</ref><sp/>&amp;<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga0031e33f27d8edfa24b93511763e66a6" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_D</ref>)<sp/>!=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>))</highlight></codeline>
<codeline lineno="1900"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1901"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Always<sp/>report<sp/>UFP<sp/>connected<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1902"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_UfpSetStatusField<sp/>(port,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aa2cabe28cf662de64ce2253d6814b4d30" kindref="member">CY_PDALTMODE_DP_STAT_UFP_CONN</ref>);</highlight></codeline>
<codeline lineno="1903"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1904"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1905"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1906"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Update<sp/>UFP<sp/>connection<sp/>status<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1907"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_UfpClearStatusField(port,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aa2cabe28cf662de64ce2253d6814b4d30" kindref="member">CY_PDALTMODE_DP_STAT_UFP_CONN</ref>);</highlight></codeline>
<codeline lineno="1908"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1909"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/><sp/>DP_GPIO_CONFIG_SELECT<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1910"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_UFP_DONGLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1911"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>flag<sp/>to<sp/>send<sp/>Attention<sp/>VDM<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1912"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>isAttNeeded<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1913"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1914"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Zero<sp/>IRQ<sp/>status<sp/>if<sp/>Unattached<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1915"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_UfpClearStatusField(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aab8dc9b479835991d233f985547ccf721" kindref="member">CY_PDALTMODE_DP_STAT_IRQ</ref>);</highlight></codeline>
<codeline lineno="1916"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1917"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>CY_USBPD_HPD_EVENT_PLUG:</highlight></codeline>
<codeline lineno="1918"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Update<sp/>DP<sp/>sink<sp/>status<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1919"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Cy_PdAltMode_DP_UfpUpdateStatusField(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aa2d7b4904ed3cb3b95c50e51527861ee2" kindref="member">CY_PDALTMODE_DP_STAT_HPD</ref>,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="1920"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1921"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_UFP_DONGLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1922"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_GPIO_CONFIG_SELECT</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1923"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>For<sp/>DP<sp/>Pin<sp/>configuration,<sp/>ensure<sp/>that<sp/>UFP<sp/>Connected<sp/>status<sp/>bit<sp/>is<sp/>updated<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1924"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Cy_PdAltMode_DP_SinkGetPinConfig<sp/>()<sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga31e7c3821f9c13cf548ed3cc575bc4e6" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_E</ref>)</highlight></codeline>
<codeline lineno="1925"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1926"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_UfpSetStatusField(port,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aa2cabe28cf662de64ce2253d6814b4d30" kindref="member">CY_PDALTMODE_DP_STAT_UFP_CONN</ref>);</highlight></codeline>
<codeline lineno="1927"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1928"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1929"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Update<sp/>UFP<sp/>connection<sp/>status<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1930"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_UfpSetStatusField(port,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aa2cabe28cf662de64ce2253d6814b4d30" kindref="member">CY_PDALTMODE_DP_STAT_UFP_CONN</ref>);</highlight></codeline>
<codeline lineno="1931"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/><sp/>DP_GPIO_CONFIG_SELECT<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1932"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_UFP_DONGLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1933"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>flag<sp/>to<sp/>send<sp/>Attention<sp/>VDM<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1934"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>isAttNeeded<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1935"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1936"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>next<sp/>queued<sp/>event<sp/>is<sp/>IRQ<sp/>we<sp/>can<sp/>combine<sp/>in<sp/>one<sp/>Attention<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1937"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((((<ref refid="group__group__pdaltmode__display__port__macros_1ga209f58409756a736c2d22c16619fbf91" kindref="member">CY_PDALTMODE_DP_HPD_STATE_MASK</ref><sp/>&amp;<sp/>(hpdState<sp/>&gt;&gt;</highlight></codeline>
<codeline lineno="1938"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(hpdIdx<sp/>-<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga53c1ef042111ecc2348e2b84734a9c67" kindref="member">CY_PDALTMODE_DP_QUEUE_STATE_SIZE</ref>))))<sp/>==<sp/>(uint16_t)CY_USBPD_HPD_EVENT_IRQ)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1939"><highlight class="normal"></highlight></codeline>
<codeline lineno="1940"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>QAC<sp/>suppression<sp/>2995:<sp/>This<sp/>function<sp/>is<sp/>always<sp/>called<sp/>when<sp/>the<sp/>events<sp/>are<sp/></highlight></codeline>
<codeline lineno="1941"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>present<sp/>in<sp/>queue<sp/>and<sp/>hence<sp/>the<sp/>hpdIdx<sp/>is<sp/>never<sp/>expected<sp/>to<sp/>be<sp/>DP_QUEUE_EMPTY_INDEX.</highlight></codeline>
<codeline lineno="1942"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>Still<sp/>this<sp/>check<sp/>is<sp/>redundantly<sp/>kept<sp/>for<sp/>protection<sp/>as<sp/>it<sp/>is<sp/>decrementing<sp/>the<sp/>hpdIdx</highlight></codeline>
<codeline lineno="1943"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>to<sp/>ensure<sp/>that<sp/>it<sp/>is<sp/>never<sp/>negative.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1944"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(hpdIdx<sp/>!=<sp/>(uint8_t)<ref refid="group__group__pdaltmode__display__port__macros_1ga350dcb70ff3a0a3c0dba2065f54553da" kindref="member">CY_PDALTMODE_DP_QUEUE_EMPTY_INDEX</ref>))<sp/></highlight><highlight class="comment">/*<sp/>PRQA<sp/>S<sp/>2995<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1945"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1946"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Decrease<sp/>queue<sp/>size<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1947"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hpdIdx<sp/>-=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga53c1ef042111ecc2348e2b84734a9c67" kindref="member">CY_PDALTMODE_DP_QUEUE_STATE_SIZE</ref>;</highlight></codeline>
<codeline lineno="1948"><highlight class="normal"></highlight></codeline>
<codeline lineno="1949"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Update<sp/>IRQ<sp/>field<sp/>in<sp/>status<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1950"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_UfpSetStatusField(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aab8dc9b479835991d233f985547ccf721" kindref="member">CY_PDALTMODE_DP_STAT_IRQ</ref>);</highlight></codeline>
<codeline lineno="1951"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>isAttNeeded<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1952"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1953"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1954"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1955"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Zero<sp/>IRQ<sp/>status<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1956"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_UfpClearStatusField(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aab8dc9b479835991d233f985547ccf721" kindref="member">CY_PDALTMODE_DP_STAT_IRQ</ref>);</highlight></codeline>
<codeline lineno="1957"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1958"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1959"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>CY_USBPD_HPD_EVENT_IRQ:</highlight></codeline>
<codeline lineno="1960"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Update<sp/>DP<sp/>sink<sp/>status<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1961"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Cy_PdAltMode_DP_UfpUpdateStatusField(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aab8dc9b479835991d233f985547ccf721" kindref="member">CY_PDALTMODE_DP_STAT_IRQ</ref>,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="1962"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1963"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>flag<sp/>to<sp/>send<sp/>Attention<sp/>VDM<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1964"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>isAttNeeded<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1965"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1966"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1967"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1968"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>No<sp/>statement<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1969"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1970"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1971"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a1aebef049c84db2351b40ae3d55e90bd" kindref="member">hpdState</ref><sp/>=<sp/>hpdState;</highlight></codeline>
<codeline lineno="1972"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab0b3c545058d97b615017738ac38a835" kindref="member">queueReadIndex</ref><sp/>=<sp/>hpdIdx;</highlight></codeline>
<codeline lineno="1973"><highlight class="normal"></highlight></codeline>
<codeline lineno="1974"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>status<sp/>changed<sp/>then<sp/>send<sp/>attention<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1975"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(isAttNeeded)</highlight></codeline>
<codeline lineno="1976"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1977"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Copy<sp/>Status<sp/>VDO<sp/>to<sp/>VDO<sp/>buffer<sp/>send<sp/>Attention<sp/>VDM<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1978"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5abc8fd13d31b799dbcf6c8d731850ed2d" kindref="member">CY_PDALTMODE_DP_STATE_ATT</ref>;</highlight></codeline>
<codeline lineno="1979"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_AssignVdo(ptrAltModeContext,<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab5660d36862cb4d10c773d139e193cf5" kindref="member">statusVdo</ref>.val);</highlight></codeline>
<codeline lineno="1980"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_SendCmd(ptrAltModeContext);</highlight></codeline>
<codeline lineno="1981"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1982"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1983"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="1984"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>If<sp/>Attention<sp/>for<sp/>current<sp/>event<sp/>not<sp/>needed,<sp/>but<sp/>there<sp/>are<sp/>some<sp/>events</highlight></codeline>
<codeline lineno="1985"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>left<sp/>in<sp/>queue<sp/>then<sp/>run<sp/>dequeue.</highlight></codeline>
<codeline lineno="1986"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1987"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(hpdIdx<sp/>!=<sp/>(uint8_t)<ref refid="group__group__pdaltmode__display__port__macros_1ga350dcb70ff3a0a3c0dba2065f54553da" kindref="member">CY_PDALTMODE_DP_QUEUE_EMPTY_INDEX</ref>)</highlight></codeline>
<codeline lineno="1988"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1989"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>QAC<sp/>suppression<sp/>3670:<sp/>The<sp/>queue<sp/>is<sp/>finite<sp/>sized<sp/>hence<sp/>there<sp/>can<sp/>be<sp/>maximum<sp/>5<sp/></highlight></codeline>
<codeline lineno="1990"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>recursive<sp/>calls,<sp/>which<sp/>will<sp/>not<sp/>result<sp/>in<sp/>a<sp/>stack<sp/>overflow.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1991"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_UfpDequeueHpd(ptrAltModeContext);</highlight></codeline>
<codeline lineno="1992"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1993"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1994"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1995"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>No<sp/>statement<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1996"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1997"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1998"><highlight class="normal"><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1af6f4124dc3a22407c6a62da3c449c57a" kindref="member">modeState</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0af065a70e2b10edcf899dacf20fe5b384" kindref="member">CY_PDALTMODE_STATE_IDLE</ref>;</highlight></codeline>
<codeline lineno="1999"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2000"><highlight class="normal">CY_MISRA_BLOCK_END(</highlight><highlight class="stringliteral">&apos;MISRA<sp/>C-2012<sp/>Rule<sp/>17.2&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2001"><highlight class="normal"></highlight></codeline>
<codeline lineno="2002"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>CY_PD_DP_VCONN_SWAP_FEATURE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2003"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_DpmCmdFailHdlr<sp/>(cy_stc_pdstack_context_t<sp/>*<sp/>ptrPdStackContext,<sp/>uint8_t<sp/>*cntPtr)</highlight></codeline>
<codeline lineno="2004"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2005"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*<sp/>ptrAltModeContext<sp/>=<sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*)ptrPdStackContext-&gt;ptrAltModeContext;</highlight></codeline>
<codeline lineno="2006"><highlight class="normal"></highlight></codeline>
<codeline lineno="2007"><highlight class="normal"><sp/><sp/><sp/><sp/>(*cntPtr)++;</highlight></codeline>
<codeline lineno="2008"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((*cntPtr)<sp/>&lt;<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__macros_1gace9facd57c1e45b998eab65879e7b0bf" kindref="member">CY_PDALTMODE_MNGR_MAX_RETRY_CNT</ref>)</highlight></codeline>
<codeline lineno="2009"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2010"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)<sp/>(ptrPdStackContext-&gt;ptrTimerContext,<sp/>ptrPdStackContext,</highlight></codeline>
<codeline lineno="2011"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDSTACK_GET_PD_TIMER_ID(ptrPdStackContext,<sp/>CY_PDSTACK_PD_VCONN_RECOVERY_TIMER),</highlight></codeline>
<codeline lineno="2012"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a33d69fea0c550c5b43833b24040699f2" kindref="member">vdmStat</ref>-&gt;<ref refid="structcy__stc__pdaltmode__vdm__task__status__t_1a6ab9d4ea625b7c20255fedd3ba37317b" kindref="member">vdmBusyDelay</ref>,<sp/>Cy_PdAltMode_DP_VconnSwapInitCbk);</highlight></codeline>
<codeline lineno="2013"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2014"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2015"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2016"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(*cntPtr)<sp/>=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>;</highlight></codeline>
<codeline lineno="2017"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Init<sp/>Hard<sp/>reset<sp/>if<sp/>Vconn<sp/>Swap<sp/>failed<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2018"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)PDSTACK_CALL_MAP(Cy_PdStack_Dpm_SendPdCommand)(ptrPdStackContext,<sp/>CY_PDSTACK_DPM_CMD_SEND_HARD_RESET,<sp/>NULL,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/>NULL);</highlight></codeline>
<codeline lineno="2019"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2020"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2021"><highlight class="normal"></highlight></codeline>
<codeline lineno="2022"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_VconnSwapInitCbk<sp/>(cy_timer_id_t<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*ptrContext)</highlight></codeline>
<codeline lineno="2023"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2024"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2025"><highlight class="normal"></highlight></codeline>
<codeline lineno="2026"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*<sp/>ptrPdStackContext<sp/>=<sp/>(cy_stc_pdstack_context_t<sp/>*)<sp/>ptrContext;</highlight></codeline>
<codeline lineno="2027"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*<sp/>ptrAltModeContext<sp/>=<sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*)ptrPdStackContext-&gt;ptrAltModeContext;</highlight></codeline>
<codeline lineno="2028"><highlight class="normal"></highlight></codeline>
<codeline lineno="2029"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>Vconn<sp/>Swap<sp/>command<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2030"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(PDSTACK_CALL_MAP(Cy_PdStack_Dpm_SendPdCommand)(ptrPdStackContext,<sp/>CY_PDSTACK_DPM_CMD_SEND_VCONN_SWAP,<sp/>NULL,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>Cy_PdAltMode_DP_VconnSwapCbk)<sp/>!=<sp/>CY_PDSTACK_STAT_SUCCESS)</highlight></codeline>
<codeline lineno="2031"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2032"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_DpmCmdFailHdlr(ptrPdStackContext,<sp/>&amp;(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a9776455f5133141b93c752b915772f78" kindref="member">vconnInitRetryCnt</ref>));</highlight></codeline>
<codeline lineno="2033"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2034"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2035"><highlight class="normal"></highlight></codeline>
<codeline lineno="2036"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_ConfigAttFailedCbk(cy_timer_id_t<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*ptrContext)</highlight></codeline>
<codeline lineno="2037"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2038"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2039"><highlight class="normal"></highlight></codeline>
<codeline lineno="2040"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Init<sp/>Hard<sp/>reset<sp/>if<sp/>configure<sp/>command<sp/>not<sp/>received<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2041"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)PDSTACK_CALL_MAP(Cy_PdStack_Dpm_SendPdCommand)((cy_stc_pdstack_context_t<sp/>*)ptrContext,<sp/>CY_PDSTACK_DPM_CMD_SEND_HARD_RESET,<sp/>NULL,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/>NULL);</highlight></codeline>
<codeline lineno="2042"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2043"><highlight class="normal"></highlight></codeline>
<codeline lineno="2044"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_ConfigAttInitCbk<sp/>(cy_timer_id_t<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*ptrContext)</highlight></codeline>
<codeline lineno="2045"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2046"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2047"><highlight class="normal"></highlight></codeline>
<codeline lineno="2048"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*<sp/>ptrPdStackContext<sp/>=<sp/>(cy_stc_pdstack_context_t<sp/>*)<sp/>ptrContext;</highlight></codeline>
<codeline lineno="2049"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*<sp/>ptrAltModeContext<sp/>=<sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*)ptrPdStackContext-&gt;ptrAltModeContext;</highlight></codeline>
<codeline lineno="2050"><highlight class="normal"></highlight></codeline>
<codeline lineno="2051"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>Attention<sp/>VDM<sp/>with<sp/>DP<sp/>config<sp/>request<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2052"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5abc8fd13d31b799dbcf6c8d731850ed2d" kindref="member">CY_PDALTMODE_DP_STATE_ATT</ref>;</highlight></codeline>
<codeline lineno="2053"><highlight class="normal"><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_AssignVdo(ptrAltModeContext,<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab5660d36862cb4d10c773d139e193cf5" kindref="member">statusVdo</ref>.val);</highlight></codeline>
<codeline lineno="2054"><highlight class="normal"><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_SendCmd(ptrAltModeContext);</highlight></codeline>
<codeline lineno="2055"><highlight class="normal"></highlight></codeline>
<codeline lineno="2056"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Start<sp/>timer<sp/>to<sp/>make<sp/>sure<sp/>that<sp/>DFP<sp/>sent<sp/>configuration<sp/>command<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2057"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)<sp/>(ptrPdStackContext-&gt;ptrTimerContext,<sp/>ptrPdStackContext,</highlight></codeline>
<codeline lineno="2058"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDSTACK_GET_PD_TIMER_ID(ptrPdStackContext,<sp/>CY_PDSTACK_PD_VCONN_RECOVERY_TIMER),</highlight></codeline>
<codeline lineno="2059"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__common__macros_1ga93372ca384efe520662772196aa6c385" kindref="member">CY_PDALTMODE_APP_UFP_RECOV_VCONN_SWAP_TIMER_PERIOD</ref>,<sp/>Cy_PdAltMode_DP_ConfigAttFailedCbk);</highlight></codeline>
<codeline lineno="2060"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2061"><highlight class="normal"></highlight></codeline>
<codeline lineno="2062"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_VconnSwapCbk(cy_stc_pdstack_context_t<sp/>*<sp/>ptrPdStackContext,<sp/>cy_en_pdstack_resp_status_t<sp/>resp,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>cy_stc_pdstack_pd_packet_t*<sp/>pktPtr)</highlight></codeline>
<codeline lineno="2063"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2064"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)pktPtr;</highlight></codeline>
<codeline lineno="2065"><highlight class="normal"></highlight></codeline>
<codeline lineno="2066"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*<sp/>ptrAltModeContext<sp/>=<sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*)ptrPdStackContext-&gt;ptrAltModeContext;</highlight></codeline>
<codeline lineno="2067"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__dp__status__t" kindref="compound">cy_stc_pdaltmode_dp_status_t</ref><sp/>*dpStatus<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>;</highlight></codeline>
<codeline lineno="2068"><highlight class="normal"></highlight></codeline>
<codeline lineno="2069"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Stop<sp/>current<sp/>Vconn<sp/>timer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2070"><highlight class="normal"><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Stop)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>CY_PDSTACK_GET_PD_TIMER_ID(ptrPdStackContext,<sp/>CY_PDSTACK_PD_VCONN_RECOVERY_TIMER));</highlight></codeline>
<codeline lineno="2071"><highlight class="normal"></highlight></codeline>
<codeline lineno="2072"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a9776455f5133141b93c752b915772f78" kindref="member">vconnInitRetryCnt</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>;</highlight></codeline>
<codeline lineno="2073"><highlight class="normal"></highlight></codeline>
<codeline lineno="2074"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(resp<sp/>==<sp/>CY_PDSTACK_RES_RCVD)</highlight></codeline>
<codeline lineno="2075"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2076"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a25e6e8303f82edfc6188024ebd503787" kindref="member">vconnCbkRetryCnt</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>;</highlight></codeline>
<codeline lineno="2077"><highlight class="normal"></highlight></codeline>
<codeline lineno="2078"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Start<sp/>timer<sp/>to<sp/>run<sp/>DP<sp/>config<sp/>Attention<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2079"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)<sp/>(ptrPdStackContext-&gt;ptrTimerContext,<sp/>ptrPdStackContext,</highlight></codeline>
<codeline lineno="2080"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDSTACK_GET_PD_TIMER_ID(ptrPdStackContext,<sp/>CY_PDSTACK_PD_VCONN_RECOVERY_TIMER),</highlight></codeline>
<codeline lineno="2081"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__common__macros_1ga93372ca384efe520662772196aa6c385" kindref="member">CY_PDALTMODE_APP_UFP_RECOV_VCONN_SWAP_TIMER_PERIOD</ref>,<sp/>Cy_PdAltMode_DP_ConfigAttInitCbk);</highlight></codeline>
<codeline lineno="2082"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1abbc8fcb04aa279bbab4589da94187904" kindref="member">vconnSwapReq</ref><sp/>=<sp/>0x0U;</highlight></codeline>
<codeline lineno="2083"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2084"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(resp<sp/>&lt;<sp/>CY_PDSTACK_CMD_SENT)</highlight></codeline>
<codeline lineno="2085"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2086"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_DpmCmdFailHdlr(ptrPdStackContext,<sp/>&amp;(dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a25e6e8303f82edfc6188024ebd503787" kindref="member">vconnCbkRetryCnt</ref>));</highlight></codeline>
<codeline lineno="2087"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2088"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2089"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2090"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Do<sp/>nothing<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2091"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2092"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2093"><highlight class="normal"></highlight></codeline>
<codeline lineno="2094"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>CY_PD_DP_VCONN_SWAP_FEATURE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2095"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_UFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2096"><highlight class="normal"></highlight></codeline>
<codeline lineno="2097"><highlight class="normal"></highlight><highlight class="comment">/*************************<sp/>Common<sp/>DP<sp/>functions<sp/>definitions<sp/>********************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2098"><highlight class="normal"></highlight></codeline>
<codeline lineno="2099"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>((DP_DFP_SUPP)<sp/>||<sp/>(DP_UFP_SUPP))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2100"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="2101"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>MUX_UPDATE_PAUSE_FSM</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2102"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_SendExitCmdCb(cy_timer_id_t<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>context)</highlight></codeline>
<codeline lineno="2103"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2104"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2105"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*<sp/>ptrPdStackContext<sp/>=<sp/>(cy_stc_pdstack_context_t<sp/>*)<sp/>context;</highlight></codeline>
<codeline lineno="2106"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*<sp/>ptrAltModeContext<sp/>=<sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*)<sp/>ptrPdStackContext-&gt;ptrAltModeContext;</highlight></codeline>
<codeline lineno="2107"><highlight class="normal"></highlight></codeline>
<codeline lineno="2108"><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1ae4fd2bb93c7050d3b51ba1d25a3afbd3" kindref="member">muxStat</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga76fe692191168bfcd3be6cee0c268493a3c152118c65f37a723cee8e4dbf42dab" kindref="member">CY_PDALTMODE_APP_MUX_STATE_BUSY</ref>)</highlight></codeline>
<codeline lineno="2109"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Run<sp/>timer<sp/>if<sp/>MUX<sp/>is<sp/>busy<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>ptrPdStackContext,</highlight></codeline>
<codeline lineno="2112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881a8ad98a5cea80de0090943cb765f098cf" kindref="member">CY_PDALTMODE_ALT_MODE_CBK_TIMER</ref>),</highlight></codeline>
<codeline lineno="2113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__common__macros_1gaa3e43b09e207e71363ed64a0e4d34e4e" kindref="member">CY_PDALTMODE_APP_POLL_PERIOD</ref>,<sp/>Cy_PdAltMode_DP_SendExitCmdCb);</highlight></codeline>
<codeline lineno="2114"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2115"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2116"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>exit<sp/>state<sp/>and<sp/>send<sp/>Exit<sp/>VDM<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a2ffaaf71bb924322fa01762aa199f818" kindref="member">CY_PDALTMODE_DP_STATE_EXIT</ref>;</highlight></codeline>
<codeline lineno="2119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_SendCmd(ptrAltModeContext);</highlight></codeline>
<codeline lineno="2120"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2121"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2122"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>MUX_UPDATE_PAUSE_FSM<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="2124"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_SendCmd(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext)</highlight></codeline>
<codeline lineno="2125"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2126"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_2_1_ENABLE<sp/>||<sp/>MUX_UPDATE_PAUSE_FSM</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2127"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>;</highlight></codeline>
<codeline lineno="2128"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_2_1_ENABLE<sp/>||<sp/>MUX_UPDATE_PAUSE_FSM<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2129"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__mngr__info__t" kindref="compound">cy_stc_pdaltmode_mngr_info_t</ref><sp/>*info;</highlight></codeline>
<codeline lineno="2130"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>sopIdx;</highlight></codeline>
<codeline lineno="2131"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__display__port__enums_1gad6f1f79915cc9c1b675a6e9e6e4879a5" kindref="member">cy_en_pdaltmode_dp_state_t</ref><sp/>state<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref>;</highlight></codeline>
<codeline lineno="2132"><highlight class="normal"></highlight></codeline>
<codeline lineno="2133"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(state<sp/>!=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a4e9b49ee3e1b6923b1c123b1d2a3fb64" kindref="member">CY_PDALTMODE_DP_STATE_IDLE</ref>)</highlight></codeline>
<codeline lineno="2134"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info<sp/>=<sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext);</highlight></codeline>
<codeline lineno="2136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="2137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>QAC<sp/>suppression<sp/>2982:<sp/>val<sp/>is<sp/>a<sp/>union<sp/>object<sp/>that<sp/>holds<sp/>the<sp/>complete<sp/>data<sp/>of<sp/>this<sp/>union.</highlight></codeline>
<codeline lineno="2138"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>It<sp/>is<sp/>used<sp/>here<sp/>to<sp/>clear<sp/>the<sp/>data<sp/>of<sp/>this<sp/>union.<sp/>Application<sp/>uses<sp/>other<sp/>members<sp/>of<sp/>this<sp/></highlight></codeline>
<codeline lineno="2139"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>union<sp/>to<sp/>specifically<sp/>access<sp/>the<sp/>data<sp/>required.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a04a950f17ed35dfcd29fc6f58137a6e4" kindref="member">vdmHeader</ref>.val<sp/>=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>;<sp/></highlight><highlight class="comment">/*<sp/>PRQA<sp/>S<sp/>2982<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a04a950f17ed35dfcd29fc6f58137a6e4" kindref="member">vdmHeader</ref>.std_vdm_hdr.cmd<sp/>=<sp/>(uint32_t)state;</highlight></codeline>
<codeline lineno="2142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a04a950f17ed35dfcd29fc6f58137a6e4" kindref="member">vdmHeader</ref>.std_vdm_hdr.svid<sp/>=<sp/><ref refid="group__group__pdaltmode__common__macros_1gaf33d8c03f64a191110fddd9f98657092" kindref="member">CY_PDALTMODE_DP_SVID</ref>;</highlight></codeline>
<codeline lineno="2143"><highlight class="normal"></highlight></codeline>
<codeline lineno="2144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>USB<sp/>SS<sp/>in<sp/>case<sp/>of<sp/>Exit<sp/>mode<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(state<sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a2ffaaf71bb924322fa01762aa199f818" kindref="member">CY_PDALTMODE_DP_STATE_EXIT</ref>)</highlight></codeline>
<codeline lineno="2146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2147"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>MUX_UPDATE_PAUSE_FSM</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1ae4fd2bb93c7050d3b51ba1d25a3afbd3" kindref="member">muxStat</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga76fe692191168bfcd3be6cee0c268493a3c152118c65f37a723cee8e4dbf42dab" kindref="member">CY_PDALTMODE_APP_MUX_STATE_BUSY</ref>)</highlight></codeline>
<codeline lineno="2149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Run<sp/>timer<sp/>if<sp/>MUX<sp/>is<sp/>busy<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>ptrPdStackContext,</highlight></codeline>
<codeline lineno="2152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881a8ad98a5cea80de0090943cb765f098cf" kindref="member">CY_PDALTMODE_ALT_MODE_CBK_TIMER</ref>),</highlight></codeline>
<codeline lineno="2153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__common__macros_1gaa3e43b09e207e71363ed64a0e4d34e4e" kindref="member">CY_PDALTMODE_APP_POLL_PERIOD</ref>,<sp/>Cy_PdAltMode_DP_SendExitCmdCb);</highlight></codeline>
<codeline lineno="2154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2156"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>MUX_UPDATE_PAUSE_FSM<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)<ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga9c8a69158389bc9aa1b7825bed6bf693" kindref="member">Cy_PdAltMode_HW_SetMux</ref>(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6a1bcda475ec873920e65bb3dc7f397656" kindref="member">CY_PDALTMODE_MUX_CONFIG_SS_ONLY</ref>,<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>,<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>);</highlight></codeline>
<codeline lineno="2159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2161"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_DFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(sopIdx<sp/>=<sp/>(uint8_t)CY_PD_SOP;<sp/>sopIdx<sp/>&lt;=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1aa62ec86401253d2d666aa03a4fc0e863" kindref="member">maxSopSupp</ref>;<sp/>sopIdx++)</highlight></codeline>
<codeline lineno="2163"><highlight class="normal">#</highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sopIdx<sp/>=<sp/>CY_PD_SOP;</highlight></codeline>
<codeline lineno="2165"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_DFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a53c88038aacb67472c535fda475d6645" kindref="member">sopState</ref>[sopIdx]<sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0aca260007e2b0407be9d067a96b429c46" kindref="member">CY_PDALTMODE_STATE_SEND</ref>;</highlight></codeline>
<codeline lineno="2168"><highlight class="normal"></highlight></codeline>
<codeline lineno="2169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((state<sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5aafbba10e7d19d4fe6c5e8172ebbbf2d0" kindref="member">CY_PDALTMODE_DP_STATE_ENTER</ref>)<sp/>||<sp/>(state<sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a2ffaaf71bb924322fa01762aa199f818" kindref="member">CY_PDALTMODE_DP_STATE_EXIT</ref>))</highlight></codeline>
<codeline lineno="2170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>No<sp/>parameters<sp/>for<sp/>the<sp/>ENTER_MODE<sp/>and<sp/>EXIT_MODE<sp/>VDMs<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a6ac5522c1dd647e13893e07de2b33156" kindref="member">vdoNumb</ref>[sopIdx]<sp/>=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>;</highlight></codeline>
<codeline lineno="2173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Status<sp/>Update,<sp/>Configure<sp/>and<sp/>Attention<sp/>messages<sp/>take<sp/>one<sp/>parameter<sp/>Data<sp/>Object<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a6ac5522c1dd647e13893e07de2b33156" kindref="member">vdoNumb</ref>[sopIdx]<sp/>=<sp/><ref refid="group__group__pdaltmode__common__macros_1gad5a8ba3a413e6879b2cb9a28a740b6bf" kindref="member">CY_PDALTMODE_MAX_DP_VDO_NUMB</ref>;</highlight></codeline>
<codeline lineno="2178"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_DFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((state<sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a9b9ed9ac91c547b5d5c9a2b120a22a5a" kindref="member">CY_PDALTMODE_DP_STATE_STATUS_UPDATE</ref>)<sp/>&amp;&amp;<sp/>(sopIdx<sp/>&gt;<sp/>(uint8_t)CY_PD_SOP))</highlight></codeline>
<codeline lineno="2180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Status<sp/>Update<sp/>VDMs<sp/>are<sp/>only<sp/>sent<sp/>to<sp/>the<sp/>Port<sp/>Partner<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a53c88038aacb67472c535fda475d6645" kindref="member">sopState</ref>[sopIdx]<sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0af065a70e2b10edcf899dacf20fe5b384" kindref="member">CY_PDALTMODE_STATE_IDLE</ref>;</highlight></codeline>
<codeline lineno="2183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2184"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_DFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2185"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_2_1_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((state<sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a70e7050d18b3b5a7492c35e2868d1257" kindref="member">CY_PDALTMODE_DP_STATE_CONFIG</ref>)<sp/>&amp;&amp;<sp/>(sopIdx<sp/>&gt;<sp/>CY_PD_SOP))</highlight></codeline>
<codeline lineno="2187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrPdStackContext-&gt;dpmStat.cblType<sp/>==<sp/>CY_PDSTACK_PROD_TYPE_PAS_CBL)</highlight></codeline>
<codeline lineno="2189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Config<sp/>VDM<sp/>can&apos;t<sp/>be<sp/>sent<sp/>to<sp/>Passive<sp/>cable<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a53c88038aacb67472c535fda475d6645" kindref="member">sopState</ref>[sopIdx]<sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0af065a70e2b10edcf899dacf20fe5b384" kindref="member">CY_PDALTMODE_STATE_IDLE</ref>;</highlight></codeline>
<codeline lineno="2192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Clean<sp/>unused<sp/>configuration<sp/>fields<sp/>for<sp/>cable<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a27bb41076b075814e7a4cbf9a7ebed5f" kindref="member">vdo</ref>[sopIdx]-&gt;val<sp/>&amp;=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga0728075e1933dc9af0cbbf876c1d179e" kindref="member">CY_PDALTMODE_DP_2_1_CBL_CFG_MASK</ref>;</highlight></codeline>
<codeline lineno="2197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>signaling<sp/>bit<sp/>for<sp/>cable<sp/>if<sp/>it&apos;s<sp/>not<sp/>USB<sp/>configuration<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(info-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a27bb41076b075814e7a4cbf9a7ebed5f" kindref="member">vdo</ref>[sopIdx]-&gt;dp_cfg_vdo.selConf<sp/>!=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga31ede17b81a3b179b2e858d0594c23d6" kindref="member">CY_PDALTMODE_DP_USB_SS_CONFIG</ref>)</highlight></codeline>
<codeline lineno="2199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a27bb41076b075814e7a4cbf9a7ebed5f" kindref="member">vdo</ref>[sopIdx]-&gt;dp_cfg_vdo.sign<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga83da94c4990b824f377082f82916ba2a" kindref="member">CY_PDALTMODE_DP_1_3_SIGNALING</ref>;</highlight></codeline>
<codeline lineno="2201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2204"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_2_1_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2207"><highlight class="normal"></highlight></codeline>
<codeline lineno="2208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Start<sp/>sending<sp/>the<sp/>VDMs<sp/>out<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1af6f4124dc3a22407c6a62da3c449c57a" kindref="member">modeState</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0aca260007e2b0407be9d067a96b429c46" kindref="member">CY_PDALTMODE_STATE_SEND</ref>;</highlight></codeline>
<codeline lineno="2210"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2211"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2212"><highlight class="normal"></highlight></codeline>
<codeline lineno="2213"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/><ref refid="structcy__stc__pdaltmode__mngr__info__t" kindref="compound">cy_stc_pdaltmode_mngr_info_t</ref>*<sp/>Cy_PdAltMode_DP_Info(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext)</highlight></codeline>
<codeline lineno="2214"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2215"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>&amp;ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ace7335a7957d82b0ad0b088c6957d910" kindref="member">info</ref>;</highlight></codeline>
<codeline lineno="2216"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2217"><highlight class="normal"></highlight></codeline>
<codeline lineno="2218"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_AddHpdEvt(<ref refid="structcy__stc__pdaltmode__dp__status__t" kindref="compound">cy_stc_pdaltmode_dp_status_t</ref><sp/>*dpStatus,<sp/>cy_en_usbpd_hpd_events_t<sp/>evt)</highlight></codeline>
<codeline lineno="2219"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2220"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a1aebef049c84db2351b40ae3d55e90bd" kindref="member">hpdState</ref><sp/>&lt;&lt;=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga53c1ef042111ecc2348e2b84734a9c67" kindref="member">CY_PDALTMODE_DP_QUEUE_STATE_SIZE</ref>;</highlight></codeline>
<codeline lineno="2221"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a1aebef049c84db2351b40ae3d55e90bd" kindref="member">hpdState</ref><sp/>|=<sp/>(uint16_t)<sp/>evt;</highlight></codeline>
<codeline lineno="2222"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab0b3c545058d97b615017738ac38a835" kindref="member">queueReadIndex</ref><sp/>+=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga53c1ef042111ecc2348e2b84734a9c67" kindref="member">CY_PDALTMODE_DP_QUEUE_STATE_SIZE</ref>;</highlight></codeline>
<codeline lineno="2223"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2224"><highlight class="normal"></highlight></codeline>
<codeline lineno="2225"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_DFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2226"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_IsPrtnrCcgConsistent(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/>uint8_t<sp/>config)</highlight></codeline>
<codeline lineno="2227"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2228"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="2229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>DP<sp/>MUX<sp/>pin<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a8bc5ea4917a92366aae12a691b43e5a1" kindref="member">ccgDpPinsSupp</ref><sp/>&amp;<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ac0f36eb33b6499e072bc78bfe2bbd954" kindref="member">partnerDpPinsSupp</ref><sp/>&amp;<sp/>config)<sp/>!=<sp/>0x0U)<sp/>||</highlight></codeline>
<codeline lineno="2231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>USB<sp/>config<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(config<sp/>==<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>)</highlight></codeline>
<codeline lineno="2233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="2234"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2235"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_DFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2236"><highlight class="normal"></highlight></codeline>
<codeline lineno="2237"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1ga6e2d96963afcf43ec5dfe3d5a18d6bc6" kindref="member">cy_en_pdaltmode_mux_select_t</ref><sp/>Cy_PdAltMode_DP_EvalConfig(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext)</highlight></codeline>
<codeline lineno="2238"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2239"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1ga6e2d96963afcf43ec5dfe3d5a18d6bc6" kindref="member">cy_en_pdaltmode_mux_select_t</ref><sp/>ret<sp/>=<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6a1bcda475ec873920e65bb3dc7f397656" kindref="member">CY_PDALTMODE_MUX_CONFIG_SS_ONLY</ref>;</highlight></codeline>
<codeline lineno="2240"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__dp__status__t" kindref="compound">cy_stc_pdaltmode_dp_status_t</ref><sp/>*dpStatus<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>;</highlight></codeline>
<codeline lineno="2241"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="2242"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.dp_cfg_vdo.dfpAsgmnt)</highlight></codeline>
<codeline lineno="2243"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga4b7009e3a0080d69cf4eebd8fc4d0260" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_C</ref>:</highlight></codeline>
<codeline lineno="2245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga31e7c3821f9c13cf548ed3cc575bc4e6" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_E</ref>:</highlight></codeline>
<codeline lineno="2246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab70cdcd350d8bad35c635061f405fe66" kindref="member">dpActiveFlag</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1adff2592811994d32fac6bc815fcfed77" kindref="member">dp2LaneActive</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6afc353200bd55a4cba2100773ec6169f7" kindref="member">CY_PDALTMODE_MUX_CONFIG_DP_4_LANE</ref>;</highlight></codeline>
<codeline lineno="2249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2250"><highlight class="normal"></highlight></codeline>
<codeline lineno="2251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga0031e33f27d8edfa24b93511763e66a6" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_D</ref>:</highlight></codeline>
<codeline lineno="2252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__display__port__macros_1gae94d317fd458337a229c134a46e2624c" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_F</ref>:</highlight></codeline>
<codeline lineno="2253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab70cdcd350d8bad35c635061f405fe66" kindref="member">dpActiveFlag</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1adff2592811994d32fac6bc815fcfed77" kindref="member">dp2LaneActive</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6ad9dd6af58d168841fdf31666a58f6934" kindref="member">CY_PDALTMODE_MUX_CONFIG_DP_2_LANE</ref>;</highlight></codeline>
<codeline lineno="2256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2257"><highlight class="normal"></highlight></codeline>
<codeline lineno="2258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga31ede17b81a3b179b2e858d0594c23d6" kindref="member">CY_PDALTMODE_DP_USB_SS_CONFIG</ref>:</highlight></codeline>
<codeline lineno="2259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab70cdcd350d8bad35c635061f405fe66" kindref="member">dpActiveFlag</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1adff2592811994d32fac6bc815fcfed77" kindref="member">dp2LaneActive</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2262"><highlight class="normal"></highlight></codeline>
<codeline lineno="2263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>No<sp/>statement<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2266"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2267"><highlight class="normal"></highlight></codeline>
<codeline lineno="2268"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="2269"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2270"><highlight class="normal"></highlight></codeline>
<codeline lineno="2271"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_ResetVar(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext)</highlight></codeline>
<codeline lineno="2272"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2273"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>;</highlight></codeline>
<codeline lineno="2274"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__dp__status__t" kindref="compound">cy_stc_pdaltmode_dp_status_t</ref><sp/>*dpStatus<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>;</highlight></codeline>
<codeline lineno="2275"><highlight class="normal"></highlight></codeline>
<codeline lineno="2276"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Zeros<sp/>DP<sp/>flags<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2277"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab70cdcd350d8bad35c635061f405fe66" kindref="member">dpActiveFlag</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2278"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1adff2592811994d32fac6bc815fcfed77" kindref="member">dp2LaneActive</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2279"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.val<sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__macros_1ga841562ab8c8a6a994edc871dd36eb1c9" kindref="member">CY_PDALTMODE_MNGR_EMPTY_VDO</ref>;</highlight></codeline>
<codeline lineno="2280"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab5660d36862cb4d10c773d139e193cf5" kindref="member">statusVdo</ref>.val<sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__macros_1ga841562ab8c8a6a994edc871dd36eb1c9" kindref="member">CY_PDALTMODE_MNGR_EMPTY_VDO</ref>;</highlight></codeline>
<codeline lineno="2281"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a1aebef049c84db2351b40ae3d55e90bd" kindref="member">hpdState</ref><sp/>=<sp/>0u;</highlight></codeline>
<codeline lineno="2282"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab0b3c545058d97b615017738ac38a835" kindref="member">queueReadIndex</ref><sp/>=<sp/>0u;</highlight></codeline>
<codeline lineno="2283"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab84fb4d7079e62f60d56b260edcba223" kindref="member">curHpdState</ref><sp/>=<sp/>0u;</highlight></codeline>
<codeline lineno="2284"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a4e9b49ee3e1b6923b1c123b1d2a3fb64" kindref="member">CY_PDALTMODE_DP_STATE_IDLE</ref>;</highlight></codeline>
<codeline lineno="2285"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1afdc9b7d48e359e42994ae7c7a1389e54" kindref="member">dp21Supp</ref><sp/>=<sp/>0u;</highlight></codeline>
<codeline lineno="2286"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a83fae71cd0b9536cc96149e26ac43584" kindref="member">dpMuxCfg</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6a534d4e763bd10e41f9fb90271aae956d" kindref="member">CY_PDALTMODE_MUX_CONFIG_ISOLATE</ref>;</highlight></codeline>
<codeline lineno="2287"><highlight class="normal"><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_AssignVdo(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__macros_1ga43f668351b413a09e9a45ba9481a591f" kindref="member">CY_PDALTMODE_MNGR_NONE_VDO</ref>);</highlight></codeline>
<codeline lineno="2288"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>CY_PD_DP_VCONN_SWAP_FEATURE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2289"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1abbc8fcb04aa279bbab4589da94187904" kindref="member">vconnSwapReq</ref><sp/>=<sp/>0x0U;</highlight></codeline>
<codeline lineno="2290"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a9776455f5133141b93c752b915772f78" kindref="member">vconnInitRetryCnt</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>;</highlight></codeline>
<codeline lineno="2291"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a25e6e8303f82edfc6188024ebd503787" kindref="member">vconnCbkRetryCnt</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>;</highlight></codeline>
<codeline lineno="2292"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>CY_PD_DP_VCONN_SWAP_FEATURE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2293"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_DFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2294"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ad0d80245b7ca12147dfe1def607feadf" kindref="member">dpExit</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2295"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1aa62ec86401253d2d666aa03a4fc0e863" kindref="member">maxSopSupp</ref><sp/>=<sp/>(uint8_t)CY_PD_SOP;</highlight></codeline>
<codeline lineno="2296"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a9d526568eb979dda594e8e40409dfab6" kindref="member">tgtInfoPtr</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="2297"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1add230632f077b5e0c350a45788fe75b0" kindref="member">dpActCblSupp</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2298"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_DFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2299"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>MUX_UPDATE_PAUSE_FSM</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2300"><highlight class="normal"><sp/><sp/><sp/><sp/>dpStatus-&gt;prevState<sp/><sp/><sp/><sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a4e9b49ee3e1b6923b1c123b1d2a3fb64" kindref="member">CY_PDALTMODE_DP_STATE_IDLE</ref>;</highlight></codeline>
<codeline lineno="2301"><highlight class="normal"><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Stop)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881a8ad98a5cea80de0090943cb765f098cf" kindref="member">CY_PDALTMODE_ALT_MODE_CBK_TIMER</ref>));</highlight></codeline>
<codeline lineno="2302"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>MUX_UPDATE_PAUSE_FSM<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2303"><highlight class="normal"><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Stop)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881a4355bc9b2fd99f14d5cde8e06c277aad" kindref="member">CY_PDALTMODE_HPD_DELAY_TIMER</ref>));</highlight></codeline>
<codeline lineno="2304"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_2_1_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2305"><highlight class="normal"><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Stop)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881a04f431326ab93f32f3dd6556a3f1b2e3" kindref="member">CY_PDALTMODE_HPD_WAIT_TIMER</ref>));</highlight></codeline>
<codeline lineno="2306"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_2_1_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2307"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2308"><highlight class="normal"></highlight></codeline>
<codeline lineno="2309"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_AssignVdo(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/>uint32_t<sp/>vdo)</highlight></codeline>
<codeline lineno="2310"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2311"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__dp__status__t" kindref="compound">cy_stc_pdaltmode_dp_status_t</ref><sp/>*dpStatus<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>;</highlight></codeline>
<codeline lineno="2312"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>No<sp/>DP<sp/>VDOs<sp/>needed<sp/>while<sp/>send<sp/>VDM<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2313"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(vdo<sp/>==<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__macros_1ga43f668351b413a09e9a45ba9481a591f" kindref="member">CY_PDALTMODE_MNGR_NONE_VDO</ref>)</highlight></codeline>
<codeline lineno="2314"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ace7335a7957d82b0ad0b088c6957d910" kindref="member">info</ref>.<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a6ac5522c1dd647e13893e07de2b33156" kindref="member">vdoNumb</ref>[CY_PD_SOP]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2316"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_DFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ace7335a7957d82b0ad0b088c6957d910" kindref="member">info</ref>.<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a6ac5522c1dd647e13893e07de2b33156" kindref="member">vdoNumb</ref>[CY_PD_SOP_PRIME]<sp/><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ace7335a7957d82b0ad0b088c6957d910" kindref="member">info</ref>.<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a6ac5522c1dd647e13893e07de2b33156" kindref="member">vdoNumb</ref>[CY_PD_SOP_DPRIME]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2319"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a6ac5522c1dd647e13893e07de2b33156" kindref="member">vdoNumb</ref>[CY_PD_SOP]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2321"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_DFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2322"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2323"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2324"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Include<sp/>given<sp/>VDO<sp/>as<sp/>part<sp/>of<sp/>VDM<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1aa6481d5042d2a7ef93d4272274d38193" kindref="member">vdo</ref>[<ref refid="group__group__pdaltmode__display__port__macros_1gaecff6aac73f9be6e6eef579cb33f2e38" kindref="member">CY_PDALTMODE_DP_VDO_IDX</ref>].val<sp/>=<sp/>vdo;</highlight></codeline>
<codeline lineno="2327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a6ac5522c1dd647e13893e07de2b33156" kindref="member">vdoNumb</ref>[CY_PD_SOP]<sp/>=<sp/><ref refid="group__group__pdaltmode__common__macros_1gad5a8ba3a413e6879b2cb9a28a740b6bf" kindref="member">CY_PDALTMODE_MAX_DP_VDO_NUMB</ref>;</highlight></codeline>
<codeline lineno="2328"><highlight class="normal"></highlight></codeline>
<codeline lineno="2329"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_DFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1add230632f077b5e0c350a45788fe75b0" kindref="member">dpActCblSupp</ref>)</highlight></codeline>
<codeline lineno="2331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab1a08e29ff419cccac4d6fdf0b2ca837" kindref="member">cableVdo</ref>[<ref refid="group__group__pdaltmode__display__port__macros_1gaecff6aac73f9be6e6eef579cb33f2e38" kindref="member">CY_PDALTMODE_DP_VDO_IDX</ref>].val<sp/>=<sp/>vdo;</highlight></codeline>
<codeline lineno="2333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a6ac5522c1dd647e13893e07de2b33156" kindref="member">vdoNumb</ref>[CY_PD_SOP_PRIME]<sp/>=<sp/><ref refid="group__group__pdaltmode__common__macros_1gad5a8ba3a413e6879b2cb9a28a740b6bf" kindref="member">CY_PDALTMODE_MAX_DP_VDO_NUMB</ref>;</highlight></codeline>
<codeline lineno="2334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1aa62ec86401253d2d666aa03a4fc0e863" kindref="member">maxSopSupp</ref><sp/>==<sp/>(uint8_t)CY_PD_SOP_DPRIME)</highlight></codeline>
<codeline lineno="2335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1a6ac5522c1dd647e13893e07de2b33156" kindref="member">vdoNumb</ref>[CY_PD_SOP_DPRIME]<sp/>=<sp/><ref refid="group__group__pdaltmode__common__macros_1gad5a8ba3a413e6879b2cb9a28a740b6bf" kindref="member">CY_PDALTMODE_MAX_DP_VDO_NUMB</ref>;</highlight></codeline>
<codeline lineno="2337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2339"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_DFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2340"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2341"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2342"><highlight class="normal"></highlight></codeline>
<codeline lineno="2343"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>cy_pd_pd_do_t*<sp/>Cy_PdAltMode_DP_GetVdo(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext)</highlight></codeline>
<codeline lineno="2344"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2345"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>&amp;(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1aa6481d5042d2a7ef93d4272274d38193" kindref="member">vdo</ref>[<ref refid="group__group__pdaltmode__display__port__macros_1gaecff6aac73f9be6e6eef579cb33f2e38" kindref="member">CY_PDALTMODE_DP_VDO_IDX</ref>]);</highlight></codeline>
<codeline lineno="2346"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2347"><highlight class="normal"></highlight></codeline>
<codeline lineno="2348"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_Exit(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext)</highlight></codeline>
<codeline lineno="2349"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2350"><highlight class="normal"><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_ResetVar(ptrAltModeContext);</highlight></codeline>
<codeline lineno="2351"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)<ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga15b7aab673225200d6a7971187be489d" kindref="member">Cy_PdAltMode_HW_EvalHpdCmd</ref>(ptrAltModeContext,<sp/>(uint32_t)<ref refid="group__group__pdaltmode__common__macros_1gaae7db566d15dc30c7816e7576ee8a8bc" kindref="member">CY_PDALTMODE_HPD_DISABLE_CMD</ref>);</highlight></codeline>
<codeline lineno="2352"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga7a6ecd09088ea0c1c52c28c02e05fe23" kindref="member">Cy_PdAltMode_HW_SetCbk</ref>(ptrAltModeContext,<sp/>NULL);</highlight></codeline>
<codeline lineno="2353"><highlight class="normal"><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1af6f4124dc3a22407c6a62da3c449c57a" kindref="member">modeState</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0ac54dc858491c2f855d802d97d02df0ff" kindref="member">CY_PDALTMODE_STATE_EXIT</ref>;</highlight></codeline>
<codeline lineno="2354"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2355"><highlight class="normal"></highlight></codeline>
<codeline lineno="2356"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_InitHpd(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/>uint8_t<sp/>portRole)</highlight></codeline>
<codeline lineno="2357"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2358"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)<ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga15b7aab673225200d6a7971187be489d" kindref="member">Cy_PdAltMode_HW_EvalHpdCmd</ref><sp/>(ptrAltModeContext,<sp/>(uint32_t)<ref refid="group__group__pdaltmode__common__macros_1ga373274ff41465dbae5868dcaeacee829" kindref="member">CY_PDALTMODE_HPD_ENABLE_CMD</ref>);</highlight></codeline>
<codeline lineno="2359"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a1aebef049c84db2351b40ae3d55e90bd" kindref="member">hpdState</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2360"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab84fb4d7079e62f60d56b260edcba223" kindref="member">curHpdState</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2361"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab0b3c545058d97b615017738ac38a835" kindref="member">queueReadIndex</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2362"><highlight class="normal"></highlight></codeline>
<codeline lineno="2363"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_DFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2364"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(portRole<sp/>!=<sp/>(uint8_t)CY_PD_PRT_TYPE_UFP)</highlight></codeline>
<codeline lineno="2365"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Register<sp/>a<sp/>HPD<sp/>callback<sp/>and<sp/>send<sp/>the<sp/>HPD_ENABLE<sp/>command<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga7a6ecd09088ea0c1c52c28c02e05fe23" kindref="member">Cy_PdAltMode_HW_SetCbk</ref><sp/>(ptrAltModeContext,<sp/>Cy_PdAltMode_DP_SrcHpdRespCbk);</highlight></codeline>
<codeline lineno="2368"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2369"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_DFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2370"><highlight class="normal"></highlight></codeline>
<codeline lineno="2371"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_UFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2372"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(portRole<sp/>==<sp/>(uint8_t)CY_PD_PRT_TYPE_UFP)</highlight></codeline>
<codeline lineno="2373"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Register<sp/>a<sp/>HPD<sp/>callback<sp/>and<sp/>send<sp/>the<sp/>HPD_ENABLE<sp/>command<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga7a6ecd09088ea0c1c52c28c02e05fe23" kindref="member">Cy_PdAltMode_HW_SetCbk</ref><sp/>(ptrAltModeContext,<sp/>Cy_PdAltMode_DP_SnkHpdRespCbk);</highlight></codeline>
<codeline lineno="2376"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2377"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_UFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2378"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2379"><highlight class="normal"></highlight></codeline>
<codeline lineno="2380"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(!ICL_ALT_MODE_HPI_DISABLED)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2381"><highlight class="normal"></highlight><highlight class="comment">/****************************HPI<sp/>command<sp/>evaluation***************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2382"><highlight class="normal"></highlight></codeline>
<codeline lineno="2383"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>Cy_PdAltMode_DP_EvalAppCmd(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*context,<sp/><ref refid="unioncy__stc__pdaltmode__alt__mode__evt__t" kindref="compound">cy_stc_pdaltmode_alt_mode_evt_t</ref><sp/>cmdData)</highlight></codeline>
<codeline lineno="2384"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2385"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext<sp/>=<sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*)context;</highlight></codeline>
<codeline lineno="2386"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__dp__status__t" kindref="compound">cy_stc_pdaltmode_dp_status_t</ref><sp/>*dpStatus<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aff9afd3792552eeaeaf18cb022953653" kindref="member">dpStatus</ref>;</highlight></codeline>
<codeline lineno="2387"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!ICL_DP_DISABLE_APP_CHANGES</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2388"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>((DP_DFP_SUPP<sp/>!=<sp/>0)<sp/>||<sp/>(DP_UFP_SUPP<sp/>!=<sp/>0))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2389"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>data<sp/>=<sp/>cmdData.<ref refid="unioncy__stc__pdaltmode__alt__mode__evt__t_1a201fd5a2b022ffb90a9341b575d285b6" kindref="member">alt_mode_event_data</ref>.<ref refid="structcy__stc__pdaltmode__alt__mode__evt__t_1_1_a_l_t___m_o_d_e___e_v_t___d_a_t_a_1a012c9670d501690399b7847ac2567882" kindref="member">evtData</ref>;</highlight></codeline>
<codeline lineno="2390"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>((DP_DFP_SUPP<sp/>!=<sp/>0)<sp/>||<sp/>(DP_UFP_SUPP<sp/>!=<sp/>0))<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2391"><highlight class="normal"></highlight></codeline>
<codeline lineno="2392"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_DFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2393"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>config<sp/>=<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>;</highlight></codeline>
<codeline lineno="2394"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_DFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2395"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_UFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2396"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>isAttNeeded<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2397"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_UFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2398"><highlight class="normal"></highlight></codeline>
<codeline lineno="2399"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_DFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2400"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>MUX<sp/>configuration<sp/>command<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2401"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cmdData.<ref refid="unioncy__stc__pdaltmode__alt__mode__evt__t_1a201fd5a2b022ffb90a9341b575d285b6" kindref="member">alt_mode_event_data</ref>.<ref refid="structcy__stc__pdaltmode__alt__mode__evt__t_1_1_a_l_t___m_o_d_e___e_v_t___d_a_t_a_1a15415e75dd998146b5e1ac1c5f4e3e55" kindref="member">evtType</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gae224e1bb22c3636c4646a631db7d212c" kindref="member">CY_PDALTMODE_DP_MUX_CTRL_CMD</ref>)</highlight></codeline>
<codeline lineno="2402"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a586105d58ba9a42ee8f5561efe365cb1" kindref="member">dpCfgCtrl</ref><sp/>=<sp/>(uint8_t)(data<sp/>==<sp/>(uint32_t)<ref refid="group__group__pdaltmode__display__port__macros_1gae224e1bb22c3636c4646a631db7d212c" kindref="member">CY_PDALTMODE_DP_MUX_CTRL_CMD</ref>);</highlight></codeline>
<codeline lineno="2404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2405"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2406"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>DP<sp/>config<sp/>command<sp/>received<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2407"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((cmdData.<ref refid="unioncy__stc__pdaltmode__alt__mode__evt__t_1a201fd5a2b022ffb90a9341b575d285b6" kindref="member">alt_mode_event_data</ref>.<ref refid="structcy__stc__pdaltmode__alt__mode__evt__t_1_1_a_l_t___m_o_d_e___e_v_t___d_a_t_a_1a15415e75dd998146b5e1ac1c5f4e3e55" kindref="member">evtType</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga2308412064adcbfae1c0bfbf38a0dfea" kindref="member">CY_PDALTMODE_DP_APP_CFG_CMD</ref>)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="2408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a586105d58ba9a42ee8f5561efe365cb1" kindref="member">dpCfgCtrl</ref><sp/>!=<sp/>0x0u))</highlight></codeline>
<codeline lineno="2409"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(data<sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga1372ca8fcc44b18e77b1280b77873856" kindref="member">CY_PDALTMODE_DP_APP_CFG_USB_IDX</ref>)</highlight></codeline>
<codeline lineno="2411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a70e7050d18b3b5a7492c35e2868d1257" kindref="member">CY_PDALTMODE_DP_STATE_CONFIG</ref>;</highlight></codeline>
<codeline lineno="2413"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_2_1_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>VDO<sp/>version<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.dp_cfg_vdo.dpAmVersion<sp/>=<sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1afdc9b7d48e359e42994ae7c7a1389e54" kindref="member">dp21Supp</ref>;</highlight></codeline>
<codeline lineno="2416"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_2_1_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.val<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga31ede17b81a3b179b2e858d0594c23d6" kindref="member">CY_PDALTMODE_DP_USB_SS_CONFIG</ref>;</highlight></codeline>
<codeline lineno="2418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_AssignVdo(ptrAltModeContext,<sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.val);</highlight></codeline>
<codeline lineno="2419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_SendCmd(ptrAltModeContext);</highlight></codeline>
<codeline lineno="2420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(data<sp/>&lt;=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gafefb0bac812e86b89aabcbde60107303" kindref="member">CY_PDALTMODE_DP_APP_CFG_CMD_MAX_NUMB</ref>)</highlight></codeline>
<codeline lineno="2422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>received<sp/>DP<sp/>config<sp/>is<sp/>possible<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__macros_1ga937798655f914d851f29b6c6b43b79b2" kindref="member">CY_PDALTMODE_MNGR_SET_FLAG</ref>(config,<sp/>data);</highlight></codeline>
<codeline lineno="2425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>pin<sp/>assignment<sp/>compatibility<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((Cy_PdAltMode_DP_IsPrtnrCcgConsistent(ptrAltModeContext,<sp/>(uint8_t)config))<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="2427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.dp_cfg_vdo.dfpAsgmnt<sp/>!=<sp/>config))</highlight></codeline>
<codeline lineno="2428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5a70e7050d18b3b5a7492c35e2868d1257" kindref="member">CY_PDALTMODE_DP_STATE_CONFIG</ref>;</highlight></codeline>
<codeline lineno="2430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Prepare<sp/>Config<sp/>cmd<sp/>and<sp/>send<sp/>VDM<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.val<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.dp_cfg_vdo.dfpAsgmnt<sp/>=<sp/>config;</highlight></codeline>
<codeline lineno="2433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.dp_cfg_vdo.sign<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga83da94c4990b824f377082f82916ba2a" kindref="member">CY_PDALTMODE_DP_1_3_SIGNALING</ref>;</highlight></codeline>
<codeline lineno="2434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.dp_cfg_vdo.selConf<sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga6e620ab4581f02bf90732a6c0a9843a8" kindref="member">CY_PDALTMODE_DP_CONFIG_SELECT</ref>;</highlight></codeline>
<codeline lineno="2435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_AssignVdo(ptrAltModeContext,<sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a99f19a1924620cbb028c9cd3f77c711d" kindref="member">configVdo</ref>.val);</highlight></codeline>
<codeline lineno="2436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_SendCmd(ptrAltModeContext);</highlight></codeline>
<codeline lineno="2437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2440"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2443"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2444"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2445"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Do<sp/>nothing<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2447"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2448"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_DFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2449"><highlight class="normal"></highlight></codeline>
<codeline lineno="2450"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_UFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2451"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>MUX<sp/>configuration<sp/>command<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2452"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cmdData.<ref refid="unioncy__stc__pdaltmode__alt__mode__evt__t_1a201fd5a2b022ffb90a9341b575d285b6" kindref="member">alt_mode_event_data</ref>.<ref refid="structcy__stc__pdaltmode__alt__mode__evt__t_1_1_a_l_t___m_o_d_e___e_v_t___d_a_t_a_1a15415e75dd998146b5e1ac1c5f4e3e55" kindref="member">evtType</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga8b9cdc1d2fd24746b45641d0e5dff42a" kindref="member">CY_PDALTMODE_DP_SINK_CTRL_CMD</ref>)</highlight></codeline>
<codeline lineno="2453"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>received<sp/>command<sp/>is<sp/>Exit/USB<sp/>request<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((data<sp/>&lt;<sp/>(uint32_t)<ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aa2d7b4904ed3cb3b95c50e51527861ee2" kindref="member">CY_PDALTMODE_DP_STAT_HPD</ref>)<sp/>&amp;&amp;<sp/>(data<sp/>&gt;<sp/>(uint32_t)<ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aaf64c8c4a7b6838119c7e89b16ee2ebe9" kindref="member">CY_PDALTMODE_DP_STAT_MF</ref>))</highlight></codeline>
<codeline lineno="2456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Update<sp/>DP<sp/>Sink<sp/>status<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Cy_PdAltMode_DP_UfpUpdateStatusField(ptrAltModeContext,<sp/>(<ref refid="group__group__pdaltmode__display__port__enums_1gac0329806db727d768fdc25a545a2170a" kindref="member">cy_en_pdaltmode_dp_stat_bm_t</ref>)data,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="2459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>send<sp/>Attention<sp/>flag<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>isAttNeeded<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2464"><highlight class="normal"></highlight></codeline>
<codeline lineno="2465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>received<sp/>command<sp/>is<sp/>enabling<sp/>of<sp/>multi-function<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(data<sp/>==<sp/>(uint32_t)<ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aaf64c8c4a7b6838119c7e89b16ee2ebe9" kindref="member">CY_PDALTMODE_DP_STAT_MF</ref>)</highlight></codeline>
<codeline lineno="2467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>MF<sp/>is<sp/>supported<sp/>by<sp/>CCG<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="2470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>QAC<sp/>suppression<sp/>3415:<sp/>The<sp/>second<sp/>check<sp/>is<sp/>not<sp/>required<sp/>if<sp/>the<sp/>first<sp/>check<sp/>is<sp/>incorrect</highlight></codeline>
<codeline lineno="2471"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>and<sp/>hence<sp/>it<sp/>is<sp/>not<sp/>a<sp/>side<sp/>effect.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a8bc5ea4917a92366aae12a691b43e5a1" kindref="member">ccgDpPinsSupp</ref><sp/>&amp;<sp/>(<ref refid="group__group__pdaltmode__display__port__macros_1ga0031e33f27d8edfa24b93511763e66a6" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_D</ref><sp/>|<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gae94d317fd458337a229c134a46e2624c" kindref="member">CY_PDALTMODE_DP_DFP_D_CONFIG_F</ref>))<sp/>!=<sp/>0u)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="2473"><highlight class="normal"></highlight></codeline>
<codeline lineno="2474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>status<sp/>changed<sp/>from<sp/>previous<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_UfpUpdateStatusField(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aaf64c8c4a7b6838119c7e89b16ee2ebe9" kindref="member">CY_PDALTMODE_DP_STAT_MF</ref>,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">)<sp/></highlight><highlight class="comment">/*<sp/>PRQA<sp/>S<sp/>3415<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="2477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>isAttNeeded<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2481"><highlight class="normal"></highlight></codeline>
<codeline lineno="2482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>received<sp/>command<sp/>is<sp/>disabling<sp/>of<sp/>multi-function<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="2484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>QAC<sp/>suppression<sp/>3415:<sp/>The<sp/>second<sp/>check<sp/>is<sp/>not<sp/>required<sp/>if<sp/>the<sp/>first<sp/>check<sp/>is<sp/>incorrect</highlight></codeline>
<codeline lineno="2485"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>and<sp/>hence<sp/>it<sp/>is<sp/>not<sp/>a<sp/>side<sp/>effect.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(data<sp/>==<sp/>((uint32_t)<ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aaf64c8c4a7b6838119c7e89b16ee2ebe9" kindref="member">CY_PDALTMODE_DP_STAT_MF</ref><sp/>-<sp/>1u))<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="2487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_UfpUpdateStatusField(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggac0329806db727d768fdc25a545a2170aaf64c8c4a7b6838119c7e89b16ee2ebe9" kindref="member">CY_PDALTMODE_DP_STAT_MF</ref>,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">)<sp/></highlight><highlight class="comment">/*<sp/>PRQA<sp/>S<sp/>3415<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="2489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>isAttNeeded<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2492"><highlight class="normal"></highlight></codeline>
<codeline lineno="2493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>status<sp/>changed<sp/>then<sp/>send<sp/>attention<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(isAttNeeded)</highlight></codeline>
<codeline lineno="2495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Copy<sp/>Status<sp/>VDO<sp/>to<sp/>VDO<sp/>buffer<sp/>send<sp/>Attention<sp/>VDM<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5abc8fd13d31b799dbcf6c8d731850ed2d" kindref="member">CY_PDALTMODE_DP_STATE_ATT</ref>;</highlight></codeline>
<codeline lineno="2498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_AssignVdo(ptrAltModeContext,<sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1ab5660d36862cb4d10c773d139e193cf5" kindref="member">statusVdo</ref>.val);</highlight></codeline>
<codeline lineno="2499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_SendCmd(ptrAltModeContext);</highlight></codeline>
<codeline lineno="2500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_Info(ptrAltModeContext)-&gt;<ref refid="structcy__stc__pdaltmode__mngr__info__t_1af6f4124dc3a22407c6a62da3c449c57a" kindref="member">modeState</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1ggae2e313c6b3f82ed911cb6abd429b65a0af065a70e2b10edcf899dacf20fe5b384" kindref="member">CY_PDALTMODE_STATE_IDLE</ref>;</highlight></codeline>
<codeline lineno="2505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2506"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2507"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>CY_PD_DP_VCONN_SWAP_FEATURE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2508"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cmdData.<ref refid="unioncy__stc__pdaltmode__alt__mode__evt__t_1a201fd5a2b022ffb90a9341b575d285b6" kindref="member">alt_mode_event_data</ref>.<ref refid="structcy__stc__pdaltmode__alt__mode__evt__t_1_1_a_l_t___m_o_d_e___e_v_t___d_a_t_a_1a15415e75dd998146b5e1ac1c5f4e3e55" kindref="member">evtType</ref><sp/>==<sp/><ref refid="group__group__pdaltmode__display__port__macros_1gae144c0d2961909949ffa34d6a63a560e" kindref="member">CY_PDALTMODE_DP_APP_VCONN_SWAP_CFG_CMD</ref>)</highlight></codeline>
<codeline lineno="2509"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Init<sp/>Vconn<sp/>Swap<sp/>request<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1abbc8fcb04aa279bbab4589da94187904" kindref="member">vconnSwapReq</ref><sp/>=<sp/>0x01u;</highlight></codeline>
<codeline lineno="2512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>Attention<sp/>VDM<sp/>with<sp/>USB<sp/>request<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpStatus-&gt;<ref refid="structcy__stc__pdaltmode__dp__status__t_1a461ed2d4780eefe40a2af781c0e61564" kindref="member">state</ref><sp/>=<sp/><ref refid="group__group__pdaltmode__display__port__enums_1ggad6f1f79915cc9c1b675a6e9e6e4879a5abc8fd13d31b799dbcf6c8d731850ed2d" kindref="member">CY_PDALTMODE_DP_STATE_ATT</ref>;</highlight></codeline>
<codeline lineno="2514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_AssignVdo(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__display__port__macros_1ga31ede17b81a3b179b2e858d0594c23d6" kindref="member">CY_PDALTMODE_DP_USB_SS_CONFIG</ref>);</highlight></codeline>
<codeline lineno="2515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_DP_SendCmd(ptrAltModeContext);</highlight></codeline>
<codeline lineno="2516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Start<sp/>timer<sp/>to<sp/>make<sp/>sure<sp/>that<sp/>DFP<sp/>sent<sp/>configuration<sp/>command<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)<sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;ptrTimerContext,<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>,</highlight></codeline>
<codeline lineno="2518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDSTACK_GET_PD_TIMER_ID(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>,<sp/>CY_PDSTACK_PD_VCONN_RECOVERY_TIMER),</highlight></codeline>
<codeline lineno="2519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__common__macros_1ga93372ca384efe520662772196aa6c385" kindref="member">CY_PDALTMODE_APP_UFP_RECOV_VCONN_SWAP_TIMER_PERIOD</ref>,<sp/>Cy_PdAltMode_DP_ConfigAttFailedCbk);</highlight></codeline>
<codeline lineno="2520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2521"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2522"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2523"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Do<sp/>nothing<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2525"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2526"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>CY_PD_DP_VCONN_SWAP_FEATURE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2527"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_UFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2528"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>ICL_DP_DISABLE_APP_CHANGES<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2529"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2530"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2531"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(!ICL_ALT_MODE_HPI_DISABLED)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2532"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_DFP_SUPP<sp/>||<sp/>DP_UFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2533"><highlight class="normal"></highlight></codeline>
<codeline lineno="2534"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>[]<sp/>END<sp/>OF<sp/>FILE<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="cy_pdaltmode_dp_sid.c"/>
  </compounddef>
</doxygen>
