<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.14">
  <compounddef id="cy__pdaltmode__hw_8c" kind="file" language="C++">
    <compoundname>cy_pdaltmode_hw.c</compoundname>
    <includes refid="cy__pdaltmode__defines_8h" local="yes">cy_pdaltmode_defines.h</includes>
    <includes refid="cy__pdaltmode__hw_8h" local="yes">cy_pdaltmode_hw.h</includes>
    <includes refid="cy__pdaltmode__mngr_8h" local="yes">cy_pdaltmode_mngr.h</includes>
    <includes local="yes">cy_pdstack_dpm.h</includes>
    <includes local="yes">cy_pdutils.h</includes>
    <includes local="yes">cy_pdutils_sw_timer.h</includes>
    <includes local="yes">cy_pdstack_timer_id.h</includes>
    <includes refid="cy__pdaltmode__timer__id_8h" local="yes">cy_pdaltmode_timer_id.h</includes>
    <includes local="yes">cy_usbpd_hpd.h</includes>
    <incdepgraph>
      <node id="32">
        <label>cy_usbpd_hpd.h</label>
      </node>
      <node id="31">
        <label>cy_pdstack_timer_id.h</label>
      </node>
      <node id="29">
        <label>cy_pdutils.h</label>
      </node>
      <node id="27">
        <label>cy_pdaltmode_hw.c</label>
        <link refid="cy__pdaltmode__hw_8c"/>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="30">
        <label>cy_pdutils_sw_timer.h</label>
      </node>
      <node id="28">
        <label>cy_pdstack_dpm.h</label>
      </node>
    </incdepgraph>
      <sectiondef kind="define">
      <memberdef kind="define" id="cy__pdaltmode__hw_8c_1ac43886c915741716d7005c1f605eb7ea" prot="public" static="no">
        <name>CY_PDALTMODE_HW_MAKE_MUX_STATE</name>
        <param><defname>polarity</defname></param>
        <param><defname>cfg</defname></param>
        <initializer>((uint8_t)(polarity &lt;&lt; 7U) | (cfg &amp; 0x7FU))</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_hw.c" line="60" column="9" bodyfile="cy_pdaltmode_hw.c" bodystart="60" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="var">
      <memberdef kind="variable" id="cy__pdaltmode__hw_8c_1a9535920c30d44734b83edf04a4a555c5" prot="public" static="yes" mutable="no">
        <type><ref refid="structcy__stc__pdaltmode__hw__details__t" kindref="compound">cy_stc_pdaltmode_hw_details_t</ref></type>
        <definition>cy_stc_pdaltmode_hw_details_t hwStatus[NO_OF_TYPEC_PORTS]</definition>
        <argsstring>[NO_OF_TYPEC_PORTS]</argsstring>
        <name>hwStatus</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_hw.c" line="73" column="1" bodyfile="cy_pdaltmode_hw.c" bodystart="73" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="cy__pdaltmode__hw_8c_1ac29678776115e9f8589766215cab2312" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_HW_DpSrcHpdCbk</definition>
        <argsstring>(void *context, cy_en_usbpd_hpd_events_t event)</argsstring>
        <name>Cy_PdAltMode_HW_DpSrcHpdCbk</name>
        <param>
          <type>void *</type>
          <declname>context</declname>
        </param>
        <param>
          <type>cy_en_usbpd_hpd_events_t</type>
          <declname>event</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_hw.c" line="64" column="1" bodyfile="cy_pdaltmode_hw.c" bodystart="338" bodyend="387"/>
      </memberdef>
      <memberdef kind="function" id="cy__pdaltmode__hw_8c_1a23afe1749e98fe7bc4c4ed108592b4f5" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void Cy_PdAltMode_HW_DpSnkHpdCbk</definition>
        <argsstring>(void *context, cy_en_usbpd_hpd_events_t event)</argsstring>
        <name>Cy_PdAltMode_HW_DpSnkHpdCbk</name>
        <param>
          <type>void *</type>
          <declname>context</declname>
        </param>
        <param>
          <type>cy_en_usbpd_hpd_events_t</type>
          <declname>event</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_hw.c" line="69" column="1" bodyfile="cy_pdaltmode_hw.c" bodystart="265" bodyend="314"/>
      </memberdef>
      <memberdef kind="function" id="group__group__pdaltmode__alt__mode__hw__functions_1gae85a95014094eb8548fd5c251fc62347" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structcy__stc__pdaltmode__hw__details__t" kindref="compound">cy_stc_pdaltmode_hw_details_t</ref> *</type>
        <definition>cy_stc_pdaltmode_hw_details_t* Cy_PdAltMode_HW_GetStatus</definition>
        <argsstring>(uint8_t port)</argsstring>
        <name>Cy_PdAltMode_HW_GetStatus</name>
        <param>
          <type>uint8_t</type>
          <declname>port</declname>
        </param>
        <briefdescription>
<para>Returns Alt Mode hardware status pointer. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>port</parametername>
</parameternamelist>
<parameterdescription>
<para>Selected port</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Returns pointer to Alt Mode hardware status structure </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_hw.c" line="75" column="1" bodyfile="cy_pdaltmode_hw.c" bodystart="75" bodyend="78"/>
      </memberdef>
      <memberdef kind="function" id="group__group__pdaltmode__alt__mode__hw__functions_1ga30a78dedcd65bea9e2a88f627cde8a94" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool Cy_PdAltMode_HW_EvalAppAltHwCmd</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext, uint8_t *cmdParam)</argsstring>
        <name>Cy_PdAltMode_HW_EvalAppAltHwCmd</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <param>
          <type>uint8_t *</type>
          <declname>cmdParam</declname>
        </param>
        <briefdescription>
<para>Evaluates received HPD application command. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ptrAltModeContext</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to Alt Mode context</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>cmdParam</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to received application HW command data</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>True if APP command passed is successful, false if APP command is invalid or contains unacceptable fields. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_hw.c" line="81" column="1" bodyfile="cy_pdaltmode_hw.c" bodystart="81" bodyend="119"/>
      </memberdef>
      <memberdef kind="function" id="group__group__pdaltmode__alt__mode__hw__functions_1ga6f2e57687b011f4861956264a579295a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool Cy_PdAltMode_HW_EvalMuxCmd</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext, uint32_t cmd)</argsstring>
        <name>Cy_PdAltMode_HW_EvalMuxCmd</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>cmd</declname>
        </param>
        <briefdescription>
<para>Evaluates received MUX application command. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ptrAltModeContext</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to Alt Mode context</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>cmd</parametername>
</parameternamelist>
<parameterdescription>
<para>Received MUX application command data</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>True if MUX APP command passed is successful, false if MUX APP command is invalid or contains unacceptable fields. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_hw.c" line="122" column="1" bodyfile="cy_pdaltmode_hw.c" bodystart="122" bodyend="130"/>
      </memberdef>
      <memberdef kind="function" id="group__group__pdaltmode__alt__mode__hw__functions_1ga7a6ecd09088ea0c1c52c28c02e05fe23" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void Cy_PdAltMode_HW_SetCbk</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext, cy_pdaltmode_hw_cmd_cbk_t cbk)</argsstring>
        <name>Cy_PdAltMode_HW_SetCbk</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <param>
          <type><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__data__structures_1gaf0f78ba2b33773b1ebd9801120c02d78" kindref="member">cy_pdaltmode_hw_cmd_cbk_t</ref></type>
          <declname>cbk</declname>
        </param>
        <briefdescription>
<para>Registers an ALT. </para>        </briefdescription>
        <detaileddescription>
<para>MODE hardware callback function.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ptrAltModeContext</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the Alt Mode context</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>cbk</parametername>
</parameternamelist>
<parameterdescription>
<para>Callback function for ALT. MODE hardware events</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>None </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_hw.c" line="134" column="1" bodyfile="cy_pdaltmode_hw.c" bodystart="134" bodyend="141"/>
      </memberdef>
      <memberdef kind="function" id="group__group__pdaltmode__alt__mode__hw__functions_1ga15b7aab673225200d6a7971187be489d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool Cy_PdAltMode_HW_EvalHpdCmd</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext, uint32_t cmd)</argsstring>
        <name>Cy_PdAltMode_HW_EvalHpdCmd</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>cmd</declname>
        </param>
        <briefdescription>
<para>Evaluates received HPD application command. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ptrAltModeContext</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to Alt Mode context</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>cmd</parametername>
</parameternamelist>
<parameterdescription>
<para>Received HPD application command data</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>True if HPD APP command passed is successful, false if HPD APP command is invalid or contains unacceptable fields. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_hw.c" line="143" column="1" bodyfile="cy_pdaltmode_hw.c" bodystart="143" bodyend="260"/>
      </memberdef>
      <memberdef kind="function" id="group__group__pdaltmode__alt__mode__hw__functions_1ga239f8abedb3eb591e01a5ba59251ccc1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool Cy_PdAltMode_HW_DpSnkGetHpdState</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext)</argsstring>
        <name>Cy_PdAltMode_HW_DpSnkGetHpdState</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <briefdescription>
<para>Returns HPD state based on HPD Queue events. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ptrAltModeContext</parametername>
</parameternamelist>
<parameterdescription>
<para>PDAltMode Library context pointer</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>True if HPD is connected, false otherwise. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_hw.c" line="316" column="1" bodyfile="cy_pdaltmode_hw.c" bodystart="316" bodyend="334"/>
      </memberdef>
      <memberdef kind="function" id="group__group__pdaltmode__alt__mode__hw__functions_1ga663c36b739760f4682755262bb98d18e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void Cy_PdAltMode_HW_DeInit</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext)</argsstring>
        <name>Cy_PdAltMode_HW_DeInit</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <briefdescription>
<para>De-init all HW related to Alt Modes. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ptrAltModeContext</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the Alt Mode context</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>None </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_hw.c" line="390" column="1" bodyfile="cy_pdaltmode_hw.c" bodystart="390" bodyend="438"/>
      </memberdef>
      <memberdef kind="function" id="group__group__pdaltmode__alt__mode__hw__functions_1ga8735270afda6c05c5694fda89ffa16d2" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1ga6e2d96963afcf43ec5dfe3d5a18d6bc6" kindref="member">cy_en_pdaltmode_mux_select_t</ref></type>
        <definition>cy_en_pdaltmode_mux_select_t Cy_PdAltMode_HW_GetMuxState</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext)</argsstring>
        <name>Cy_PdAltMode_HW_GetMuxState</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <briefdescription>
<para>Gets the current state of the MUX. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ptrAltModeContext</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the Alt Mode context</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Active MUX setting </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_hw.c" line="440" column="1" bodyfile="cy_pdaltmode_hw.c" bodystart="440" bodyend="447"/>
      </memberdef>
      <memberdef kind="function" id="group__group__pdaltmode__alt__mode__hw__functions_1ga9c8a69158389bc9aa1b7825bed6bf693" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool Cy_PdAltMode_HW_SetMux</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext, cy_en_pdaltmode_mux_select_t muxCfg, uint32_t modeVdo, uint32_t customData)</argsstring>
        <name>Cy_PdAltMode_HW_SetMux</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <param>
          <type><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1ga6e2d96963afcf43ec5dfe3d5a18d6bc6" kindref="member">cy_en_pdaltmode_mux_select_t</ref></type>
          <declname>muxCfg</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>modeVdo</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>customData</declname>
        </param>
        <briefdescription>
<para>Sets appropriate MUX configuration based on the function parameters. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ptrAltModeContext</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the Alt Mode context</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>muxCfg</parametername>
</parameternamelist>
<parameterdescription>
<para>Required MUX configuration</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>modeVdo</parametername>
</parameternamelist>
<parameterdescription>
<para>Additional VDO data related to DP/TBT/USB4 configuration</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>customData</parametername>
</parameternamelist>
<parameterdescription>
<para>Additional data in case of custom MUX configuration</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>True if MUX set passed is successful, false if MUX setting is invalid or contains unacceptable fields. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_hw.c" line="526" column="1" bodyfile="cy_pdaltmode_hw.c" bodystart="526" bodyend="665"/>
      </memberdef>
      <memberdef kind="function" id="group__group__pdaltmode__alt__mode__hw__functions_1ga2df58f7520c458afe8e79e3d2d93cffb" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>ATTRIBUTES_ALT_MODE bool</type>
        <definition>ATTRIBUTES_ALT_MODE bool Cy_PdAltMode_HW_IsIdle</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext)</argsstring>
        <name>Cy_PdAltMode_HW_IsIdle</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <briefdescription>
<para>Checks whether the ALT. </para>        </briefdescription>
        <detaileddescription>
<para>MODE hardware block is idle. This function is part of the deep sleep entry checks for the CCG device, and checks whether there are any pending ALT. MODE hardware commands that require the device to be active.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ptrAltModeContext</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the Alt Mode context</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>True if the block is idle, false otherwise. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_hw.c" line="667" column="1" bodyfile="cy_pdaltmode_hw.c" bodystart="667" bodyend="670"/>
      </memberdef>
      <memberdef kind="function" id="group__group__pdaltmode__alt__mode__hw__functions_1ga793133b85af482bc9a3e9d5385e300e5" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void Cy_PdAltMode_HW_Sleep</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext)</argsstring>
        <name>Cy_PdAltMode_HW_Sleep</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <briefdescription>
<para>Prepare the Alt Mode hardware state for device deep sleep. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ptrAltModeContext</parametername>
</parameternamelist>
<parameterdescription>
<para>PdAltMode Library context pointer</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>None </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_hw.c" line="672" column="1" bodyfile="cy_pdaltmode_hw.c" bodystart="672" bodyend="711"/>
      </memberdef>
      <memberdef kind="function" id="group__group__pdaltmode__alt__mode__hw__functions_1ga09761d6234985bc5a783e91522f6b468" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void Cy_PdAltMode_HW_Wakeup</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext)</argsstring>
        <name>Cy_PdAltMode_HW_Wakeup</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <briefdescription>
<para>Restores ALT. </para>        </briefdescription>
        <detaileddescription>
<para>MODE hardware state after device resumes from deep sleep.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ptrAltModeContext</parametername>
</parameternamelist>
<parameterdescription>
<para>PDAltMode Library context pointer</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>None </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_hw.c" line="713" column="1" bodyfile="cy_pdaltmode_hw.c" bodystart="713" bodyend="740"/>
      </memberdef>
      <memberdef kind="function" id="group__group__pdaltmode__alt__mode__hw__functions_1ga0b862c9d1a56452a4bbc158b340d8354" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool Cy_PdAltMode_HW_MuxCtrlInit</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext)</argsstring>
        <name>Cy_PdAltMode_HW_MuxCtrlInit</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <briefdescription>
<para>Initialize the Type-C Data MUX for a specific PD port. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ptrAltModeContext</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the Alt Mode context</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>True if the MUX is initialized successfully, false otherwise. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_hw.c" line="742" column="1" bodyfile="cy_pdaltmode_hw.c" bodystart="742" bodyend="746"/>
      </memberdef>
      <memberdef kind="function" id="group__group__pdaltmode__alt__mode__hw__functions_1ga97c0022e506a44754f9b9a43c79332fc" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool Cy_PdAltMode_HW_MuxCtrlSetCfg</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext, cy_en_pdaltmode_mux_select_t cfg)</argsstring>
        <name>Cy_PdAltMode_HW_MuxCtrlSetCfg</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <param>
          <type><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1ga6e2d96963afcf43ec5dfe3d5a18d6bc6" kindref="member">cy_en_pdaltmode_mux_select_t</ref></type>
          <declname>cfg</declname>
        </param>
        <briefdescription>
<para>Sets the Type-C MUX to the desired configuration. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ptrAltModeContext</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the Alt Mode context</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>cfg</parametername>
</parameternamelist>
<parameterdescription>
<para>Desired MUX configuration</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Returns true if the operation is successful, false otherwise. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_hw.c" line="749" column="1" bodyfile="cy_pdaltmode_hw.c" bodystart="749" bodyend="856"/>
      </memberdef>
      <memberdef kind="function" id="group__group__pdaltmode__alt__mode__hw__functions_1gac1b0be463e79459561ca52ab1e2ceb53" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>weak bool</type>
        <definition>weak bool Cy_PdAltMode_HW_CustomMuxSet</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext, cy_en_pdaltmode_mux_select_t muxCfg, uint32_t modeVdo, uint32_t customData)</argsstring>
        <name>Cy_PdAltMode_HW_CustomMuxSet</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <param>
          <type><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1ga6e2d96963afcf43ec5dfe3d5a18d6bc6" kindref="member">cy_en_pdaltmode_mux_select_t</ref></type>
          <declname>muxCfg</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>modeVdo</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>customData</declname>
        </param>
        <briefdescription>
<para>Custom MUX setting function which can be used to call custom MUX setting from solution layer. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ptrAltModeContext</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the Alt Mode context</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>muxCfg</parametername>
</parameternamelist>
<parameterdescription>
<para>Required MUX configuration</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>modeVdo</parametername>
</parameternamelist>
<parameterdescription>
<para>Additional VDO data related to DP/TBT/USB4 configuration</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>customData</parametername>
</parameternamelist>
<parameterdescription>
<para>Additional data in case of custom MUX configuration</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>True if MUX set passed is successful, false if MUX setting is invalid or contains unacceptable fields. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_hw.c" line="858" column="1" bodyfile="cy_pdaltmode_hw.c" bodystart="858" bodyend="866"/>
      </memberdef>
      <memberdef kind="function" id="group__group__pdaltmode__alt__mode__hw__functions_1ga1080d126d69cd3efe31e17ce2e7945a9" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool Cy_PdAltMode_HW_IsHostHpdVirtual</definition>
        <argsstring>(cy_stc_pdaltmode_context_t *ptrAltModeContext)</argsstring>
        <name>Cy_PdAltMode_HW_IsHostHpdVirtual</name>
        <param>
          <type><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref> *</type>
          <declname>ptrAltModeContext</declname>
        </param>
        <briefdescription>
<para>Checks whether the solution is configured to support virtual HPD. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ptrAltModeContext</parametername>
</parameternamelist>
<parameterdescription>
<para>PDAltMode Library context pointer</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Returns true if virtual HPD is enabled, false otherwise. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cy_pdaltmode_hw.c" line="868" column="1" bodyfile="cy_pdaltmode_hw.c" bodystart="868" bodyend="882"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para>Hardware control for Alternate Mode implementation. </para>    </briefdescription>
    <detaileddescription>
<para><simplesect kind="version"><para>1.0</para></simplesect>
<simplesect kind="copyright"><para>Copyright 2024, Cypress Semiconductor Corporation (an Infineon company) or an affiliate of Cypress Semiconductor Corporation. All rights reserved. You may use this file only in accordance with the license, terms, conditions, disclaimers, and limitations in the end user license agreement accompanying the software package with which this file was provided. </para></simplesect>
</para>    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/***************************************************************************/</highlight></codeline>
<codeline lineno="17"><highlight class="preprocessor">#include<sp/>&quot;cy_pdaltmode_defines.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_pdaltmode_hw.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_pdaltmode_mngr.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_pdstack_dpm.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_pdutils.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_pdutils_sw_timer.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_pdstack_timer_id.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_pdaltmode_timer_id.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_UFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_usbpd_hpd.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>RIDGE_SLAVE_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_pdaltmode_ridge_slave.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_pdaltmode_intel_ridge_common.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(RIDGE_SLAVE_ENABLE)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>BB_RETIMER_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_pdaltmode_bb_retimer.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>BB_RETIMER_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>AMD_SUPP_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_pdaltmode_amd.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>AMD_SUPP_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>AMD_RETIMER_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_pdaltmode_amd_retimer.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>AMD_RETIMER_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DEBUG_LOG</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;debug.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>CY_HPI_ENABLED</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cy_hpi.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>CY_HPI_ENABLED<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>HPD_GPIO_SUPP_EN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;gpio_hpd.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>HPD_GPIO_SUPP_EN<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CY_PDALTMODE_HW_MAKE_MUX_STATE(polarity,cfg)<sp/><sp/><sp/><sp/>((uint8_t)(polarity<sp/>&lt;&lt;<sp/>7U)<sp/>|<sp/>(cfg<sp/>&amp;<sp/>0x7FU))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_DFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>DFP<sp/>HPD<sp/>callback<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_HW_DpSrcHpdCbk(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<sp/>context,<sp/>cy_en_usbpd_hpd_events_t<sp/>event);</highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_DFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_UFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>UFP<sp/>HPD<sp/>callback<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_HW_DpSnkHpdCbk(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<sp/>context,<sp/>cy_en_usbpd_hpd_events_t<sp/>event);</highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_UFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Alt<sp/>Mode<sp/>HW<sp/>info<sp/>status<sp/>structure<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="structcy__stc__pdaltmode__hw__details__t" kindref="compound">cy_stc_pdaltmode_hw_details_t</ref><sp/>hwStatus[NO_OF_TYPEC_PORTS];</highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"><ref refid="structcy__stc__pdaltmode__hw__details__t" kindref="compound">cy_stc_pdaltmode_hw_details_t</ref>*<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1gae85a95014094eb8548fd5c251fc62347" kindref="member">Cy_PdAltMode_HW_GetStatus</ref>(uint8_t<sp/>port)</highlight></codeline>
<codeline lineno="76"><highlight class="normal">{</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>&amp;hwStatus[port];</highlight></codeline>
<codeline lineno="78"><highlight class="normal">}</highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight><highlight class="comment">/**********************<sp/>Function<sp/>definitions<sp/>**********************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga30a78dedcd65bea9e2a88f627cde8a94" kindref="member">Cy_PdAltMode_HW_EvalAppAltHwCmd</ref>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/>uint8_t<sp/>*cmdParam)</highlight></codeline>
<codeline lineno="82"><highlight class="normal">{</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>stat<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(!ICL_ALT_MODE_HPI_DISABLED)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(!CCG_BACKUP_FIRMWARE)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hwType,<sp/>dataRole;</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="unioncy__stc__pdaltmode__hw__evt__t" kindref="compound">cy_stc_pdaltmode_hw_evt_t</ref><sp/><sp/><sp/><sp/><sp/>cmdInfo;</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>;</highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Convert<sp/>received<sp/>cmd<sp/>bytes<sp/>as<sp/>info<sp/>and<sp/>data<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/>cmdInfo.<ref refid="unioncy__stc__pdaltmode__hw__evt__t_1aa2dc9c519e9beb81f29661240bec963d" kindref="member">val</ref><sp/><sp/>=<sp/>CY_PDUTILS_MAKE_DWORD(cmdParam[3],<sp/>cmdParam[2],<sp/>cmdParam[1],<sp/>cmdParam[0]);</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/>hwType<sp/><sp/><sp/>=<sp/>(uint8_t)cmdInfo.<ref refid="unioncy__stc__pdaltmode__hw__evt__t_1ab5b58c33de0608ca301ee6a0c5ecc71c" kindref="member">hw_evt</ref>.<ref refid="structcy__stc__pdaltmode__hw__evt__t_1_1_a_l_t___m_o_d_e___h_w___e_v_t_1a5bbcfb13ebece1234818230d182252a4" kindref="member">hwType</ref>;</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/>dataRole<sp/>=<sp/>(uint8_t)cmdInfo.<ref refid="unioncy__stc__pdaltmode__hw__evt__t_1ab5b58c33de0608ca301ee6a0c5ecc71c" kindref="member">hw_evt</ref>.<ref refid="structcy__stc__pdaltmode__hw__evt__t_1_1_a_l_t___m_o_d_e___h_w___e_v_t_1a93f4269b4eb5dfb46b489fbacd225882" kindref="member">dataRole</ref>;</highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(dataRole<sp/>==<sp/>(uint8_t)ptrPdStackContext-&gt;dpmConfig.curPortType)</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(hwType)</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>(uint8_t)<ref refid="group__group__pdaltmode__alt__mode__hw__enums_1ggad489a8fd1dc8526f0a1c1cd277355495a4dd24b5fc952ca34cd90d8c180b248b1" kindref="member">CY_PDALTMODE_MUX</ref>:</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stat<sp/>=<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga6f2e57687b011f4861956264a579295a" kindref="member">Cy_PdAltMode_HW_EvalMuxCmd</ref>(ptrAltModeContext,<sp/>cmdInfo.<ref refid="unioncy__stc__pdaltmode__hw__evt__t_1ab5b58c33de0608ca301ee6a0c5ecc71c" kindref="member">hw_evt</ref>.<ref refid="structcy__stc__pdaltmode__hw__evt__t_1_1_a_l_t___m_o_d_e___h_w___e_v_t_1a72a16f4ef9d7e0a03061b9c8edf8ad9d" kindref="member">evtData</ref>);</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>((DP_DFP_SUPP)<sp/>||<sp/>(DP_UFP_SUPP))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>(uint8_t)<ref refid="group__group__pdaltmode__alt__mode__hw__enums_1ggad489a8fd1dc8526f0a1c1cd277355495aae63017bf66dcf602bcf5c585342e11c" kindref="member">CY_PDALTMODE_HPD</ref>:</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stat<sp/>=<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga15b7aab673225200d6a7971187be489d" kindref="member">Cy_PdAltMode_HW_EvalHpdCmd</ref>(ptrAltModeContext,<sp/>cmdInfo.<ref refid="unioncy__stc__pdaltmode__hw__evt__t_1ab5b58c33de0608ca301ee6a0c5ecc71c" kindref="member">hw_evt</ref>.<ref refid="structcy__stc__pdaltmode__hw__evt__t_1_1_a_l_t___m_o_d_e___h_w___e_v_t_1a72a16f4ef9d7e0a03061b9c8edf8ad9d" kindref="member">evtData</ref>);</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(DP_DFP_SUPP)<sp/>||<sp/>(DP_UFP_SUPP)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Intentionally<sp/>left<sp/>empty<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(!CCG_BACKUP_FIRMWARE)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(!ICL_ALT_MODE_HPI_DISABLED)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>stat;</highlight></codeline>
<codeline lineno="119"><highlight class="normal">}</highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(!CCG_BACKUP_FIRMWARE)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga6f2e57687b011f4861956264a579295a" kindref="member">Cy_PdAltMode_HW_EvalMuxCmd</ref>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/>uint32_t<sp/>cmd)</highlight></codeline>
<codeline lineno="123"><highlight class="normal">{</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cmd<sp/>&lt;<sp/>(uint32_t)<ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6a743a2a853de00f7e298790af8dbd35d9" kindref="member">CY_PDALTMODE_MUX_CONFIG_RIDGE_CUSTOM</ref>)</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga9c8a69158389bc9aa1b7825bed6bf693" kindref="member">Cy_PdAltMode_HW_SetMux</ref>(ptrAltModeContext,<sp/>(<ref refid="group__group__pdaltmode__alt__mode__hw__enums_1ga6e2d96963afcf43ec5dfe3d5a18d6bc6" kindref="member">cy_en_pdaltmode_mux_select_t</ref>)cmd,<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>,<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>);</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="130"><highlight class="normal">}</highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(!CCG_BACKUP_FIRMWARE)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>((DP_DFP_SUPP)<sp/>||<sp/>(DP_UFP_SUPP))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga7a6ecd09088ea0c1c52c28c02e05fe23" kindref="member">Cy_PdAltMode_HW_SetCbk</ref>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__data__structures_1gaf0f78ba2b33773b1ebd9801120c02d78" kindref="member">cy_pdaltmode_hw_cmd_cbk_t</ref><sp/>cbk)</highlight></codeline>
<codeline lineno="135"><highlight class="normal">{</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Register<sp/>the<sp/>callback<sp/>if<sp/>the<sp/>port<sp/>is<sp/>valid<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;port<sp/>&lt;<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a35f7d32a2f42b36992cf929c7cb62629" kindref="member">noOfTypeCPorts</ref>)</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a22c9ff301a8608bcfea5b9811a1b8add" kindref="member">hwCmdCbk</ref><sp/>=<sp/>cbk;</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="141"><highlight class="normal">}</highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga15b7aab673225200d6a7971187be489d" kindref="member">Cy_PdAltMode_HW_EvalHpdCmd</ref>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/>uint32_t<sp/>cmd)</highlight></codeline>
<codeline lineno="144"><highlight class="normal">{</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>;</highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(VIRTUAL_HPD_ENABLE)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>virtualHpd<sp/>=<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga1080d126d69cd3efe31e17ce2e7945a9" kindref="member">Cy_PdAltMode_HW_IsHostHpdVirtual</ref>(ptrAltModeContext);</highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>((VIRTUAL_HPD_ENABLE)<sp/>&amp;&amp;<sp/>(!ICL_ENABLE))<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cmd<sp/>==<sp/><ref refid="group__group__pdaltmode__common__macros_1gaae7db566d15dc30c7816e7576ee8a8bc" kindref="member">CY_PDALTMODE_HPD_DISABLE_CMD</ref>)</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a312669392658f94717ac4d8a252070f3" kindref="member">altModeCmdPending</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>AMD_RETIMER_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_AmdRetimer_SetHpd<sp/>(ptrAltModeContext,<sp/>CY_USBPD_HPD_EVENT_UNPLUG);</highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>AMD_RETIMER_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>VIRTUAL_HPD_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(virtualHpd)</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__intel__functions_1gaeff7c8076b6c8fda68bddd3248775461" kindref="member">Cy_PdAltMode_Ridge_HpdDeInit</ref>(ptrAltModeContext);</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="163"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>VIRTUAL_HPD_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="165"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!HPD_GPIO_SUPP_EN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)Cy_USBPD_Hpd_Deinit(ptrPdStackContext-&gt;ptrUsbPdContext);</highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_USBPD_GPIO_Hpd_Deinit<sp/>(ptrAltModeContext);</highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>!HPD_GPIO_SUPP_EN<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="174"><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_DFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(ptrPdStackContext-&gt;dpmConfig.curPortType<sp/>!=<sp/>CY_PD_PRT_TYPE_UFP)</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cmd<sp/>==<sp/><ref refid="group__group__pdaltmode__common__macros_1ga373274ff41465dbae5868dcaeacee829" kindref="member">CY_PDALTMODE_HPD_ENABLE_CMD</ref>)</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a312669392658f94717ac4d8a252070f3" kindref="member">altModeCmdPending</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>AMD_RETIMER_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_AmdRetimer_SetHpd<sp/>(ptrAltModeContext,<sp/>CY_USBPD_HPD_EVENT_NONE);</highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>AMD_RETIMER_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="185"><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>VIRTUAL_HPD_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(virtualHpd)</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)<ref refid="group__group__pdaltmode__intel__functions_1ga386c4053897bae0aa6856fdbcd56bd86" kindref="member">Cy_PdAltMode_Ridge_HpdInit</ref>(ptrAltModeContext,<sp/>Cy_PdAltMode_HW_DpSrcHpdCbk);</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>VIRTUAL_HPD_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="194"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!HPD_GPIO_SUPP_EN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)Cy_USBPD_Hpd_TransmitInit(ptrPdStackContext-&gt;ptrUsbPdContext<sp/>,<sp/>Cy_PdAltMode_HW_DpSrcHpdCbk);</highlight></codeline>
<codeline lineno="196"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_USBPD_GPIO_Hpd_TransmitInit(ptrPdStackContext-&gt;ptrUsbPdContext<sp/>,<sp/>Cy_PdAltMode_HW_DpSrcHpdCbk);</highlight></codeline>
<codeline lineno="198"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>!HPD_GPIO_SUPP_EN<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="200"><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((cmd<sp/>&lt;<sp/><ref refid="group__group__pdaltmode__common__macros_1gaae7db566d15dc30c7816e7576ee8a8bc" kindref="member">CY_PDALTMODE_HPD_DISABLE_CMD</ref>)<sp/>&amp;&amp;<sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a22c9ff301a8608bcfea5b9811a1b8add" kindref="member">hwCmdCbk</ref><sp/>!=<sp/>NULL))</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a312669392658f94717ac4d8a252070f3" kindref="member">altModeCmdPending</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a8c08cfb1a182b6befb91682f41c3fadd" kindref="member">altModeHpdState</ref><sp/>=<sp/>(cy_en_usbpd_hpd_events_t)cmd;</highlight></codeline>
<codeline lineno="209"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>VIRTUAL_HPD_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(virtualHpd)</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)<ref refid="group__group__pdaltmode__intel__functions_1ga726af0fb2c58fc1dfbd0f0c36af579dc" kindref="member">Cy_PdAltMode_Ridge_HpdSendEvt</ref>(ptrAltModeContext,<sp/>(cy_en_usbpd_hpd_events_t)cmd);</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>VIRTUAL_HPD_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="217"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!HPD_GPIO_SUPP_EN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)Cy_USBPD_Hpd_TransmitSendevt(ptrPdStackContext-&gt;ptrUsbPdContext,<sp/>(cy_en_usbpd_hpd_events_t)<sp/>cmd);</highlight></codeline>
<codeline lineno="219"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_USBPD_GPIO_Hpd_TransmitSendevt(ptrPdStackContext,<sp/>(cy_en_usbpd_hpd_events_t)<sp/>cmd);</highlight></codeline>
<codeline lineno="221"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>!HPD_GPIO_SUPP_EN<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="223"><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_DFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_UFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(ptrPdStackContext-&gt;dpmConfig.curPortType<sp/>==<sp/>CY_PD_PRT_TYPE_UFP)</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cmd<sp/>==<sp/><ref refid="group__group__pdaltmode__common__macros_1ga373274ff41465dbae5868dcaeacee829" kindref="member">CY_PDALTMODE_HPD_ENABLE_CMD</ref>)</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>VIRTUAL_HPD_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(virtualHpd)</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)<ref refid="group__group__pdaltmode__intel__functions_1ga386c4053897bae0aa6856fdbcd56bd86" kindref="member">Cy_PdAltMode_Ridge_HpdInit</ref>(ptrAltModeContext,<sp/>Cy_PdAltMode_HW_DpSnkHpdCbk);</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="241"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>VIRTUAL_HPD_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a8c08cfb1a182b6befb91682f41c3fadd" kindref="member">altModeHpdState</ref><sp/>=<sp/>CY_USBPD_HPD_EVENT_UNPLUG;</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)Cy_USBPD_Hpd_ReceiveInit(ptrPdStackContext-&gt;ptrUsbPdContext,<sp/>Cy_PdAltMode_HW_DpSnkHpdCbk);</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="246"><highlight class="normal"></highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="249"><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>VIRTUAL_HPD_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((virtualHpd)<sp/>&amp;&amp;<sp/>(cmd<sp/>==<sp/>(uint32_t)CY_USBPD_HPD_COMMAND_DONE))</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)<ref refid="group__group__pdaltmode__intel__functions_1ga726af0fb2c58fc1dfbd0f0c36af579dc" kindref="member">Cy_PdAltMode_Ridge_HpdSendEvt</ref>(ptrAltModeContext,<sp/>(cy_en_usbpd_hpd_events_t)cmd);</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="255"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>VIRTUAL_HPD_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="257"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_UFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"></highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="260"><highlight class="normal">}</highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(DP_DFP_SUPP)<sp/>||<sp/>(DP_UFP_SUPP)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"></highlight></codeline>
<codeline lineno="264"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_UFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="265"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_HW_DpSnkHpdCbk(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*context,<sp/>cy_en_usbpd_hpd_events_t<sp/>event)</highlight></codeline>
<codeline lineno="266"><highlight class="normal">{</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_usbpd_context_t<sp/>*ptrUsbpdContext<sp/>=<sp/>(cy_stc_usbpd_context_t<sp/>*)<sp/>context;</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>ptrUsbpdContext-&gt;pdStackContext;</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext<sp/>=<sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*)ptrPdStackContext-&gt;ptrAltModeContext;</highlight></codeline>
<codeline lineno="270"><highlight class="normal"></highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="unioncy__stc__pdaltmode__hw__evt__t" kindref="compound">cy_stc_pdaltmode_hw_evt_t</ref><sp/>altModeHwData;</highlight></codeline>
<codeline lineno="272"><highlight class="normal"></highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>(((uint8_t)</highlight><highlight class="keyword">event</highlight><highlight class="normal"><sp/>&gt;<sp/><ref refid="group__group__pdaltmode__common__macros_1ga373274ff41465dbae5868dcaeacee829" kindref="member">CY_PDALTMODE_HPD_ENABLE_CMD</ref>)<sp/>&amp;&amp;<sp/>((uint8_t)</highlight><highlight class="keyword">event</highlight><highlight class="normal"><sp/>&lt;<sp/><ref refid="group__group__pdaltmode__common__macros_1gaae7db566d15dc30c7816e7576ee8a8bc" kindref="member">CY_PDALTMODE_HPD_DISABLE_CMD</ref>))</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>altModeHwData.<ref refid="unioncy__stc__pdaltmode__hw__evt__t_1ab5b58c33de0608ca301ee6a0c5ecc71c" kindref="member">hw_evt</ref>.<ref refid="structcy__stc__pdaltmode__hw__evt__t_1_1_a_l_t___m_o_d_e___h_w___e_v_t_1a93f4269b4eb5dfb46b489fbacd225882" kindref="member">dataRole</ref><sp/>=<sp/>(uint32_t)CY_PD_PRT_TYPE_UFP;</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>altModeHwData.hw_evt.hwType<sp/><sp/><sp/>=<sp/>(uint32_t)<ref refid="group__group__pdaltmode__alt__mode__hw__enums_1ggad489a8fd1dc8526f0a1c1cd277355495aae63017bf66dcf602bcf5c585342e11c" kindref="member">CY_PDALTMODE_HPD</ref>;</highlight></codeline>
<codeline lineno="277"><highlight class="normal"></highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Save<sp/>first<sp/>4<sp/>bytes<sp/>of<sp/>event<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>altModeHwData.hw_evt.evtData<sp/>=<sp/>(uint32_t)event;</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a384677ff7f8ed420f61f851a82c973cd" kindref="member">hwSlnData</ref><sp/>=<sp/>(uint32_t)altModeHwData.val;</highlight></codeline>
<codeline lineno="281"><highlight class="normal"></highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Store<sp/>current<sp/>HPD<sp/>event<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a8c08cfb1a182b6befb91682f41c3fadd" kindref="member">altModeHpdState</ref><sp/>=<sp/>(cy_en_usbpd_hpd_events_t)event;</highlight></codeline>
<codeline lineno="284"><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Call<sp/>the<sp/>event<sp/>callback,<sp/>if<sp/>it<sp/>exists<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a22c9ff301a8608bcfea5b9811a1b8add" kindref="member">hwCmdCbk</ref><sp/>!=<sp/>NULL)</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a22c9ff301a8608bcfea5b9811a1b8add" kindref="member">hwCmdCbk</ref>(ptrAltModeContext,<sp/>altModeHwData.val);</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(event<sp/>==<sp/>CY_USBPD_HPD_INPUT_CHANGE)</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="294"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>Start<sp/>HPD<sp/>ACTIVITY<sp/>TIMER<sp/>to<sp/>prevent<sp/>re-entry<sp/>into<sp/>deep<sp/>sleep.</highlight></codeline>
<codeline lineno="295"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>HPD<sp/>RX<sp/>hardware<sp/>block<sp/>can&apos;t<sp/>detect<sp/>HPD<sp/>events<sp/>if<sp/>device<sp/>enters</highlight></codeline>
<codeline lineno="296"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>deepsleep<sp/>while<sp/>HPD<sp/>state<sp/>is<sp/>changing<sp/>(or<sp/>if<sp/>HPD<sp/>is<sp/>HIGH).</highlight></codeline>
<codeline lineno="297"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>If<sp/>HPD<sp/>is<sp/>not<sp/>connected,<sp/>timer<sp/>period<sp/>shall<sp/>be<sp/>100<sp/>ms</highlight></codeline>
<codeline lineno="298"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>(this<sp/>is<sp/>the<sp/>default<sp/>minimum<sp/>HPD<sp/>Connect<sp/>debounce<sp/>time).</highlight></codeline>
<codeline lineno="299"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>Otherwise,<sp/>timer<sp/>period<sp/>is<sp/>5<sp/>ms<sp/>(this<sp/>is<sp/>large<sp/>enough</highlight></codeline>
<codeline lineno="300"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>to<sp/>capture<sp/>HPD<sp/>LOW<sp/>and<sp/>IRQ<sp/>events.</highlight></codeline>
<codeline lineno="301"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga239f8abedb3eb591e01a5ba59251ccc1" kindref="member">Cy_PdAltMode_HW_DpSnkGetHpdState</ref>(ptrAltModeContext)<sp/>==<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Start<sp/>a<sp/>timer<sp/>of<sp/>100<sp/>ms<sp/>to<sp/>prevent<sp/>deep<sp/>sleep<sp/>entry<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)TIMER_CALL_MAP(Cy_PdUtils_SwTimer_StartWocb)(ptrPdStackContext-&gt;ptrTimerContext,</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDSTACK_GET_PD_TIMER_ID(ptrPdStackContext,<sp/>(uint16_t)CY_PDSTACK_HPD_RX_ACTIVITY_TIMER_ID),<sp/>CY_PD_HPD_RX_ACTIVITY_TIMER_PERIOD_MAX);</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)TIMER_CALL_MAP(Cy_PdUtils_SwTimer_StartWocb)(ptrPdStackContext-&gt;ptrTimerContext,</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDSTACK_GET_PD_TIMER_ID(ptrPdStackContext,<sp/>(uint16_t)CY_PDSTACK_HPD_RX_ACTIVITY_TIMER_ID),<sp/>CY_PD_HPD_RX_ACTIVITY_TIMER_PERIOD_MIN);</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="314"><highlight class="normal">}</highlight></codeline>
<codeline lineno="315"><highlight class="normal"></highlight></codeline>
<codeline lineno="316"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga239f8abedb3eb591e01a5ba59251ccc1" kindref="member">Cy_PdAltMode_HW_DpSnkGetHpdState</ref>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext)</highlight></codeline>
<codeline lineno="317"><highlight class="normal">{</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="319"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>Return<sp/>HPD<sp/>state<sp/>based<sp/>on<sp/>last<sp/>HPD<sp/>event<sp/>from<sp/>HAL.</highlight></codeline>
<codeline lineno="320"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>If<sp/>last<sp/>event<sp/>was<sp/>UNPLUG,<sp/>HPD<sp/>is<sp/>not<sp/>connected.<sp/>If<sp/>it<sp/>was</highlight></codeline>
<codeline lineno="321"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>PLUG<sp/>or<sp/>IRQ,<sp/>HPD<sp/>is<sp/>connected.</highlight></codeline>
<codeline lineno="322"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a8c08cfb1a182b6befb91682f41c3fadd" kindref="member">altModeHpdState</ref><sp/>==<sp/>CY_USBPD_HPD_EVENT_UNPLUG)<sp/>||</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a8c08cfb1a182b6befb91682f41c3fadd" kindref="member">altModeHpdState</ref><sp/>==<sp/>CY_USBPD_HPD_EVENT_NONE)</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="334"><highlight class="normal">}</highlight></codeline>
<codeline lineno="335"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_UFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="336"><highlight class="normal"></highlight></codeline>
<codeline lineno="337"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_DFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="338"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_HW_DpSrcHpdCbk(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*context,<sp/>cy_en_usbpd_hpd_events_t<sp/>event)</highlight></codeline>
<codeline lineno="339"><highlight class="normal">{</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_usbpd_context_t<sp/>*ptrUsbpdContext<sp/>=<sp/>(cy_stc_usbpd_context_t<sp/>*)<sp/>context;</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>ptrUsbpdContext-&gt;pdStackContext;</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext<sp/>=<sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*)ptrPdStackContext-&gt;ptrAltModeContext;</highlight></codeline>
<codeline lineno="343"><highlight class="normal"></highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>((cy_en_usbpd_hpd_events_t)</highlight><highlight class="keyword">event</highlight><highlight class="normal"><sp/>==<sp/>CY_USBPD_HPD_COMMAND_DONE)</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="346"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(!ICL_ALT_MODE_HPI_DISABLED)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="unioncy__stc__pdaltmode__hw__evt__t" kindref="compound">cy_stc_pdaltmode_hw_evt_t</ref><sp/>altModeHwData;</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="349"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>AMD_RETIMER_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Process<sp/>HPD<sp/>signal<sp/>to<sp/>Retimer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a8c08cfb1a182b6befb91682f41c3fadd" kindref="member">altModeHpdState</ref><sp/>==<sp/>CY_USBPD_HPD_EVENT_PLUG)<sp/>||</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a8c08cfb1a182b6befb91682f41c3fadd" kindref="member">altModeHpdState</ref><sp/>==<sp/>CY_USBPD_HPD_EVENT_UNPLUG)</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_AmdRetimer_SetHpd<sp/>(ptrAltModeContext,<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a8c08cfb1a182b6befb91682f41c3fadd" kindref="member">altModeHpdState</ref>);</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="358"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>AMD_RETIMER_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="359"><highlight class="normal"></highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Alt<sp/>Mode<sp/>command<sp/>completed<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a312669392658f94717ac4d8a252070f3" kindref="member">altModeCmdPending</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="362"><highlight class="normal"></highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>data<sp/>role<sp/>and<sp/>HW<sp/>type<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>altModeHwData.<ref refid="unioncy__stc__pdaltmode__hw__evt__t_1ab5b58c33de0608ca301ee6a0c5ecc71c" kindref="member">hw_evt</ref>.<ref refid="structcy__stc__pdaltmode__hw__evt__t_1_1_a_l_t___m_o_d_e___h_w___e_v_t_1a93f4269b4eb5dfb46b489fbacd225882" kindref="member">dataRole</ref><sp/>=<sp/>(uint32_t)CY_PD_PRT_TYPE_DFP;</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>altModeHwData.<ref refid="unioncy__stc__pdaltmode__hw__evt__t_1ab5b58c33de0608ca301ee6a0c5ecc71c" kindref="member">hw_evt</ref>.<ref refid="structcy__stc__pdaltmode__hw__evt__t_1_1_a_l_t___m_o_d_e___h_w___e_v_t_1a5bbcfb13ebece1234818230d182252a4" kindref="member">hwType</ref><sp/><sp/><sp/>=<sp/>(uint32_t)<ref refid="group__group__pdaltmode__alt__mode__hw__enums_1ggad489a8fd1dc8526f0a1c1cd277355495aae63017bf66dcf602bcf5c585342e11c" kindref="member">CY_PDALTMODE_HPD</ref>;</highlight></codeline>
<codeline lineno="366"><highlight class="normal"></highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>HPD<sp/>command<sp/>done<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>altModeHwData.<ref refid="unioncy__stc__pdaltmode__hw__evt__t_1ab5b58c33de0608ca301ee6a0c5ecc71c" kindref="member">hw_evt</ref>.<ref refid="structcy__stc__pdaltmode__hw__evt__t_1_1_a_l_t___m_o_d_e___h_w___e_v_t_1a72a16f4ef9d7e0a03061b9c8edf8ad9d" kindref="member">evtData</ref><sp/>=<sp/>(uint32_t)event;</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a384677ff7f8ed420f61f851a82c973cd" kindref="member">hwSlnData</ref><sp/>=<sp/>(uint32_t)altModeHwData.<ref refid="unioncy__stc__pdaltmode__hw__evt__t_1aa2dc9c519e9beb81f29661240bec963d" kindref="member">val</ref>;</highlight></codeline>
<codeline lineno="370"><highlight class="normal"></highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Call<sp/>the<sp/>event<sp/>callback,<sp/>if<sp/>it<sp/>exists<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a22c9ff301a8608bcfea5b9811a1b8add" kindref="member">hwCmdCbk</ref><sp/>!=<sp/>NULL)</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a22c9ff301a8608bcfea5b9811a1b8add" kindref="member">hwCmdCbk</ref><sp/>(ptrAltModeContext,<sp/>altModeHwData.<ref refid="unioncy__stc__pdaltmode__hw__evt__t_1aa2dc9c519e9beb81f29661240bec963d" kindref="member">val</ref>);</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="376"><highlight class="normal"></highlight></codeline>
<codeline lineno="377"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Alt<sp/>Mode<sp/>command<sp/>completed<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a312669392658f94717ac4d8a252070f3" kindref="member">altModeCmdPending</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Call<sp/>the<sp/>event<sp/>callback,<sp/>if<sp/>it<sp/>exists<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a22c9ff301a8608bcfea5b9811a1b8add" kindref="member">hwCmdCbk</ref><sp/>!=<sp/>NULL)</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a22c9ff301a8608bcfea5b9811a1b8add" kindref="member">hwCmdCbk</ref><sp/>(ptrAltModeContext,<sp/>altModeHwData.<ref refid="unioncy__stc__pdaltmode__hw__evt__t_1aa2dc9c519e9beb81f29661240bec963d" kindref="member">val</ref>);</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="385"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(!ICL_ALT_MODE_HPI_DISABLED)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="387"><highlight class="normal">}</highlight></codeline>
<codeline lineno="388"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_DFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="389"><highlight class="normal"></highlight></codeline>
<codeline lineno="390"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga663c36b739760f4682755262bb98d18e" kindref="member">Cy_PdAltMode_HW_DeInit</ref>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext)</highlight></codeline>
<codeline lineno="391"><highlight class="normal">{</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1ga6e2d96963afcf43ec5dfe3d5a18d6bc6" kindref="member">cy_en_pdaltmode_mux_select_t</ref><sp/>cfg<sp/>=<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6a9821c57d38fa26bbb56d05fa8de673eb" kindref="member">CY_PDALTMODE_MUX_CONFIG_SAFE</ref>;</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>;</highlight></codeline>
<codeline lineno="394"><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>we<sp/>still<sp/>have<sp/>a<sp/>device<sp/>connected,<sp/>switch<sp/>MUX<sp/>to<sp/>USB<sp/>mode<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(ptrPdStackContext-&gt;dpmConfig.attach)</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(ptrPdStackContext-&gt;dpmStat.faultActive<sp/>==<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cfg<sp/>=<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6a1bcda475ec873920e65bb3dc7f397656" kindref="member">CY_PDALTMODE_MUX_CONFIG_SS_ONLY</ref>;</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="404"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>ICL_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a114d59eee5374c695d29a049257e17b2" kindref="member">iclCfg</ref>-&gt;platform_selection<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>In<sp/>fault<sp/>condition,<sp/>switch<sp/>MUX<sp/>to<sp/>isolate<sp/>state<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cfg<sp/>=<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6a534d4e763bd10e41f9fb90271aae956d" kindref="member">CY_PDALTMODE_MUX_CONFIG_ISOLATE</ref>;</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="410"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>ICL_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="413"><highlight class="normal"></highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Enable<sp/>the<sp/>desired<sp/>connection<sp/>for<sp/>the<sp/>high<sp/>speed<sp/>data<sp/>lines<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)<ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga9c8a69158389bc9aa1b7825bed6bf693" kindref="member">Cy_PdAltMode_HW_SetMux</ref>(ptrAltModeContext,<sp/>cfg,<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>,<sp/><ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref>);</highlight></codeline>
<codeline lineno="416"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>((DP_DFP_SUPP)<sp/>||<sp/>(DP_UFP_SUPP))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="418"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>VIRTUAL_HPD_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga1080d126d69cd3efe31e17ce2e7945a9" kindref="member">Cy_PdAltMode_HW_IsHostHpdVirtual</ref><sp/>(ptrAltModeContext))</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__intel__functions_1gaeff7c8076b6c8fda68bddd3248775461" kindref="member">Cy_PdAltMode_Ridge_HpdDeInit</ref>(ptrAltModeContext);</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="424"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>VIRTUAL_HPD_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="426"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!HPD_GPIO_SUPP_EN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)Cy_USBPD_Hpd_Deinit(ptrPdStackContext-&gt;ptrUsbPdContext);</highlight></codeline>
<codeline lineno="428"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_USBPD_GPIO_Hpd_Deinit<sp/>(ptrAltModeContext);</highlight></codeline>
<codeline lineno="430"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>!HPD_GPIO_SUPP_EN<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="432"><highlight class="normal"></highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Clear<sp/>state<sp/>variables<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a312669392658f94717ac4d8a252070f3" kindref="member">altModeCmdPending</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a8c08cfb1a182b6befb91682f41c3fadd" kindref="member">altModeHpdState</ref><sp/><sp/><sp/>=<sp/>CY_USBPD_HPD_EVENT_NONE;</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a22c9ff301a8608bcfea5b9811a1b8add" kindref="member">hwCmdCbk</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="437"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(DP_DFP_SUPP)<sp/>||<sp/>(DP_UFP_SUPP)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="438"><highlight class="normal">}</highlight></codeline>
<codeline lineno="439"><highlight class="normal"></highlight></codeline>
<codeline lineno="440"><highlight class="normal"><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1ga6e2d96963afcf43ec5dfe3d5a18d6bc6" kindref="member">cy_en_pdaltmode_mux_select_t</ref><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga8735270afda6c05c5694fda89ffa16d2" kindref="member">Cy_PdAltMode_HW_GetMuxState</ref>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext)</highlight></codeline>
<codeline lineno="441"><highlight class="normal">{</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;port<sp/>&lt;<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a35f7d32a2f42b36992cf929c7cb62629" kindref="member">noOfTypeCPorts</ref>)</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a895ba5492e974d13046b4d00de1bc076" kindref="member">appMuxState</ref>);</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(<ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6a534d4e763bd10e41f9fb90271aae956d" kindref="member">CY_PDALTMODE_MUX_CONFIG_ISOLATE</ref>);</highlight></codeline>
<codeline lineno="447"><highlight class="normal">}</highlight></codeline>
<codeline lineno="448"><highlight class="normal"></highlight></codeline>
<codeline lineno="449"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>MUX_DELAY_EN<sp/>&amp;&amp;<sp/>!GATKEX_CREEK</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="450"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_HW_MuxDelayCbk<sp/>(cy_timer_id_t<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<sp/>ptrContext)</highlight></codeline>
<codeline lineno="451"><highlight class="normal">{</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>(cy_stc_pdstack_context_t<sp/>*)<sp/>ptrContext;</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext<sp/>=<sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*)ptrPdStackContext-&gt;ptrAltModeContext;</highlight></codeline>
<codeline lineno="455"><highlight class="normal"></highlight></codeline>
<codeline lineno="456"><highlight class="normal">#</highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>MUX_POLL_EN</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Stop<sp/>Delay<sp/>timer:<sp/>Possibility<sp/>where<sp/>this<sp/>function<sp/>is<sp/>called<sp/>manually<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Stop)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881ae4011f04142b5a9b9cfcec80dcf0a93c" kindref="member">CY_PDALTMODE_MUX_DELAY_TIMER</ref>));</highlight></codeline>
<codeline lineno="459"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>MUX_POLL_EN<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="460"><highlight class="normal"></highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Clear<sp/>the<sp/>MUX<sp/>busy<sp/>flag<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a752511e4e69be13d3d08a7e606090361" kindref="member">isMuxBusy</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="463"><highlight class="normal"></highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>VDM<sp/>response<sp/>has<sp/>been<sp/>delayed,<sp/>send<sp/>it<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aba3f2832d6acbf0f5c866d67f8e0090b" kindref="member">appStatusContext</ref>-&gt;isVdmPending<sp/>!=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aba3f2832d6acbf0f5c866d67f8e0090b" kindref="member">appStatusContext</ref>-&gt;vdmRespCbk(ptrPdStackContext,<sp/>&amp;ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aba3f2832d6acbf0f5c866d67f8e0090b" kindref="member">appStatusContext</ref>-&gt;vdmResp);</highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aba3f2832d6acbf0f5c866d67f8e0090b" kindref="member">appStatusContext</ref>-&gt;isVdmPending<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a752511e4e69be13d3d08a7e606090361" kindref="member">isMuxBusy</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="471"><highlight class="normal"></highlight></codeline>
<codeline lineno="472"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>MUX_POLL_EN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Stop)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881ae4f50104a124c127d3903f7973685b00" kindref="member">CY_PDALTMODE_MUX_POLL_TIMER</ref>));</highlight></codeline>
<codeline lineno="474"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(CY_HPI_ENABLED)<sp/>&amp;&amp;<sp/>(CY_HPI_PD_ENABLE)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Send<sp/>MUX<sp/>Error<sp/>notification<sp/>if<sp/>MUX<sp/>failed<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aba3f2832d6acbf0f5c866d67f8e0090b" kindref="member">appStatusContext</ref>-&gt;vdmResp.respBuf[CY_PD_VDM_HEADER_IDX].std_vdm_hdr.cmdType<sp/>==<sp/>CY_PDSTACK_CMD_TYPE_RESP_NAK)<sp/>||</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1aba3f2832d6acbf0f5c866d67f8e0090b" kindref="member">appStatusContext</ref>-&gt;vdmResp.respBuf[CY_PD_VDM_HEADER_IDX].std_vdm_hdr.cmdType<sp/>==<sp/>CY_PDSTACK_CMD_TYPE_RESP_BUSY)</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Notify<sp/>the<sp/>EC<sp/>if<sp/>there<sp/>is<sp/>a<sp/>MUX<sp/>access<sp/>error<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>HPI_CALL_MAP(Cy_Hpi_SendHwErrorEvent)(ptrPdStackContext-&gt;ptrHpiContext,<sp/>ptrPdStackContext-&gt;port,<sp/>CY_HPI_SYS_HW_ERROR_MUX_ACCESS);</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="484"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(CY_HPI_ENABLED)<sp/>&amp;&amp;<sp/>(CY_HPI_PD_ENABLE)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="485"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>MUX_POLL_EN<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="486"><highlight class="normal">}</highlight></codeline>
<codeline lineno="487"><highlight class="normal"></highlight></codeline>
<codeline lineno="488"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>MUX_POLL_EN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="489"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Cy_PdAltMode_HW_MuxPollCbk<sp/>(cy_timer_id_t<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<sp/>ptrContext)</highlight></codeline>
<codeline lineno="490"><highlight class="normal">{</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="492"><highlight class="normal"></highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>(cy_stc_pdstack_context_t<sp/>*)<sp/>ptrContext;</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext<sp/>=<sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*)ptrPdStackContext-&gt;ptrAltModeContext;</highlight></codeline>
<codeline lineno="495"><highlight class="normal"></highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/>mux_poll_status_t<sp/>muxStat;</highlight></codeline>
<codeline lineno="497"><highlight class="normal"></highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a208505b45fd2e99a8a5a1eee7270befb" kindref="member">muxPollCbk</ref><sp/>!=<sp/>NULL)</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Run<sp/>and<sp/>analyse<sp/>MUX<sp/>polling<sp/>function<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>muxStat<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a208505b45fd2e99a8a5a1eee7270befb" kindref="member">muxPollCbk</ref>(ptrAltModeContext);</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(muxStat)</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>APP_MUX_STATE_FAIL:</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Save<sp/>status<sp/>and<sp/>goto<sp/>MUX<sp/>handler<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>app_stat-&gt;appStatusContext-&gt;respBuf[CY_PD_VDM_HEADER_IDX].std_vdm_hdr.cmdType<sp/>=<sp/>CY_PDSTACK_CMD_TYPE_RESP_NAK;</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_HW_MuxDelayCbk(<ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881ae4011f04142b5a9b9cfcec80dcf0a93c" kindref="member">CY_PDALTMODE_MUX_DELAY_TIMER</ref>,<sp/>ptrPdStackContext);</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>APP_MUX_STATE_SUCCESS:</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Save<sp/>status<sp/>and<sp/>goto<sp/>MUX<sp/>handler<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>app_stat-&gt;appStatusContext-&gt;respBuf[CY_PD_VDM_HEADER_IDX].std_vdm_hdr.cmdType<sp/>=<sp/>CY_PDSTACK_CMD_TYPE_RESP_ACK;</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_PdAltMode_HW_MuxDelayCbk(<ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881ae4011f04142b5a9b9cfcec80dcf0a93c" kindref="member">CY_PDALTMODE_MUX_DELAY_TIMER</ref>,<sp/>ptrPdStackContext);</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Run<sp/>polling<sp/>again<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>app_stat-&gt;appStatusContext-&gt;respBuf[CY_PD_VDM_HEADER_IDX].std_vdm_hdr.cmdType<sp/>=<sp/>CY_PDSTACK_CMD_TYPE_RESP_BUSY;</highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)(ptrPdStackContext-&gt;ptrTimerContext,<sp/>ptrPdStackContext,</highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDALTMODE_GET_TIMER_ID(ptrPdStackContext,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881ae4f50104a124c127d3903f7973685b00" kindref="member">CY_PDALTMODE_MUX_POLL_TIMER</ref>),</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>APP_MUX_POLL_TIMER_PERIOD,<sp/>Cy_PdAltMode_HW_MuxPollCbk);</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="522"><highlight class="normal">}</highlight></codeline>
<codeline lineno="523"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>MUX_POLL_EN<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="524"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>MUX_DELAY_EN<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="525"><highlight class="normal"></highlight></codeline>
<codeline lineno="526"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga9c8a69158389bc9aa1b7825bed6bf693" kindref="member">Cy_PdAltMode_HW_SetMux</ref>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1ga6e2d96963afcf43ec5dfe3d5a18d6bc6" kindref="member">cy_en_pdaltmode_mux_select_t</ref><sp/>muxCfg,<sp/>uint32_t<sp/>modeVdo,<sp/>uint32_t<sp/>customData)</highlight></codeline>
<codeline lineno="527"><highlight class="normal">{</highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)customData;</highlight></codeline>
<codeline lineno="529"><highlight class="normal"></highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>retval<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="531"><highlight class="normal"></highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1ab9d270cdb5005b6e616233e44eb41665" kindref="member">skipMuxConfig</ref><sp/>!=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>retval;</highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="536"><highlight class="normal"></highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(muxCfg<sp/>==<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6a00c27609412e634611b145f99ab64778" kindref="member">CY_PDALTMODE_MUX_CONFIG_DEINIT</ref>)</highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="539"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>MUX_DELAY_EN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="540"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!GATKEX_CREEK</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Stop<sp/>Delay<sp/>timer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Stop)(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;ptrTimerContext,<sp/>CY_PDALTMODE_GET_TIMER_ID(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881ae4011f04142b5a9b9cfcec80dcf0a93c" kindref="member">CY_PDALTMODE_MUX_DELAY_TIMER</ref>));</highlight></codeline>
<codeline lineno="543"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="544"><highlight class="normal"></highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Clear<sp/>the<sp/>MUX<sp/>busy<sp/>flag<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a752511e4e69be13d3d08a7e606090361" kindref="member">isMuxBusy</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a5227b28b41b25c100d7b8a1da74128eb" kindref="member">appMuxUpdateReq</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="548"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>MUX_DELAY_EN<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="549"><highlight class="normal"></highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a895ba5492e974d13046b4d00de1bc076" kindref="member">appMuxState</ref><sp/>=<sp/>muxCfg;</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>retval;</highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="554"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>((!VIRTUAL_HPD_ENABLE)<sp/>&amp;&amp;<sp/>(DP_DFP_SUPP))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga1080d126d69cd3efe31e17ce2e7945a9" kindref="member">Cy_PdAltMode_HW_IsHostHpdVirtual</ref>(ptrAltModeContext)<sp/>==<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;dpmConfig.curPortType<sp/>!=<sp/>CY_PD_PRT_TYPE_UFP)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a2dd2e4b11b83b9f2e8538ba5857f2b15" kindref="member">altModeEntered</ref><sp/>!=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a312669392658f94717ac4d8a252070f3" kindref="member">altModeCmdPending</ref><sp/>==<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a68858b2d238f111502fe2adf3b971e6b" kindref="member">appMuxSavedCustomData</ref><sp/>=<sp/>customData;</highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a811dab7b6ffbf1a5c61a59e9fbdcabb2" kindref="member">appMuxSavedState</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>muxCfg;</highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a992d894354f88077a692d7382f34c8dd" kindref="member">appMuxSavedModeVdo</ref><sp/><sp/><sp/><sp/>=<sp/>modeVdo;</highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a5227b28b41b25c100d7b8a1da74128eb" kindref="member">appMuxUpdateReq</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>retval;</highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a752511e4e69be13d3d08a7e606090361" kindref="member">isMuxBusy</ref><sp/>==<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a5227b28b41b25c100d7b8a1da74128eb" kindref="member">appMuxUpdateReq</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="575"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(!VIRTUAL_HPD_ENABLE)<sp/>&amp;&amp;<sp/>(DP_DFP_SUPP)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="576"><highlight class="normal"></highlight></codeline>
<codeline lineno="577"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>MUX_DELAY_EN<sp/>&amp;&amp;<sp/>!GATKEX_CREEK</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a752511e4e69be13d3d08a7e606090361" kindref="member">isMuxBusy</ref><sp/>==<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Run<sp/>MUX<sp/>delay<sp/>timer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a0032d80be91c77ede3050a07d3867390" kindref="member">altModeAppStatus</ref>-&gt;<ref refid="structcy__stc__pdaltmode__status__t_1a752511e4e69be13d3d08a7e606090361" kindref="member">isMuxBusy</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="582"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>ICL_SLAVE_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;ptrTimerContext,<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>,</highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDALTMODE_GET_TIMER_ID(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881ae4011f04142b5a9b9cfcec80dcf0a93c" kindref="member">CY_PDALTMODE_MUX_DELAY_TIMER</ref>),</highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a114d59eee5374c695d29a049257e17b2" kindref="member">iclCfg</ref>-&gt;soc_mux_config_delay,<sp/>Cy_PdAltMode_HW_MuxDelayCbk);</highlight></codeline>
<codeline lineno="586"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;ptrTimerContext,<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>,</highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDALTMODE_GET_TIMER_ID(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881ae4011f04142b5a9b9cfcec80dcf0a93c" kindref="member">CY_PDALTMODE_MUX_DELAY_TIMER</ref>),</highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__common__macros_1gaa693d620e58d694d4d5c0d18d8fd27b5" kindref="member">CY_PDALTMODE_APP_MUX_VDM_DELAY_TIMER_PERIOD</ref>,<sp/>Cy_PdAltMode_HW_MuxDelayCbk);</highlight></codeline>
<codeline lineno="590"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>ICL_SLAVE_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a5227b28b41b25c100d7b8a1da74128eb" kindref="member">appMuxUpdateReq</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="592"><highlight class="normal"></highlight></codeline>
<codeline lineno="593"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>MUX_POLL_EN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Run<sp/>MUX<sp/>polling<sp/>timer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TIMER_CALL_MAP(Cy_PdUtils_SwTimer_Start)(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;ptrTimerContext,<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>,</highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CY_PDALTMODE_GET_TIMER_ID(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>,<sp/><ref refid="group__group__pdaltmode__vdm__alt__mode__manager__enums_1gga8ce268202ee29df67f500d14a1273881ae4f50104a124c127d3903f7973685b00" kindref="member">CY_PDALTMODE_MUX_POLL_TIMER</ref>),</highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>APP_MUX_POLL_TIMER_PERIOD,<sp/>Cy_PdAltMode_HW_MuxPollCbk);</highlight></codeline>
<codeline lineno="598"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>MUX_POLL_EN<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="601"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a68858b2d238f111502fe2adf3b971e6b" kindref="member">appMuxSavedCustomData</ref><sp/>=<sp/>customData;</highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a811dab7b6ffbf1a5c61a59e9fbdcabb2" kindref="member">appMuxSavedState</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>muxCfg;</highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a992d894354f88077a692d7382f34c8dd" kindref="member">appMuxSavedModeVdo</ref><sp/><sp/><sp/><sp/>=<sp/>modeVdo;</highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a5227b28b41b25c100d7b8a1da74128eb" kindref="member">appMuxUpdateReq</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>retval;</highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="608"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>MUX_DELAY_EN<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="609"><highlight class="normal"></highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Store<sp/>the<sp/>current<sp/>MUX<sp/>configuration<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a895ba5492e974d13046b4d00de1bc076" kindref="member">appMuxState</ref><sp/>=<sp/>muxCfg;</highlight></codeline>
<codeline lineno="612"><highlight class="normal"></highlight></codeline>
<codeline lineno="613"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>RIDGE_SLAVE_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>In<sp/>TBT<sp/>use<sp/>cases,<sp/>this<sp/>call<sp/>is<sp/>used<sp/>to<sp/>configure<sp/>the<sp/>SBU<sp/>MUX.</highlight></codeline>
<codeline lineno="615"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>This<sp/>has<sp/>to<sp/>be<sp/>configured<sp/>before<sp/>notifying<sp/>Alpine/Titan<sp/>Ridge.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((<ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6a743a2a853de00f7e298790af8dbd35d9" kindref="member">CY_PDALTMODE_MUX_CONFIG_RIDGE_CUSTOM</ref><sp/>==<sp/>muxCfg)<sp/>&amp;&amp;<sp/>(<ref refid="group__group__pdaltmode__common__macros_1ga2cb7840adbf420357dfbb997f0f2b3a3" kindref="member">CY_PDALTMODE_MNGR_NO_DATA</ref><sp/>==<sp/>customData))</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>retval<sp/>=<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga97c0022e506a44754f9b9a43c79332fc" kindref="member">Cy_PdAltMode_HW_MuxCtrlSetCfg</ref><sp/>(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6a534d4e763bd10e41f9fb90271aae956d" kindref="member">CY_PDALTMODE_MUX_CONFIG_ISOLATE</ref>);</highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(muxCfg<sp/>&lt;=<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6a743a2a853de00f7e298790af8dbd35d9" kindref="member">CY_PDALTMODE_MUX_CONFIG_RIDGE_CUSTOM</ref>)</highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>retval<sp/>=<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga97c0022e506a44754f9b9a43c79332fc" kindref="member">Cy_PdAltMode_HW_MuxCtrlSetCfg</ref><sp/>(ptrAltModeContext,<sp/>muxCfg);</highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>No<sp/>action<sp/>required<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="628"><highlight class="normal"></highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Update<sp/>the<sp/>Alpine/Titan<sp/>Ridge<sp/>status<sp/>register.<sp/>Do<sp/>this<sp/>even<sp/>if<sp/>the<sp/>above<sp/>call<sp/>failed.</highlight></codeline>
<codeline lineno="630"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>function<sp/>is<sp/>not<sp/>expected<sp/>to<sp/>fail<sp/>as<sp/>it<sp/>is<sp/>an<sp/>internal<sp/>operation.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>(void)<ref refid="group__group__pdaltmode__intel__functions_1ga7d3fb6813b92e16c658d05dfa2cd183e" kindref="member">Cy_PdAltMode_Ridge_SetMux</ref>(ptrAltModeContext,<sp/>muxCfg,<sp/>modeVdo,<sp/>customData);</highlight></codeline>
<codeline lineno="632"><highlight class="normal"></highlight></codeline>
<codeline lineno="633"><highlight class="normal"></highlight><highlight class="preprocessor">#elif<sp/>AMD_SUPP_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>In<sp/>AMD<sp/>use<sp/>cases,<sp/>this<sp/>call<sp/>is<sp/>used<sp/>to<sp/>configure<sp/>the<sp/>SBU<sp/>MUX.</highlight></codeline>
<codeline lineno="635"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>This<sp/>has<sp/>to<sp/>be<sp/>configured<sp/>before<sp/>notifying<sp/>the<sp/>SoC.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="636"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(muxCfg<sp/>&lt;=<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6a743a2a853de00f7e298790af8dbd35d9" kindref="member">CY_PDALTMODE_MUX_CONFIG_RIDGE_CUSTOM</ref>)</highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>retval<sp/>=<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga97c0022e506a44754f9b9a43c79332fc" kindref="member">Cy_PdAltMode_HW_MuxCtrlSetCfg</ref><sp/>(ptrAltModeContext,<sp/>muxCfg);</highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Update<sp/>AMD<sp/>SoC<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/>Cy_PdAltMode_Amd_SetMux(ptrAltModeContext,<sp/>muxCfg,<sp/>modeVdo,<sp/>customData);</highlight></codeline>
<codeline lineno="642"><highlight class="normal"></highlight></codeline>
<codeline lineno="643"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(muxCfg<sp/>&lt;=<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6a743a2a853de00f7e298790af8dbd35d9" kindref="member">CY_PDALTMODE_MUX_CONFIG_RIDGE_CUSTOM</ref>)</highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>retval<sp/>=<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga97c0022e506a44754f9b9a43c79332fc" kindref="member">Cy_PdAltMode_HW_MuxCtrlSetCfg</ref><sp/>(ptrAltModeContext,<sp/>muxCfg);</highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Call<sp/>custom<sp/>MUX<sp/>configuration<sp/>function<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>retval<sp/>=<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1gac1b0be463e79459561ca52ab1e2ceb53" kindref="member">Cy_PdAltMode_HW_CustomMuxSet</ref><sp/>(ptrAltModeContext,<sp/>muxCfg,<sp/>modeVdo,<sp/>customData);</highlight></codeline>
<codeline lineno="649"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(CY_HPI_ENABLED)<sp/>&amp;&amp;<sp/>(CY_HPI_PD_ENABLE)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!retval)</highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Notify<sp/>the<sp/>EC<sp/>if<sp/>there<sp/>is<sp/>a<sp/>MUX<sp/>access<sp/>error.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>HPI_CALL_MAP(Cy_Hpi_SendHwErrorEvent)(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;ptrHpiContext,</highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;port,<sp/>CY_HPI_SYS_HW_ERROR_MUX_ACCESS);</highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="656"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>retval<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="662"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>RIDGE_SLAVE_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="663"><highlight class="normal"></highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>retval;</highlight></codeline>
<codeline lineno="665"><highlight class="normal">}</highlight></codeline>
<codeline lineno="666"><highlight class="normal"></highlight></codeline>
<codeline lineno="667"><highlight class="normal">ATTRIBUTES_ALT_MODE<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga2df58f7520c458afe8e79e3d2d93cffb" kindref="member">Cy_PdAltMode_HW_IsIdle</ref>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext)</highlight></codeline>
<codeline lineno="668"><highlight class="normal">{</highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(!ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a312669392658f94717ac4d8a252070f3" kindref="member">altModeCmdPending</ref>);</highlight></codeline>
<codeline lineno="670"><highlight class="normal">}</highlight></codeline>
<codeline lineno="671"><highlight class="normal"></highlight></codeline>
<codeline lineno="672"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga793133b85af482bc9a3e9d5385e300e5" kindref="member">Cy_PdAltMode_HW_Sleep</ref>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext)</highlight></codeline>
<codeline lineno="673"><highlight class="normal">{</highlight></codeline>
<codeline lineno="674"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(!ICL_ENABLE)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="675"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>VIRTUAL_HPD_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga1080d126d69cd3efe31e17ce2e7945a9" kindref="member">Cy_PdAltMode_HW_IsHostHpdVirtual</ref>(ptrAltModeContext))</highlight></codeline>
<codeline lineno="677"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>VIRTUAL_HPD_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="678"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="679"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(!((defined<sp/>CCG5)<sp/>||<sp/>defined(CCG5C)<sp/>||<sp/>defined(CCG6)<sp/>||<sp/>defined(CCG6DF)<sp/>||<sp/>defined(CCG6SF)))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="680"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_DFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint8_t<sp/>port<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;port;</highlight></codeline>
<codeline lineno="682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Presence<sp/>of<sp/>a<sp/>callback<sp/>can<sp/>be<sp/>used<sp/>as<sp/>indication<sp/>that<sp/>the<sp/>HPD<sp/>block<sp/>is<sp/>active<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a22c9ff301a8608bcfea5b9811a1b8add" kindref="member">hwCmdCbk</ref><sp/>!=<sp/>NULL)</highlight></codeline>
<codeline lineno="684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>the<sp/>value<sp/>of<sp/>the<sp/>HPD<sp/>GPIO<sp/>based<sp/>on<sp/>the<sp/>last<sp/>event<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(port<sp/>==<sp/>0U)</highlight></codeline>
<codeline lineno="687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_GPIO_Write(Cy_GPIO_PortToAddr(HPD_P0_PORT_PIN<sp/>&gt;&gt;<sp/>4),<sp/>(HPD_P0_PORT_PIN<sp/>&amp;<sp/>0x0Fu),</highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(uint32_t)(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a8c08cfb1a182b6befb91682f41c3fadd" kindref="member">altModeHpdState</ref><sp/>&gt;<sp/>CY_USBPD_HPD_EVENT_UNPLUG));</highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_GPIO_Write(Cy_GPIO_PortToAddr(HPD_P1_PORT_PIN<sp/>&gt;&gt;<sp/>4),<sp/>(HPD_P1_PORT_PIN<sp/>&amp;<sp/>0x0Fu),</highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(uint32_t)(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a8c08cfb1a182b6befb91682f41c3fadd" kindref="member">altModeHpdState</ref><sp/>&gt;<sp/>CY_USBPD_HPD_EVENT_UNPLUG));</highlight></codeline>
<codeline lineno="695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Move<sp/>the<sp/>HPD<sp/>pin<sp/>from<sp/>HPD<sp/>IO<sp/>mode<sp/>to<sp/>GPIO<sp/>mode<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_USBPD_Hpd_SleepEntry<sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;ptrUsbPdContext);</highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="699"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_DFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="700"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(!((defined<sp/>CCG5)<sp/>||<sp/>defined(CCG5C)<sp/>||<sp/>defined(CCG6)<sp/>||<sp/>defined(CCG6DF)<sp/>||<sp/>defined(CCG6SF)))<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="701"><highlight class="normal"></highlight></codeline>
<codeline lineno="702"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(DP_UFP_SUPP)<sp/>&amp;&amp;<sp/>(PMG1_HPD_RX_ENABLE)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Prepare<sp/>to<sp/>enter<sp/>deep<sp/>sleep<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_USBPD_Hpd_RxSleepEntry<sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;ptrUsbPdContext,</highlight></codeline>
<codeline lineno="705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga239f8abedb3eb591e01a5ba59251ccc1" kindref="member">Cy_PdAltMode_HW_DpSnkGetHpdState</ref>(ptrAltModeContext));</highlight></codeline>
<codeline lineno="706"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_UFP_SUPP<sp/>&amp;&amp;<sp/>PMG1_HPD_RX_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="707"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="708"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/><sp/><sp/>CY_UNUSED_PARAMETER(ptrAltModeContext);</highlight></codeline>
<codeline lineno="710"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(!ICL_ENABLE)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="711"><highlight class="normal">}</highlight></codeline>
<codeline lineno="712"><highlight class="normal"></highlight></codeline>
<codeline lineno="713"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga09761d6234985bc5a783e91522f6b468" kindref="member">Cy_PdAltMode_HW_Wakeup</ref>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext)</highlight></codeline>
<codeline lineno="714"><highlight class="normal">{</highlight></codeline>
<codeline lineno="715"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(!ICL_ENABLE)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="716"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>VIRTUAL_HPD_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga1080d126d69cd3efe31e17ce2e7945a9" kindref="member">Cy_PdAltMode_HW_IsHostHpdVirtual</ref>(ptrAltModeContext))</highlight></codeline>
<codeline lineno="718"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>VIRTUAL_HPD_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="720"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(!((defined<sp/>CCG5)<sp/>||<sp/>defined(CCG5C)<sp/>||<sp/>defined(CCG6)<sp/>||<sp/>defined(CCG6DF)<sp/>||<sp/>defined(CCG6SF)))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="721"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DP_DFP_SUPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Presence<sp/>of<sp/>a<sp/>callback<sp/>can<sp/>be<sp/>used<sp/>as<sp/>indication<sp/>that<sp/>the<sp/>HPD<sp/>block<sp/>is<sp/>active<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a22c9ff301a8608bcfea5b9811a1b8add" kindref="member">hwCmdCbk</ref><sp/>!=<sp/>NULL)</highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Move<sp/>the<sp/>HPD<sp/>pin<sp/>back<sp/>to<sp/>HPD<sp/>IO<sp/>mode<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_USBPD_Hpd_Wakeup<sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;ptrUsbPdContext,</highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a8c08cfb1a182b6befb91682f41c3fadd" kindref="member">altModeHpdState</ref><sp/>&gt;<sp/>CY_USBPD_HPD_EVENT_UNPLUG));</highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="729"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_DFP_SUPP<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="730"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(!((defined<sp/>CCG5)<sp/>||<sp/>defined(CCG5C)<sp/>||<sp/>defined(CCG6)<sp/>||<sp/>defined(CCG6DF)<sp/>||<sp/>defined(CCG6SF)))<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="731"><highlight class="normal"></highlight></codeline>
<codeline lineno="732"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(DP_UFP_SUPP)<sp/>&amp;&amp;<sp/>(PMG1_HPD_RX_ENABLE)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Wakeup<sp/>and<sp/>revert<sp/>HPD<sp/>RX<sp/>configurations.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cy_USBPD_Hpd_RxWakeup<sp/>(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>-&gt;ptrUsbPdContext);</highlight></codeline>
<codeline lineno="735"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DP_UFP_SUPP<sp/><sp/>&amp;&amp;<sp/>PMG1_HPD_RX_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="736"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="737"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="738"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)<sp/>ptrAltModeContext;</highlight></codeline>
<codeline lineno="739"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>(!ICL_ENABLE)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="740"><highlight class="normal">}</highlight></codeline>
<codeline lineno="741"><highlight class="normal"></highlight></codeline>
<codeline lineno="742"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga0b862c9d1a56452a4bbc158b340d8354" kindref="member">Cy_PdAltMode_HW_MuxCtrlInit</ref><sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext)</highlight></codeline>
<codeline lineno="743"><highlight class="normal">{</highlight></codeline>
<codeline lineno="744"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Leave<sp/>the<sp/>MUX<sp/>in<sp/>isolate<sp/>mode<sp/>at<sp/>start<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(<ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga97c0022e506a44754f9b9a43c79332fc" kindref="member">Cy_PdAltMode_HW_MuxCtrlSetCfg</ref><sp/>(ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6a534d4e763bd10e41f9fb90271aae956d" kindref="member">CY_PDALTMODE_MUX_CONFIG_ISOLATE</ref>));</highlight></codeline>
<codeline lineno="746"><highlight class="normal">}</highlight></codeline>
<codeline lineno="747"><highlight class="normal"></highlight></codeline>
<codeline lineno="748"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Function<sp/>used<sp/>to<sp/>configure<sp/>the<sp/>SBU<sp/>MUX<sp/>based<sp/>on<sp/>the<sp/>active<sp/>Alt<sp/>Modes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="749"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga97c0022e506a44754f9b9a43c79332fc" kindref="member">Cy_PdAltMode_HW_MuxCtrlSetCfg</ref><sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1ga6e2d96963afcf43ec5dfe3d5a18d6bc6" kindref="member">cy_en_pdaltmode_mux_select_t</ref><sp/>cfg)</highlight></codeline>
<codeline lineno="750"><highlight class="normal">{</highlight></codeline>
<codeline lineno="751"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_en_usbpd_dpdm_mux_cfg_t<sp/>dpdmConf;</highlight></codeline>
<codeline lineno="752"><highlight class="normal"></highlight></codeline>
<codeline lineno="753"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_en_usbpd_sbu_switch_state_t<sp/>sbu1Conf<sp/>=<sp/>CY_USBPD_SBU_NOT_CONNECTED;</highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_en_usbpd_sbu_switch_state_t<sp/>sbu2Conf<sp/>=<sp/>CY_USBPD_SBU_NOT_CONNECTED;</highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/><sp/><sp/>cy_stc_pdstack_context_t<sp/>*ptrPdStackContext<sp/>=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a34f18ac1a604068a73e013c483d55104" kindref="member">pdStackContext</ref>;</highlight></codeline>
<codeline lineno="756"><highlight class="normal"></highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>We<sp/>need<sp/>to<sp/>configure<sp/>the<sp/>SBU<sp/>and<sp/>DP/DM<sp/>MUX<sp/>blocks<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="758"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((ptrPdStackContext-&gt;port<sp/>&lt;<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a35f7d32a2f42b36992cf929c7cb62629" kindref="member">noOfTypeCPorts</ref>)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="759"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(CY_PDALTMODE_HW_MAKE_MUX_STATE((ptrPdStackContext-&gt;dpmConfig.polarity),<sp/>((uint8_t)cfg))<sp/>!=<sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a204760ad38feca9dccea78dca31fe854" kindref="member">muxCurState</ref>))</highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="761"><highlight class="normal"></highlight></codeline>
<codeline lineno="762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Enable<sp/>USB<sp/>2.0<sp/>connections<sp/>through<sp/>the<sp/>appropriate<sp/>signals<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptrPdStackContext-&gt;dpmConfig.polarity<sp/>!=<sp/>0U)</highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpdmConf<sp/>=<sp/>CY_USBPD_DPDM_MUX_CONN_USB_BOT;</highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpdmConf<sp/>=<sp/>CY_USBPD_DPDM_MUX_CONN_USB_TOP;</highlight></codeline>
<codeline lineno="770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="771"><highlight class="normal"></highlight></codeline>
<codeline lineno="772"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(GATKEX_CREEK<sp/>!=<sp/>1)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="773"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>((DP_DFP_SUPP)<sp/>||<sp/>(DP_UFP_SUPP)<sp/>||<sp/>(TBT_DFP_SUPP)<sp/>||<sp/>(TBT_UFP_SUPP))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="774"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint8_t<sp/>appSbuConf<sp/>=<sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5294cf1776a4145b418b06b2e785c474" kindref="member">tbtCfg</ref>-&gt;sbu_conf;</highlight></codeline>
<codeline lineno="775"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>((DP_DFP_SUPP)<sp/>||<sp/>(DP_UFP_SUPP)<sp/>||<sp/>(TBT_DFP_SUPP)<sp/>||<sp/>(TBT_UFP_SUPP))<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="776"><highlight class="normal"></highlight></codeline>
<codeline lineno="777"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(cfg)</highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6a9821c57d38fa26bbb56d05fa8de673eb" kindref="member">CY_PDALTMODE_MUX_CONFIG_SAFE</ref>:</highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6a1bcda475ec873920e65bb3dc7f397656" kindref="member">CY_PDALTMODE_MUX_CONFIG_SS_ONLY</ref>:</highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Ensure<sp/>that<sp/>DP/DM<sp/>connection<sp/>is<sp/>still<sp/>enabled<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="783"><highlight class="normal"></highlight></codeline>
<codeline lineno="784"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>((DP_DFP_SUPP)<sp/>||<sp/>(DP_UFP_SUPP))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6afc353200bd55a4cba2100773ec6169f7" kindref="member">CY_PDALTMODE_MUX_CONFIG_DP_4_LANE</ref>:</highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6ad9dd6af58d168841fdf31666a58f6934" kindref="member">CY_PDALTMODE_MUX_CONFIG_DP_2_LANE</ref>:</highlight></codeline>
<codeline lineno="787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((appSbuConf<sp/>==<sp/>CY_PD_HOST_SBU_CFG_FULL)<sp/>&amp;&amp;<sp/>(ptrPdStackContext-&gt;dpmConfig.polarity<sp/>!=<sp/>0U))</highlight></codeline>
<codeline lineno="788"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="789"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Flipped<sp/>connection:<sp/>SBU1<sp/>&lt;-&gt;<sp/>AUXN,<sp/>SBU2<sp/>&lt;-&gt;<sp/>AUXP<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="790"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sbu1Conf<sp/>=<sp/>CY_USBPD_SBU_CONNECT_AUX2;</highlight></codeline>
<codeline lineno="791"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sbu2Conf<sp/>=<sp/>CY_USBPD_SBU_CONNECT_AUX1;</highlight></codeline>
<codeline lineno="792"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="793"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="794"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="795"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Straight<sp/>connection:<sp/>SBU1<sp/>&lt;-&gt;<sp/>AUXP,<sp/>SBU2<sp/>&lt;-&gt;<sp/>AUXN<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="796"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sbu1Conf<sp/>=<sp/>CY_USBPD_SBU_CONNECT_AUX1;</highlight></codeline>
<codeline lineno="797"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sbu2Conf<sp/>=<sp/>CY_USBPD_SBU_CONNECT_AUX2;</highlight></codeline>
<codeline lineno="798"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="799"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="800"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>((DP_DFP_SUPP)<sp/>||<sp/>(DP_UFP_SUPP))<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="801"><highlight class="normal"></highlight></codeline>
<codeline lineno="802"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>((TBT_DFP_SUPP)<sp/>||<sp/>(TBT_UFP_SUPP))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6a743a2a853de00f7e298790af8dbd35d9" kindref="member">CY_PDALTMODE_MUX_CONFIG_RIDGE_CUSTOM</ref>:</highlight></codeline>
<codeline lineno="804"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6a1755068e7f3502ce194ec92dc6b2b67e" kindref="member">CY_PDALTMODE_MUX_CONFIG_TBT_CUSTOM</ref>:</highlight></codeline>
<codeline lineno="805"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1gga6e2d96963afcf43ec5dfe3d5a18d6bc6ab4076832d3a534a424e3bb448bbb04ff" kindref="member">CY_PDALTMODE_MUX_CONFIG_USB4_CUSTOM</ref>:</highlight></codeline>
<codeline lineno="806"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>DELAYED_TBT_LSXX_CONNECT</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="807"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sbu1Conf<sp/>=<sp/>SBU_NOT_CONNECTED;</highlight></codeline>
<codeline lineno="808"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sbu2Conf<sp/>=<sp/>SBU_NOT_CONNECTED;</highlight></codeline>
<codeline lineno="809"><highlight class="normal"></highlight><highlight class="preprocessor">#else<sp/></highlight><highlight class="comment">/*<sp/>DELAYED_TBT_LSXX_CONNECT<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="810"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(appSbuConf<sp/>==<sp/>CY_PD_HOST_SBU_CFG_PASS_THROUGH)</highlight></codeline>
<codeline lineno="811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Always<sp/>connect<sp/>SBUx<sp/>to<sp/>AUX<sp/>side<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sbu1Conf<sp/>=<sp/>CY_USBPD_SBU_CONNECT_AUX1;</highlight></codeline>
<codeline lineno="814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sbu2Conf<sp/>=<sp/>CY_USBPD_SBU_CONNECT_AUX2;</highlight></codeline>
<codeline lineno="815"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="816"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="817"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="818"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((appSbuConf<sp/>==<sp/>CY_PD_HOST_SBU_CFG_FULL)<sp/>&amp;&amp;<sp/>(ptrPdStackContext-&gt;dpmConfig.polarity<sp/>!=<sp/>0U))</highlight></codeline>
<codeline lineno="819"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="820"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Flipped<sp/>connection:<sp/>SBU1<sp/>&lt;-&gt;<sp/>LSRX,<sp/>SBU2<sp/>&lt;-&gt;<sp/>LSTX<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="821"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sbu1Conf<sp/>=<sp/>CY_USBPD_SBU_CONNECT_LSRX;</highlight></codeline>
<codeline lineno="822"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sbu2Conf<sp/>=<sp/>CY_USBPD_SBU_CONNECT_LSTX;</highlight></codeline>
<codeline lineno="823"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="824"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="825"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="826"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Straight<sp/>connection:<sp/>SBU1<sp/>&lt;-&gt;<sp/>LSTX,<sp/>SBU2<sp/>&lt;-&gt;<sp/>LSRX<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="827"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sbu1Conf<sp/>=<sp/>CY_USBPD_SBU_CONNECT_LSTX;</highlight></codeline>
<codeline lineno="828"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sbu2Conf<sp/>=<sp/>CY_USBPD_SBU_CONNECT_LSRX;</highlight></codeline>
<codeline lineno="829"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="830"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="831"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>DELAYED_TBT_LSXX_CONNECT<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="832"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="833"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>((TBT_DFP_SUPP)<sp/>||<sp/>(TBT_UFP_SUPP))<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="834"><highlight class="normal"></highlight></codeline>
<codeline lineno="835"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="836"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>No<sp/>USB<sp/>2.0<sp/>connections<sp/>required<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="837"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dpdmConf<sp/>=<sp/>CY_USBPD_DPDM_MUX_CONN_NONE;</highlight></codeline>
<codeline lineno="838"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="839"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="840"><highlight class="normal"></highlight></codeline>
<codeline lineno="841"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="842"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sbu1Conf<sp/>=<sp/>CY_USBPD_SBU_CONNECT_LSTX;</highlight></codeline>
<codeline lineno="843"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sbu2Conf<sp/>=<sp/>CY_USBPD_SBU_CONNECT_LSRX;</highlight></codeline>
<codeline lineno="844"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="845"><highlight class="normal"></highlight></codeline>
<codeline lineno="846"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Configure<sp/>SBU<sp/>connections<sp/>as<sp/>required<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="847"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)Cy_USBPD_Mux_SbuSwitchConfigure(ptrPdStackContext-&gt;ptrUsbPdContext,<sp/>sbu1Conf,<sp/>sbu2Conf);</highlight></codeline>
<codeline lineno="848"><highlight class="normal"></highlight></codeline>
<codeline lineno="849"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Configure<sp/>D+/D-<sp/>MUX<sp/>as<sp/>required<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void)Cy_USBPD_Mux_ConfigDpDm(ptrPdStackContext-&gt;ptrUsbPdContext,<sp/>dpdmConf);</highlight></codeline>
<codeline lineno="851"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="852"><highlight class="normal"></highlight></codeline>
<codeline lineno="853"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Store<sp/>the<sp/>current<sp/>MUX<sp/>configuration<sp/>and<sp/>polarity<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="854"><highlight class="normal"><sp/><sp/><sp/><sp/>ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5790555497ca6a84993a77fced6c6379" kindref="member">hwDetails</ref>-&gt;<ref refid="structcy__stc__pdaltmode__hw__details__t_1a204760ad38feca9dccea78dca31fe854" kindref="member">muxCurState</ref><sp/>=<sp/>CY_PDALTMODE_HW_MAKE_MUX_STATE<sp/>((ptrPdStackContext-&gt;dpmConfig.polarity),<sp/>((uint8_t)cfg));</highlight></codeline>
<codeline lineno="855"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="856"><highlight class="normal">}</highlight></codeline>
<codeline lineno="857"><highlight class="normal"></highlight></codeline>
<codeline lineno="858"><highlight class="normal">__attribute__<sp/>((weak))<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1gac1b0be463e79459561ca52ab1e2ceb53" kindref="member">Cy_PdAltMode_HW_CustomMuxSet</ref><sp/>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*ptrAltModeContext,<sp/><ref refid="group__group__pdaltmode__alt__mode__hw__enums_1ga6e2d96963afcf43ec5dfe3d5a18d6bc6" kindref="member">cy_en_pdaltmode_mux_select_t</ref><sp/>muxCfg,<sp/>uint32_t<sp/>modeVdo,<sp/>uint32_t<sp/>customData)</highlight></codeline>
<codeline lineno="859"><highlight class="normal">{</highlight></codeline>
<codeline lineno="860"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)<sp/>ptrAltModeContext;</highlight></codeline>
<codeline lineno="861"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)<sp/>muxCfg;</highlight></codeline>
<codeline lineno="862"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)<sp/>modeVdo;</highlight></codeline>
<codeline lineno="863"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)<sp/>customData;</highlight></codeline>
<codeline lineno="864"><highlight class="normal"></highlight></codeline>
<codeline lineno="865"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="866"><highlight class="normal">}</highlight></codeline>
<codeline lineno="867"><highlight class="normal"></highlight></codeline>
<codeline lineno="868"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="group__group__pdaltmode__alt__mode__hw__functions_1ga1080d126d69cd3efe31e17ce2e7945a9" kindref="member">Cy_PdAltMode_HW_IsHostHpdVirtual</ref>(<ref refid="structcy__stc__pdaltmode__context__t" kindref="compound">cy_stc_pdaltmode_context_t</ref><sp/>*<sp/>ptrAltModeContext)</highlight></codeline>
<codeline lineno="869"><highlight class="normal">{</highlight></codeline>
<codeline lineno="870"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>ret<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="871"><highlight class="normal"></highlight></codeline>
<codeline lineno="872"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>VIRTUAL_HPD_ENABLE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="873"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(ptrAltModeContext-&gt;<ref refid="structcy__stc__pdaltmode__context__t_1a5294cf1776a4145b418b06b2e785c474" kindref="member">tbtCfg</ref>-&gt;hpd_handling<sp/>!=<sp/>0u)</highlight></codeline>
<codeline lineno="874"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="875"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="876"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="877"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="878"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)ptrAltModeContext;</highlight></codeline>
<codeline lineno="879"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>VIRTUAL_HPD_ENABLE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="880"><highlight class="normal"></highlight></codeline>
<codeline lineno="881"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="882"><highlight class="normal">}</highlight></codeline>
<codeline lineno="883"><highlight class="normal"></highlight></codeline>
<codeline lineno="884"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>[]<sp/>END<sp/>OF<sp/>FILE<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="cy_pdaltmode_hw.c"/>
  </compounddef>
</doxygen>
